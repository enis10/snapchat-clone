/*! For license information please see main.57da1cd0.js.LICENSE.txt */
!function(){var e={110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var s=u(t),v=u(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case s:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===s||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L,F=Object.assign;function U(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var u="\n"+i[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case E:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,xe=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ce(e){Se?xe?xe.push(e):xe=[e]:Se=e}function Te(){if(Se){var e=Se,t=xe;if(xe=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function Re(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ie(e,t,n)}finally{Ne=!1,(null!==Se||null!==xe)&&(Re(),Te())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Ae=!1}function Me(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,a,o,s,u){Le=!1,Fe=null,Me.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,St,xt,Et,Ct=!1,Tt=[],It=null,Rt=null,Nt=null,Pt=new Map,Ot=new Map,At=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){Ct=!1,null!==It&&Ut(It)&&(It=null),null!==Rt&&Ut(Rt)&&(Rt=null),null!==Nt&&Ut(Nt)&&(Nt=null),Pt.forEach(jt),Ot.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==Rt&&zt(Rt,e),null!==Nt&&zt(Nt,e),Pt.forEach(t),Ot.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ft(n),null===n.blockedOn&&At.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Wt){var i=Qt(e,t,n,r);if(null===i)Wr(e,t,r,$t,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Lt(It,e,t,n,r,i),!0;case"dragenter":return Rt=Lt(Rt,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Lt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Wr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),yn=an(F({},fn,{relatedTarget:0})),mn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return xn}var Cn=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Cn),In=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(Pn),An=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Dn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function $n(e){Ur(e,0)}function Qn(e){if(G(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Pe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==$(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},xr={};function Er(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return Sr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Er("animationend"),Tr=Er("animationiteration"),Ir=Er("animationstart"),Rr=Er("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Nr.set(e,t),u(t,[e])}for(var Ar=0;Ar<Pr.length;Ar++){var Dr=Pr[Ar];Or(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(Tr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Rr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,u,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,Ue||(Ue=!0,je=l)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Fr(i,s,c),a=u}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=gi(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}Pe((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Cr:case Tr:case Ir:u=mn;break;case Rr:u=Nn;break;case"scroll":u=hn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Oe(p,h))&&l.push(Hr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:bi(u),d=null==c?s:bi(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)l=Gr(l),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Gr(l),h=Gr(h)}l=null}else l=null;null!==u&&$r(o,s,u,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(u=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var y=Xn;else if(Wn(s))if(Yn)y=or;else{y=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=ar);switch(y&&(y=y(e,r))?Hn(o,y,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?bi(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(m=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Jt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Oe(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Oe(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Oe(n,a))&&o.unshift(Hr(n,u,s)):i||null!=(u=Oe(n,a))&&o.push(Hr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],Si=-1;function xi(e){return{current:e}}function Ei(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Ci(e,t){Si++,_i[Si]=e.current,e.current=t}var Ti={},Ii=xi(Ti),Ri=xi(!1),Ni=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ai(){Ei(Ri),Ei(Ii)}function Di(e,t,n){if(Ii.current!==Ti)throw Error(a(168));Ci(Ii,t),Ci(Ri,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ii.current,Ci(Ii,e),Ci(Ri,Ri.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ri),Ei(Ii),Ci(Ii,e)):Ei(Ri),Ci(Ri,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=kt;try{var n=Ui;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],$i=0,Qi=null,Xi=1,Yi="";function Ji(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[$i++]=Xi,Gi[$i++]=Yi,Gi[$i++]=Qi,Qi=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Xi=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Qi;)Qi=Gi[--$i],Gi[$i]=null,Yi=Gi[--$i],Gi[$i]=null,Xi=Gi[--$i],Gi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(ua(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=xi(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ma.current;Ei(ma),e._currentValue=t}function Sa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ca=null;function Ta(e){null===Ca?Ca=[e]:Ca.push(e)}function Ia(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ra(e,r)}function Ra(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Iu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ra(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ra(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===o?a=c:o.next=c,o=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==a){var f=i.baseState;for(o=0,l=c=u=null,s=a;;){var h=s.lane,d=s.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else d={eventTime:d,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Lu|=o,e.lanes=o,e.memoizedState=f}}function Ua(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Aa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Aa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Da(e,a,i))&&(nc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Aa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Da(e,i,r))&&(nc(t,e,r,n),Ma(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Oi(t)?Ni:Ii.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ha(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Oi(t)?Ni:Ii.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===O&&$a(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case O:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case O:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,s,u){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<s.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,s[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===s.length)return n(i,f),ia&&Ji(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Ji(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(y=p(f,i,v,s[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),c}function y(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,v=s,y=s=0,m=null,g=u.next();null!==v&&!g.done;y++,g=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),s=o(k,s,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),l;if(null===v){for(;!g.done;y++,g=u.next())null!==(g=h(i,g.value,c))&&(s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return ia&&Ji(i,y),l}for(v=r(i,v);!g.done;y++,g=u.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),s=o(g,s,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),l}return function e(r,a,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===S){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===O&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ka(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===S?((a=Mc(o.props.children,r.mode,u,o.key)).return=r,r=a):((u=Dc(o.type,o.key,o.props,null,r.mode,u)).ref=Ka(r,a,o),u.return=r,r=u)}return s(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,u)).return=r,r=a}return s(r);case O:return e(r,a,(l=o._init)(o._payload),u)}if(te(o))return v(r,a,o,u);if(M(o))return y(r,a,o,u);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Fc(o,r.mode,u)).return=r,r=a),s(r)):n(r,a)}}var Xa=Qa(!0),Ya=Qa(!1),Ja={},Za=xi(Ja),eo=xi(Ja),to=xi(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ci(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=ue(t,e.type);t!==n&&(Ci(eo,e),Ci(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var so=xi(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(ko)}if(fo.current=os,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Io(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var u=s=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=h,s=r):c=c.next=h,vo.lanes|=f,Lu|=f}l=l.next}while(null!==l&&l!==o);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Lu|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Oo(e,t){var n=vo,r=To(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Do.bind(null,n,r,i,t),void 0,null),null===Ru)throw Error(a(349));0!==(30&po)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Fo(e){var t=Ra(e,1);null!==t&&nc(t,e,1,-1)}function Uo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Co();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&So(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Wo(e,t){return Bo(2048,8,e,t)}function Ho(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function Qo(){}function Xo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),vo.lanes|=n,Lu|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function es(){return To().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Ia(e,t,n,r))){nc(n,e,r,ec()),as(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(i.next=i,Ta(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ia(e,t,i,r))&&(nc(n,e,r,i=ec()),as(n,t,r))}}function rs(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function is(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function as(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var os={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},ss={readContext:Ea,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Uo,useDebugValue:Qo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Co();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ru)throw Error(a(349));0!==(30&po)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Ru.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Wo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Yo,useReducer:Ro,useRef:Vo,useState:function(){return Ro(Io)},useDebugValue:Qo,useDeferredValue:function(e){return Jo(To(),yo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},cs={readContext:Ea,useCallback:Xo,useContext:Ea,useEffect:Wo,useImperativeHandle:$o,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Io)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Aa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wu||(Wu=!0,Hu=r),hs(0,t)},n}function vs(e,t,n){(n=Aa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Aa(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ks=b.ReactCurrentOwner,bs=!1;function ws(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Xa(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var a=t.ref;return xa(t,i),r=xo(e,t,n,r,a,i),n=Eo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,xs(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Ac(a,r)).ref=t.ref,e.return=t,t.child=e}function xs(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Au,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Au,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ci(Au,Ou),Ou|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ci(Au,Ou),Ou|=r;return ws(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Oi(n)?Ni:Ii.current;return a=Pi(t,a),xa(t,i),n=xo(e,t,n,r,a,i),r=Eo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Is(e,t,n,r,i){if(Oi(n)){var a=!0;Li(t)}else a=!1;if(xa(t,i),null===t.stateNode)qs(e,t),qa(t,n,r),Ha(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Oi(n)?Ni:Ii.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),u=t.memoizedState,s!==r||h!==u||Ri.current||Na?("function"===typeof l&&(Va(t,n,l,r),u=t.memoizedState),(s=Na||Ba(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oa(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ya(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ea(u):u=Pi(t,u=Oi(n)?Ni:Ii.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&Wa(t,o,r,u),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||Ri.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,u)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Rs(e,t,n,r,a,i)}function Rs(e,t,n,r,i,a){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ws(e,t,a);r=t.stateNode,ks.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xa(t,e.child,null,a),t.child=Xa(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),ro(e,t.containerInfo)}function Ps(e,t,n,r,i){return da(),pa(i),t.flags|=256,ws(e,t,n,r),t.child}var Os,As,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(so,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Lc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):Us(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,js(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xa(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return js(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,js(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(u=0!==(s&e.childLanes),bs||u){if(null!==(r=Ru)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ra(e,i),nc(r,e,i,-1))}return vc(),js(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[$i++]=Xi,Gi[$i++]=Yi,Gi[$i++]=Qi,Xi=e.id,Yi=e.overflow,Qi=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,u,i,r,o,n);if(s){s=i.fallback,u=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Ac(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ls(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ac(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){return null!==r&&pa(r),Xa(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Sa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(so,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gs(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Oi(t.type)&&Ai(),Ks(t),null;case 3:return r=t.stateNode,io(),Ei(Ri),Ei(Ii),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Ks(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ks(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var u in ge(n,o),i=null,o)if(o.hasOwnProperty(u)){var c=o[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[hi]=t,e[di]=r,Os(e,t),t.stateNode=e;e:{switch(u=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)jr(Mr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=Q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=l&&"onScroll"===o&&jr("scroll",e):null!=l&&k(e,o,l,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ds(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ks(t),null;case 13:if(Ei(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===Du&&(Du=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ks(t),null;case 10:return _a(t.type._context),Ks(t),null;case 19:if(Ei(so),null===(o=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)Hs(o,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bu&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ia)return Ks(t),null}else 2*Ye()-o.renderingStartTime>Bu&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=so.current,Ci(so,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $s(e,t){switch(ta(t),t.tag){case 1:return Oi(t.type)&&Ai(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ri),Ei(Ii),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(so),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&jr("scroll",e),o||u===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){xc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&eu(t,n,a)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function au(e){var t=e.alternate;null!==t&&(e.alternate=null,au(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ou(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ou(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function hu(e,t,n){for(n=n.child;null!==n;)du(e,t,n),n=n.sibling}function du(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=lu,i=fu;lu=null,hu(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Bt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,hu(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&eu(n,t,o),i=i.next}while(i!==r)}hu(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){xc(n,t,s)}hu(e,t,n);break;case 21:hu(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,hu(e,t,n),Xs=r):hu(e,t,n);break;default:hu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(a(160));du(o,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){xc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yu(t,e),t=t.sibling}function yu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(y){xc(e,e.return,y)}try{nu(5,e,e.return)}catch(y){xc(e,e.return,y)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){xc(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(u,s);var l=ke(u,o);for(s=0;s<c.length;s+=2){var f=c[s],h=c[s+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(u){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){xc(e,e.return,y)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){xc(e,e.return,y)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){xc(e,e.return,y)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(l=Xs)||f,vu(t,e),Xs=l):vu(t,e),mu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(h=Js=f;null!==Js;){switch(p=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nu(4,d,d.return);break;case 1:Zs(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){xc(r,n,y)}}break;case 5:Zs(d,d.return);break;case 22:if(null!==d.memoizedState){wu(h);continue}}null!==p?(p.return=d,Js=p):wu(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(y){xc(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){xc(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ou(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;uu(e,su(e),o);break;default:throw Error(a(161))}}catch(s){xc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qs;if(!o){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=o,(Xs=u)&&!c)for(Js=i;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?_u(i):null!==u?(u.return=o,Js=u):_u(i);for(;null!==a;)Js=a,ku(a,t,n),a=a.sibling;Js=i,Qs=s,Xs=c}bu(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Js=a):bu(e)}}function bu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ua(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ua(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Xs||512&t.flags&&iu(t)}catch(d){xc(t,t.return,d)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function wu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _u(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){xc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){xc(t,i,u)}}var a=t.return;try{iu(t)}catch(u){xc(t,a,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){xc(t,o,u)}}}catch(u){xc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Su,xu=Math.ceil,Eu=b.ReactCurrentDispatcher,Cu=b.ReactCurrentOwner,Tu=b.ReactCurrentBatchConfig,Iu=0,Ru=null,Nu=null,Pu=0,Ou=0,Au=xi(0),Du=0,Mu=null,Lu=0,Fu=0,Uu=0,ju=null,Vu=null,zu=0,Bu=1/0,qu=null,Wu=!1,Hu=null,Ku=null,Gu=!1,$u=null,Qu=0,Xu=0,Yu=null,Ju=-1,Zu=0;function ec(){return 0!==(6&Iu)?Ye():-1!==Ju?Ju:Ju=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Iu)&&0!==Pu?Pu&-Pu:null!==va.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,r){if(50<Xu)throw Xu=0,Yu=null,Error(a(185));mt(e,n,r),0!==(2&Iu)&&e===Ru||(e===Ru&&(0===(2&Iu)&&(Fu|=n),4===Du&&sc(e,Pu)),rc(e,r),1===n&&0===Iu&&0===(1&t.mode)&&(Bu=Ye()+500,ji&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,u=i[o];-1===u?0!==(s&n)&&0===(s&r)||(i[o]=dt(s,t)):u<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===Ru?Pu:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===(6&Iu)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,Zu=0,0!==(6&Iu))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===Ru?Pu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Iu;Iu|=2;var o=pc();for(Ru===e&&Pu===t||(qu=null,Bu=Ye()+500,hc(e,t));;)try{gc();break}catch(u){dc(e,u)}wa(),Eu.current=o,Iu=i,null!==Nu?t=0:(Ru=null,Pu=0,t=Du)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Mu,hc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Mu,hc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vu,qu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zu+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),t);break}wc(e,Vu,qu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xu(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vu,qu),r);break}wc(e,Vu,qu);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=ju;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vu,Vu=n,null!==t&&oc(t)),e}function oc(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function sc(e,t){for(t&=~Uu,t&=~Fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Iu))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Mu,hc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vu,qu),rc(e,Ye()),null}function cc(e,t){var n=Iu;Iu|=1;try{return e(t)}finally{0===(Iu=n)&&(Bu=Ye()+500,ji&&Bi())}}function lc(e){null!==$u&&0===$u.tag&&0===(6&Iu)&&_c();var t=Iu;Iu|=1;var n=Tu.transition,r=kt;try{if(Tu.transition=null,kt=1,e)return e()}finally{kt=r,Tu.transition=n,0===(6&(Iu=t))&&Bi()}}function fc(){Ou=Au.current,Ei(Au)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nu)for(n=Nu.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:io(),Ei(Ri),Ei(Ii),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(so);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ru=e,Nu=e=Ac(e.current,null),Pu=Ou=t,Du=0,Mu=null,Uu=Fu=Lu=0,Vu=ju=null,null!==Ca){for(t=0;t<Ca.length;t++)if(null!==(r=(n=Ca[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ca=null}return e}function dc(e,t){for(;;){var n=Nu;try{if(wa(),fo.current=os,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Cu.current=null,null===n||null===n.return){Du=1,Mu=t,Nu=null;break}e:{var o=e,s=n.return,u=n,c=t;if(t=Pu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,gs(p,s,u,0,t),1&p.mode&&ys(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){ys(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gs(m,s,u,0,t),pa(ls(c,u));break e}}o=c=ls(c,u),4!==Du&&(Du=2),null===ju?ju=[o]:ju.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,ps(0,c,t));break e;case 1:u=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ku||!Ku.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vs(o,u,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Nu===n&&null!==n&&(Nu=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=os,null===e?os:e}function vc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Ru||0===(268435455&Lu)&&0===(268435455&Fu)||sc(Ru,Pu)}function yc(e,t){var n=Iu;Iu|=2;var r=pc();for(Ru===e&&Pu===t||(qu=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Iu=n,Eu.current=r,null!==Nu)throw Error(a(261));return Ru=null,Pu=0,Du}function mc(){for(;null!==Nu;)kc(Nu)}function gc(){for(;null!==Nu&&!Qe();)kc(Nu)}function kc(e){var t=Su(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bc(e):Nu=t,Cu.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ou)))return void(Nu=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Nu=n);if(null===e)return Du=6,void(Nu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nu=t);Nu=t=e}while(null!==t);0===Du&&(Du=5)}function wc(e,t,n){var r=kt,i=Tu.transition;try{Tu.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==$u);if(0!==(6&Iu))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ru&&(Nu=Ru=null,Pu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gu||(Gu=!0,Rc(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tu.transition,Tu.transition=null;var s=kt;kt=1;var u=Iu;Iu|=4,Cu.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(u=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(u=s),d===o&&++f===r&&(c=s),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){xc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),yu(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,gu(n,e,i),Xe(),Iu=u,kt=s,Tu.transition=o}else e.current=n;if(Gu&&(Gu=!1,$u=e,Qu=i),0===(o=e.pendingLanes)&&(Ku=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Wu)throw Wu=!1,e=Hu,Hu=null,e;0!==(1&Qu)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Yu?Xu++:(Xu=0,Yu=e):Xu=0,Bi()}(e,t,n,r)}finally{Tu.transition=i,kt=r}return null}function _c(){if(null!==$u){var e=bt(Qu),t=Tu.transition,n=kt;try{if(Tu.transition=null,kt=16>e?16:e,null===$u)var r=!1;else{if(e=$u,$u=null,Qu=0,0!==(6&Iu))throw Error(a(331));var i=Iu;for(Iu|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Js=h;else for(;null!==Js;){var d=(f=Js).sibling,p=f.return;if(au(f),f===l){Js=null;break}if(null!==d){d.return=p,Js=d;break}Js=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:nu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Js=g;break e}Js=o.return}}var k=e.current;for(Js=k;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=k;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(_){xc(u,u.return,_)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(Iu=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Tu.transition=t}}return!1}function Sc(e,t,n){e=Da(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function xc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=Da(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Pu&n)===n&&(4===Du||3===Du&&(130023424&Pu)===Pu&&500>Ye()-zu?hc(e,0):Uu|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Ra(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Rc(e,t){return Ge(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Nc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Oc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case x:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case R:return(e=Pc(13,n,t,i)).elementType=R,e.lanes=o,e;case N:return(e=Pc(19,n,t,i)).elementType=N,e.lanes=o,e;case A:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case T:s=9;break e;case I:s=11;break e;case P:s=14;break e;case O:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,s,u){return e=new jc(e,t,n,s,u),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Pc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,s,u){return(e=Vc(n,r,!0,e,0,a,0,s,u)).context=Bc(null),n=e.current,(a=Aa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Da(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Aa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(i,t,o))&&(nc(e,i,o,a),Ma(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),da();break;case 5:ao(t);break;case 1:Oi(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ci(so,1&so.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ci(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);xa(t,n),i=xo(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ha(t,r,e,n),t=Rs(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Oa(e,t),Fa(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ps(e,t,r,n,i=ls(Error(a(423)),t));break e}if(r!==i){t=Ps(e,t,r,n,i=ls(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Fs(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xa(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ci(ma,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!Ri.current){t=Ws(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Aa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Sa(o.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Sa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xa(t,n),r=r(i=Ea(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),Ss(e,t,r,i=ya(r.type,i),n);case 15:return xs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),qs(e,t),t.tag=1,Oi(r)?(e=!0,Li(t)):e=!1,xa(t,n),qa(t,r,i),Ha(t,r,i,n),Rs(null,t,r,!0,e,n);case 19:return Bs(e,t,n);case 22:return Es(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Hc(o);s.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Hc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=u,e[pi]=u.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(o)}Xc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Xc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Iu)&&(Bu=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Ra(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Ra(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Ra(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},xt=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cc,Re=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ce,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},97:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(r||i||a)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=r/i;i=(r=n.minScreenshotWidth||this.video.clientWidth)/a,n.minScreenshotHeight&&i<n.minScreenshotHeight&&(r=(i=n.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var o=this.ctx,s=this.canvas;return o&&s&&(n.mirrored&&(o.translate(s.width,0),o.scale(-1,1)),o.imageSmoothingEnabled=n.imageSmoothing,o.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(o.scale(-1,1),o.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,i){var a={video:"undefined"===typeof i||i};n.audio&&(a.audio="undefined"===typeof r||r),e.requestUserMediaId++;var o=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then((function(n){e.unmounted||o!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,o=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(o=e.id)}));var s=a(n.audioConstraints);s&&(t=s);var u=a(n.videoConstraints);u&&(o=u),r(i(t),i(o))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,i=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,l=n.children,f=o(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),h=s?a(a({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,d={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",a({autoPlay:!0,src:t.src,muted:!i,playsInline:!0,ref:function(t){e.video=t},style:h},f)),l&&l(d))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(791))},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=t[i]);var u=arguments.length-2;if(1===u)a.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===a[i]&&(a[i]=u[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===a?"."+I(u,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),R(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(u=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+I(s=e[c],c);u+=R(s,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=R(s=s.value,t,i,l=a+I(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function N(e,t,n){if(null==e)return e;var r=[],i=0;return R(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},A={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:A,ReactCurrentOwner:S};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!x.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>a(u,n))c<i&&0>a(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,A(_);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(C),C=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!R());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var u=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),u=!1}return u}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,x=!1,E=null,C=-1,T=5,I=-1;function R(){return!(t.unstable_now()-I<T)}function N(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?S():(x=!1,E=null)}}else x=!1}if("function"===typeof k)S=function(){k(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,O=P.port2;P.port1.onmessage=N,S=function(){O.postMessage(null)}}else S=function(){m(N,0)};function A(e){E=e,x||(x=!0,S())}function D(e,n){C=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,A(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(C),C=-1):y=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),v||p||(v=!0,A(_))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,s=n)}var o,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return u((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".6bd1636e.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="snapshat_clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/snapchat-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksnapshat_clone=self.webpackChunksnapshat_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250),i=n(248),a=n(327),o=n(164);var s=function(e){e()},u=function(){return s},c=e.createContext(null);function l(){return(0,e.useContext)(c)}var f=function(){throw new Error("uSES not initialized!")},h=f,d=function(e,t){return e===t};function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=t===c?l:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;var i=n(),a=i.store,o=i.subscription,s=i.getServerState,u=h(o.addNestedSub,a.getState,s||a.getState,t,r);return(0,e.useDebugValue)(u),u}}var v=p(),y=n(110),m=n.n(y);n(900);var g={notify:function(){},get:function(){return[]}};function k(e,t){var n,r=g;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=u(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=g)},getListeners:function(){return r}};return o}var b=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var w=function(t){var n=t.store,r=t.context,i=t.children,a=t.serverState,o=(0,e.useMemo)((function(){var e=k(n);return{store:n,subscription:e,getServerState:a?function(){return a}:void 0}}),[n,a]),s=(0,e.useMemo)((function(){return n.getState()}),[n]);b((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);var u=r||c;return e.createElement(u.Provider,{value:o},i)};function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=t===c?l:function(){return(0,e.useContext)(t)};return function(){return n().store}}var S=_();function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=e===c?S:_(e);return function(){return t().dispatch}}var E,C=x();function T(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function I(e){return!!e&&!!e[me]}function R(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ge}(e)||Array.isArray(e)||!!e[ye]||!!e.constructor[ye]||L(e)||F(e))}function N(e,t,n){void 0===n&&(n=!1),0===P(e)?(n?Object.keys:ke)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function P(e){var t=e[me];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:L(e)?2:F(e)?3:0}function O(e,t){return 2===P(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function A(e,t){return 2===P(e)?e.get(t):e[t]}function D(e,t,n){var r=P(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function M(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function L(e){return he&&e instanceof Map}function F(e){return de&&e instanceof Set}function U(e){return e.o||e.t}function j(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=be(e);delete t[me];for(var n=ke(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function V(e,t){return void 0===t&&(t=!1),B(e)||I(e)||!R(e)||(P(e)>1&&(e.set=e.add=e.clear=e.delete=z),Object.freeze(e),t&&N(e,(function(e,t){return V(t,!0)}),!0)),e}function z(){T(2)}function B(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function q(e){var t=we[e];return t||T(18,e),t}function W(e,t){we[e]||(we[e]=t)}function H(){return le}function K(e,t){t&&(q("Patches"),e.u=[],e.s=[],e.v=t)}function G(e){$(e),e.p.forEach(X),e.p=null}function $(e){e===le&&(le=e.l)}function Q(e){return le={p:[],l:le,h:e,m:!0,_:0}}function X(e){var t=e[me];0===t.i||1===t.i?t.j():t.O=!0}function Y(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||q("ES5").S(t,e,r),r?(n[me].P&&(G(t),T(4)),R(e)&&(e=J(t,e),t.l||ee(t,e)),t.u&&q("Patches").M(n[me].t,e,t.u,t.s)):e=J(t,n,[]),G(t),t.u&&t.v(t.u,t.s),e!==ve?e:void 0}function J(e,t,n){if(B(t))return t;var r=t[me];if(!r)return N(t,(function(i,a){return Z(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return ee(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=j(r.k):r.o;N(3===r.i?new Set(i):i,(function(t,a){return Z(e,r,i,t,a,n)})),ee(e,i,!1),n&&e.u&&q("Patches").R(r,n,e.u,e.s)}return r.o}function Z(e,t,n,r,i,a){if(I(i)){var o=J(e,i,a&&t&&3!==t.i&&!O(t.D,r)?a.concat(r):void 0);if(D(n,r,o),!I(o))return;e.m=!1}if(R(i)&&!B(i)){if(!e.h.F&&e._<1)return;J(e,i),t&&t.A.l||ee(e,i)}}function ee(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&V(t,n)}function te(e,t){var n=e[me];return(n?U(n):e)[t]}function ne(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function re(e){e.P||(e.P=!0,e.l&&re(e.l))}function ie(e){e.o||(e.o=j(e.t))}function ae(e,t,n){var r=L(t)?q("MapSet").N(t,n):F(t)?q("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:H(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=_e;n&&(i=[r],a=Se);var o=Proxy.revocable(i,a),s=o.revoke,u=o.proxy;return r.k=u,r.j=s,u}(t,n):q("ES5").J(t,n);return(n?n.A:H()).p.push(r),r}function oe(e){return I(e)||T(22,e),function e(t){if(!R(t))return t;var n,r=t[me],i=P(t);if(r){if(!r.P&&(r.i<4||!q("ES5").K(r)))return r.t;r.I=!0,n=se(t,i),r.I=!1}else n=se(t,i);return N(n,(function(t,i){r&&A(r.t,t)===i||D(n,t,e(i))})),3===i?new Set(n):n}(e)}function se(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return j(e)}function ue(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[me];return _e.get(t,e)},set:function(t){var n=this[me];_e.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][me];if(!i.P)switch(i.i){case 5:r(i)&&re(i);break;case 4:n(i)&&re(i)}}}function n(e){for(var t=e.t,n=e.k,r=ke(n),i=r.length-1;i>=0;i--){var a=r[i];if(a!==me){var o=t[a];if(void 0===o&&!O(t,a))return!0;var s=n[a],u=s&&s[me];if(u?u.t!==o:!M(s,o))return!0}}var c=!!t[me];return r.length!==ke(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};W("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var a=be(n);delete a[me];for(var o=ke(a),s=0;s<o.length;s++){var u=o[s];a[u]=e(u,t||!!a[u].enumerable)}return Object.create(Object.getPrototypeOf(n),a)}(r,t),a={i:r?5:4,A:n?n.A:H(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,me,{value:a,writable:!0}),i},S:function(e,n,i){i?I(n)&&n[me].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[me];if(n){var i=n.t,a=n.k,o=n.D,s=n.i;if(4===s)N(a,(function(t){t!==me&&(void 0!==i[t]||O(i,t)?o[t]||e(a[t]):(o[t]=!0,re(n)))})),N(i,(function(e){void 0!==a[e]||O(a,e)||(o[e]=!1,re(n))}));else if(5===s){if(r(n)&&(re(n),o.length=!0),a.length<i.length)for(var u=a.length;u<i.length;u++)o[u]=!1;else for(var c=i.length;c<a.length;c++)o[c]=!0;for(var l=Math.min(a.length,i.length),f=0;f<l;f++)a.hasOwnProperty(f)||(o[f]=!0),void 0===o[f]&&e(a[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}!function(e){h=e}(a.useSyncExternalStoreWithSelector),function(e){e}(i.useSyncExternalStore),E=o.unstable_batchedUpdates,s=E;var ce,le,fe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),he="undefined"!=typeof Map,de="undefined"!=typeof Set,pe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ve=fe?Symbol.for("immer-nothing"):((ce={})["immer-nothing"]=!0,ce),ye=fe?Symbol.for("immer-draftable"):"__$immer_draftable",me=fe?Symbol.for("immer-state"):"__$immer_state",ge=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ke="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,be=Object.getOwnPropertyDescriptors||function(e){var t={};return ke(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},we={},_e={get:function(e,t){if(t===me)return e;var n=U(e);if(!O(n,t))return function(e,t,n){var r,i=ne(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!R(r)?r:r===te(e.t,t)?(ie(e),e.o[t]=ae(e.A.h,r,e)):r},has:function(e,t){return t in U(e)},ownKeys:function(e){return Reflect.ownKeys(U(e))},set:function(e,t,n){var r=ne(U(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=te(U(e),t),a=null==i?void 0:i[me];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(M(n,i)&&(void 0!==n||O(e.t,t)))return!0;ie(e),re(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==te(e.t,t)||t in e.t?(e.D[t]=!1,ie(e),re(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=U(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){T(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){T(12)}},Se={};N(_e,(function(e,t){Se[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Se.deleteProperty=function(e,t){return Se.set.call(this,e,t,void 0)},Se.set=function(e,t,n){return _e.set.call(this,e[0],t,n,e[0])};var xe=function(){function e(e){var t=this;this.g=pe,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&T(6),void 0!==r&&"function"!=typeof r&&T(7),R(e)){var s=Q(t),u=ae(t,e,void 0),c=!0;try{o=n(u),c=!1}finally{c?G(s):$(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return K(s,r),Y(e,s)}),(function(e){throw G(s),e})):(K(s,r),Y(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===ve&&(o=void 0),t.F&&V(o,!0),r){var l=[],f=[];q("Patches").M(e,o,l,f),r(l,f)}return o}T(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){R(e)||T(8),I(e)&&(e=oe(e));var t=Q(this),n=ae(this,e,void 0);return n[me].C=!0,$(t),n},t.finishDraft=function(e,t){var n=(e&&e[me]).A;return K(n,t),Y(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!pe&&T(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=q("Patches").$;return I(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Ee=new xe,Ce=Ee.produce,Te=(Ee.produceWithPatches.bind(Ee),Ee.setAutoFreeze.bind(Ee),Ee.setUseProxies.bind(Ee),Ee.applyPatches.bind(Ee),Ee.createDraft.bind(Ee),Ee.finishDraft.bind(Ee),Ce);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Oe="function"===typeof Symbol&&Symbol.observable||"@@observable",Ae=function(){return Math.random().toString(36).substring(7).split("").join(".")},De={INIT:"@@redux/INIT"+Ae(),REPLACE:"@@redux/REPLACE"+Ae(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Ae()}};function Me(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Le(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Pe(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Pe(1));return n(Le)(e,t)}if("function"!==typeof e)throw new Error(Pe(2));var i=e,a=t,o=[],s=o,u=!1;function c(){s===o&&(s=o.slice())}function l(){if(u)throw new Error(Pe(3));return a}function f(e){if("function"!==typeof e)throw new Error(Pe(4));if(u)throw new Error(Pe(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Pe(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),o=null}}}function h(e){if(!Me(e))throw new Error(Pe(7));if("undefined"===typeof e.type)throw new Error(Pe(8));if(u)throw new Error(Pe(9));try{u=!0,a=i(a,e)}finally{u=!1}for(var t=o=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(Pe(10));i=e,h({type:De.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Pe(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[Oe]=function(){return this},e}return h({type:De.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[Oe]=p,r}function Fe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:De.INIT}))throw new Error(Pe(12));if("undefined"===typeof n(void 0,{type:De.PROBE_UNKNOWN_ACTION()}))throw new Error(Pe(13))}))}(n)}catch(s){a=s}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},s=0;s<o.length;s++){var u=o[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(Pe(14))}i[u]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Pe(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=Ue.apply(void 0,a)(n.dispatch),Ne(Ne({},n),{},{dispatch:r})}}}function Ve(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ze=Ve();ze.withExtraArgument=Ve;var Be=ze,qe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},He=Object.defineProperty,Ke=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ge=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,Qe=function(e,t,n){return t in e?He(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Xe=function(e,t){for(var n in t||(t={}))Ge.call(t,n)&&Qe(e,n,t[n]);if(Ke)for(var r=0,i=Ke(t);r<i.length;r++){n=i[r];$e.call(t,n)&&Qe(e,n,t[n])}return e},Ye="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Ue:Ue.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Je(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Ze=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return qe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,We([void 0],e[0].concat(this)))):new(t.bind.apply(t,We([void 0],e.concat(this))))},t}(Array);function et(e){return R(e)?Te(e,(function(){})):e}function tt(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ze);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Be.withExtraArgument(n.extraArgument)):r.push(Be));0;return r}(e)}}function nt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Xe(Xe({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function rt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function it(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:et(e.initialState),i=e.reducers||{},a=Object.keys(i),o={},s={},u={};function c(){var t="function"===typeof e.extraReducers?rt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,a=t[1],o=void 0===a?[]:a,u=t[2],c=void 0===u?void 0:u,l=Xe(Xe({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,a="function"===typeof t?rt(t):[t,n,r],o=a[0],s=a[1],u=a[2];if(function(e){return"function"===typeof e}(e))i=function(){return et(e())};else{var c=et(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=We([o[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(I(e))return"undefined"===typeof(r=n(e,t))?e:r;if(R(e))return Te(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,l,o,c)}return a.forEach((function(e){var n,r,a=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in a?(n=a.reducer,r=a.prepare):n=a,o[e]=n,s[c]=n,u[e]=r?nt(c,r):nt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:o,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}Object.assign;var at="listenerMiddleware";nt(at+"/add"),nt(at+"/removeAll"),nt(at+"/remove");ue();var ot,st=it({name:"camera",initialState:{cameraImage:null},reducers:{setCameraImage:function(e,t){e.cameraImage=t.payload},resetCameraImage:function(e){e.cameraImage=null}}}),ut=st.actions,ct=ut.setCameraImage,lt=ut.resetCameraImage,ft=function(e){return e.camera.cameraImage},ht=st.reducer,dt=it({name:"app",initialState:{user:null,selectedImage:null},reducers:{login:function(e,t){e.user=t.payload},logout:function(e){e.user=null},selectImage:function(e,t){e.selectedImage=t.payload},resetImage:function(e){e.selectedImage=null}}}),pt=dt.reducer,vt=function(e){return e.app.user},yt=function(e){return e.app.selectedImage},mt=dt.actions,gt=mt.login,kt=mt.logout,bt=mt.selectImage,wt=(mt.resetImage,function(e){var t,n=tt(),r=e||{},i=r.reducer,a=void 0===i?void 0:i,o=r.middleware,s=void 0===o?n():o,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,h=r.enhancers,d=void 0===h?void 0:h;if("function"===typeof a)t=a;else{if(!Je(a))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Fe(a)}var p=s;"function"===typeof p&&(p=p(n));var v=je.apply(void 0,p),y=Ue;c&&(y=Ye(Xe({trace:!1},"object"===typeof c&&c)));var m=[v];return Array.isArray(d)?m=We([v],d):"function"===typeof d&&(m=d(m)),Le(t,f,y.apply(void 0,m))}({reducer:{camera:ht,app:pt}}));function _t(e){if(Array.isArray(e))return e}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xt(e,t){if(e){if("string"===typeof e)return St(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(e,t):void 0}}function Et(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ct(e,t){return _t(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||xt(e,t)||Et()}function Tt(){return Tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tt.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(ot||(ot={}));var It=function(e){return e};var Rt="beforeunload",Nt="popstate";function Pt(e){e.preventDefault(),e.returnValue=""}function Ot(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function At(){return Math.random().toString(36).substr(2,8)}function Dt(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function Mt(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var Lt=(0,e.createContext)(null);var Ft=(0,e.createContext)(null);var Ut=(0,e.createContext)({outlet:null,matches:[]});function jt(e,t){if(!e)throw new Error(t)}function Vt(e,t,n){void 0===n&&(n="/");var r=$t(("string"===typeof t?Mt(t):t).pathname||"/",n);if(null==r)return null;var i=zt(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Ht(i[o],r);return a}function zt(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||jt(!1),a.relativePath=a.relativePath.slice(r.length));var o=Qt([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&jt(!1),zt(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:Wt(o,e.index),routesMeta:s})})),t}var Bt=/^:\w+$/,qt=function(e){return"*"===e};function Wt(e,t){var n=e.split("/"),r=n.length;return n.some(qt)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!qt(e)})).reduce((function(e,t){return e+(Bt.test(t)?3:""===t?1:10)}),r)}function Ht(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Kt({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:Qt([i,l.pathname]),pathnameBase:Xt(Qt([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=Qt([i,l.pathnameBase]))}return a}function Kt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Ct(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(qd){return e}}(c[n]||""),e}),{});return{params:l,pathname:s,pathnameBase:u,pattern:e}}function Gt(e,t,n){var r,i="string"===typeof e?Mt(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Mt(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:Yt(a),hash:Jt(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function $t(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var Qt=function(e){return e.join("/").replace(/\/\/+/g,"/")},Xt=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Yt=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Jt=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Zt(){return null!=(0,e.useContext)(Ft)}function en(){return Zt()||jt(!1),(0,e.useContext)(Ft).location}function tn(){Zt()||jt(!1);var t=(0,e.useContext)(Lt),n=t.basename,r=t.navigator,i=(0,e.useContext)(Ut).matches,a=en().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,e.useRef)(!1);(0,e.useEffect)((function(){s.current=!0}));var u=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=Gt(e,JSON.parse(o),a);"/"!==n&&(i.pathname=Qt([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}function nn(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,a){return(0,e.createElement)(Ut.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})}),null)}function rn(e){jt(!1)}function an(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?ot.Pop:s,c=t.navigator,l=t.static,f=void 0!==l&&l;Zt()&&jt(!1);var h=Xt(r),d=(0,e.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=Mt(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,b=void 0===k?"":k,w=p.state,_=void 0===w?null:w,S=p.key,x=void 0===S?"default":S,E=(0,e.useMemo)((function(){var e=$t(y,h);return null==e?null:{pathname:e,search:g,hash:b,state:_,key:x}}),[h,y,g,b,_,x]);return null==E?null:(0,e.createElement)(Lt.Provider,{value:d},(0,e.createElement)(Ft.Provider,{children:a,value:{location:E,navigationType:u}}))}function on(t){var n=t.children,r=t.location;return function(t,n){Zt()||jt(!1);var r,i=(0,e.useContext)(Ut).matches,a=i[i.length-1],o=a?a.params:{},s=(a&&a.pathname,a?a.pathnameBase:"/"),u=(a&&a.route,en());if(n){var c,l="string"===typeof n?Mt(n):n;"/"===s||(null==(c=l.pathname)?void 0:c.startsWith(s))||jt(!1),r=l}else r=u;var f=r.pathname||"/",h=Vt(t,{pathname:"/"===s?f:f.slice(s.length)||"/"});return nn(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:Qt([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:Qt([s,e.pathnameBase])})})),i)}(sn(n),r)}function sn(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==rn&&jt(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=sn(t.props.children)),n.push(r)}else n.push.apply(n,sn(t.props.children))})),n}var un=n(97),cn=n.n(un);function ln(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function fn(e,t){if(null==e)return{};var n,r,i=ln(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=hn(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var dn=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=hn(e))&&(r&&(r+=" "),r+=t);return r},pn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vn="object"===("undefined"===typeof window?"undefined":pn(window))&&"object"===("undefined"===typeof document?"undefined":pn(document))&&9===document.nodeType;function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e,t,n){return t&&yn(e.prototype,t),n&&yn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gn(e,t){return gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gn(e,t)}function kn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gn(e,t)}function bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var wn={}.constructor;function _n(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(_n);if(e.constructor!==wn)return e;var t={};for(var n in e)t[n]=_n(e[n]);return t}function Sn(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=_n(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var xn=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},En=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=xn(e[n]," ");else t=xn(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function Cn(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Tn(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function In(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var s=Cn(n),u=s.linebreak,c=s.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=Tn(h+":"+c+En(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=u),r+=Tn(p+":"+c+En(v)+";",a))}for(var y in t){var m=t[y];null!=m&&"fallbacks"!==y&&(r&&(r+=u),r+=Tn(y+":"+c+En(m)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),Tn(""+e+c+"{"+r,--a)+Tn("}",a)):r}var Rn=/([[\].#*$><+~=|^:(),"'`\s])/g,Nn="undefined"!==typeof CSS&&CSS.escape,Pn=function(e){return Nn?Nn(e):e.replace(Rn,"\\$1")},On=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var s=a&&o;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),An=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,s=r.sheet,u=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=u(bn(bn(i)),s),i.selectorText="."+Pn(i.id)),i}kn(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=En(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Tt({},e,{allowEmpty:!0}):e;return In(this.selectorText,this.style,n)},mn(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(On),Dn={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new An(e,t,n)}},Mn={indent:1,children:!0},Ln=/@([\w-]+)/,Fn=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Ln);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new sr(Tt({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Mn);var t=Cn(e).linebreak;if(null==e.indent&&(e.indent=Mn.indent),null==e.children&&(e.children=Mn.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Un=/@media|@supports\s+/,jn={onCreateRule:function(e,t,n){return Un.test(e)?new Fn(e,t,n):null}},Vn={indent:1,children:!0},zn=/@keyframes\s+([\w-]+)/,Bn=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(zn);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var s in this.id=!1===i?this.name:Pn(o(this,a)),this.rules=new sr(Tt({},n,{parent:this})),t)this.rules.add(s,t[s],Tt({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=Vn);var t=Cn(e).linebreak;if(null==e.indent&&(e.indent=Vn.indent),null==e.children&&(e.children=Vn.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),qn=/@keyframes\s+/,Wn=/\$([\w-]+)/g,Hn=function(e,t){return"string"===typeof e?e.replace(Wn,(function(e,n){return n in t?t[n]:e})):e},Kn=function(e,t,n){var r=e[t],i=Hn(r,n);i!==r&&(e[t]=i)},Gn={onCreateRule:function(e,t,n){return"string"===typeof e&&qn.test(e)?new Bn(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Kn(e,"animation-name",n.keyframes),"animation"in e&&Kn(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return Hn(e,r.keyframes);default:return e}}},$n=function(e){function t(){return e.apply(this,arguments)||this}return kn(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?Tt({},e,{allowEmpty:!0}):e;return In(this.key,this.style,n)},t}(On),Qn={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new $n(e,t,n):null}},Xn=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=Cn(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=In(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return In(this.at,this.style,e)},e}(),Yn=/@font-face/,Jn={onCreateRule:function(e,t,n){return Yn.test(e)?new Xn(e,t,n):null}},Zn=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return In(this.key,this.style,e)},e}(),er={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Zn(e,t,n):null}},tr=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),nr={"@charset":!0,"@import":!0,"@namespace":!0},rr={onCreateRule:function(e,t,n){return e in nr?new tr(e,t,n):null}},ir=[Dn,jn,Gn,Qn,Jn,er,rr],ar={process:!0},or={force:!0,process:!0},sr=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,s=r.Renderer,u=r.generateId,c=r.scoped,l=Tt({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:s,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(l.selector="."+Pn(this.classes[f]));var h=Sn(f,t,l);if(!h)return null;this.register(h);var d=void 0===l.index?this.index.length:l.index;return this.index.splice(d,0,h),h},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=Tt({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof An?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Bn&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof An?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Bn&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ar);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(a.onUpdate(n,t,o,r),r.process&&s&&s!==t.style){for(var u in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,or)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,or)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=Cn(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),ur=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=Tt({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new sr(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),cr=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),lr=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=ln(t,["attached"]),i=Cn(r).linebreak,a="",o=0;o<this.registry.length;o++){var s=this.registry[o];null!=n&&s.attached!==n||(a&&(a+=i),a+=s.toString(r))}return a},mn(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),fr=new lr,hr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),dr="2f1acc6c3a606b082e5eef5e54414ffb";null==hr[dr]&&(hr[dr]=0);var pr=hr[dr]++,vr=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+pr+i+t:a+n.key+"-"+pr+(i?"-"+i:"")+"-"+t}},yr=function(e){var t;return function(){return t||(t=e()),t}},mr=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},gr=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=En(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,r);else{var i=r?r.indexOf("!important"):-1,a=i>-1?r.substr(0,i-1):r;e.style.setProperty(t,a,i>-1?"important":"")}}catch(o){return!1}return!0},kr=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},br=function(e,t){return e.selectorText=t,e.selectorText===t},wr=yr((function(){return document.querySelector("head")}));function _r(e){var t=fr.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=wr(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Sr=yr((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),xr=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Er=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Cr=function(){function e(e){this.getPropertyValue=mr,this.setProperty=gr,this.removeProperty=kr,this.setSelector=br,this.hasInsertedRules=!1,this.cssRules=[],e&&fr.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Sr();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=_r(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else wr().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Er(n,t);if(!1===(i=xr(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var s=Er(n,t),u=xr(n,o,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof ur&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Tr=0,Ir=function(){function e(e){this.id=Tr++,this.version="10.9.2",this.plugins=new cr,this.options={id:{minify:!1},createGenerateId:vr,Renderer:vn?Cr:null,plugins:[]},this.generateId=vr({minify:!1});for(var t=0;t<ir.length;t++)this.plugins.use(ir[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=Tt({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===fr.index?0:fr.index+1);var r=new ur(e,Tt({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),fr.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=Tt({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=Sn(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Rr=function(e){return new Ir(e)},Nr="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Pr(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=Pr(r);a&&(t||(t={}),t[n]=a)}}return t}Rr();function Or(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=Tt({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Ar={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Dr=Ar;var Mr=e.createContext(null);function Lr(){return e.useContext(Mr)}var Fr="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Ur=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var jr=Date.now(),Vr="fnValues"+jr,zr="fnStyle"+ ++jr,Br=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=Sn(e,{},n);return r[zr]=t,r},onProcessStyle:function(e,t){if(Vr in t||zr in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Vr]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[zr];a&&(i.style=a(e)||{});var o=i[Vr];if(o)for(var s in o)i.prop(s,o[s](e),r)}}},qr="@global",Wr="@global ",Hr=function(){function e(e,t,n){for(var r in this.type="global",this.at=qr,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new sr(Tt({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Kr=function(){function e(e,t,n){this.type="global",this.at=qr,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Wr.length);this.rule=n.jss.createRule(r,t,Tt({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Gr=/\s*,\s*/g;function $r(e,t){for(var n=e.split(Gr),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Qr=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===qr)return new Hr(e,t,n);if("@"===e[0]&&e.substr(0,Wr.length)===Wr)return new Kr(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[qr]:null;if(i){for(var a in i)t.addRule(a,i[a],Tt({},n,{selector:$r(a,e.selector)}));delete r[qr]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,qr.length)===qr){var a=$r(i.substr(qr.length),e.selector);t.addRule(a,r[i],Tt({},n,{selector:a})),delete r[i]}}(e,t))}}},Xr=/\s*,\s*/g,Yr=/&/g,Jr=/\$([\w-]+)/g;var Zr=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Xr),r=e.split(Xr),i="",a=0;a<n.length;a++)for(var o=n[a],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(Yr,o):o+" "+u}return i}function n(e,t,n){if(n)return Tt({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=Tt({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,s,u=i,c=u.options.parent;for(var l in r){var f=-1!==l.indexOf("&"),h="@"===l[0];if(f||h){if(o=n(u,c,o),f){var d=t(l,u.selector);s||(s=e(c,a)),d=d.replace(Jr,s);var p=u.key+"-"+l;"replaceRule"in c?c.replaceRule(p,r[l],Tt({},o,{selector:d})):c.addRule(p,r[l],Tt({},o,{selector:d}))}else h&&c.addRule(l,{},o).addRule(u.key,r[l],{selector:u.selector});delete r[l]}}return r}}},ei=/[A-Z]/g,ti=/^ms-/,ni={};function ri(e){return"-"+e.toLowerCase()}var ii=function(e){if(ni.hasOwnProperty(e))return ni[e];var t=e.replace(ei,ri);return ni[e]=ti.test(t)?"-"+t:t};function ai(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ii(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ai):t.fallbacks=ai(e.fallbacks)),t}var oi=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ai(e[t]);return e}return ai(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ii(t);return t===r?e:(n.prop(r,e),null)}}},si=Nr&&CSS?CSS.px:"px",ui=Nr&&CSS?CSS.ms:"ms",ci=Nr&&CSS?CSS.percent:"%";function li(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var fi=li({"animation-delay":ui,"animation-duration":ui,"background-position":si,"background-position-x":si,"background-position-y":si,"background-size":si,border:si,"border-bottom":si,"border-bottom-left-radius":si,"border-bottom-right-radius":si,"border-bottom-width":si,"border-left":si,"border-left-width":si,"border-radius":si,"border-right":si,"border-right-width":si,"border-top":si,"border-top-left-radius":si,"border-top-right-radius":si,"border-top-width":si,"border-width":si,"border-block":si,"border-block-end":si,"border-block-end-width":si,"border-block-start":si,"border-block-start-width":si,"border-block-width":si,"border-inline":si,"border-inline-end":si,"border-inline-end-width":si,"border-inline-start":si,"border-inline-start-width":si,"border-inline-width":si,"border-start-start-radius":si,"border-start-end-radius":si,"border-end-start-radius":si,"border-end-end-radius":si,margin:si,"margin-bottom":si,"margin-left":si,"margin-right":si,"margin-top":si,"margin-block":si,"margin-block-end":si,"margin-block-start":si,"margin-inline":si,"margin-inline-end":si,"margin-inline-start":si,padding:si,"padding-bottom":si,"padding-left":si,"padding-right":si,"padding-top":si,"padding-block":si,"padding-block-end":si,"padding-block-start":si,"padding-inline":si,"padding-inline-end":si,"padding-inline-start":si,"mask-position-x":si,"mask-position-y":si,"mask-size":si,height:si,width:si,"min-height":si,"max-height":si,"min-width":si,"max-width":si,bottom:si,left:si,top:si,right:si,inset:si,"inset-block":si,"inset-block-end":si,"inset-block-start":si,"inset-inline":si,"inset-inline-end":si,"inset-inline-start":si,"box-shadow":si,"text-shadow":si,"column-gap":si,"column-rule":si,"column-rule-width":si,"column-width":si,"font-size":si,"font-size-delta":si,"letter-spacing":si,"text-decoration-thickness":si,"text-indent":si,"text-stroke":si,"text-stroke-width":si,"word-spacing":si,motion:si,"motion-offset":si,outline:si,"outline-offset":si,"outline-width":si,perspective:si,"perspective-origin-x":ci,"perspective-origin-y":ci,"transform-origin":ci,"transform-origin-x":ci,"transform-origin-y":ci,"transform-origin-z":ci,"transition-delay":ui,"transition-duration":ui,"vertical-align":si,"flex-basis":si,"shape-margin":si,size:si,gap:si,grid:si,"grid-gap":si,"row-gap":si,"grid-row-gap":si,"grid-column-gap":si,"grid-template-rows":si,"grid-template-columns":si,"grid-auto-rows":si,"grid-auto-columns":si,"box-shadow-x":si,"box-shadow-y":si,"box-shadow-blur":si,"box-shadow-spread":si,"font-line-height":si,"text-shadow-x":si,"text-shadow-y":si,"text-shadow-blur":si});function hi(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=hi(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=hi(i,t[i],n);else for(var a in t)t[a]=hi(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||fi[e];return!o||0===t&&o===si?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var di=function(e){void 0===e&&(e={});var t=li(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=hi(r,e[r],t);return e},onChangeValue:function(e,n){return hi(n,e,t)}}};function pi(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function vi(e){return function(e){if(Array.isArray(e))return St(e)}(e)||pi(e)||xt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var yi="",mi="",gi="",ki="",bi=vn&&"ontouchstart"in document.documentElement;if(vn){var wi={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},_i=document.createElement("p").style;for(var Si in wi)if(Si+"Transform"in _i){yi=Si,mi=wi[Si];break}"Webkit"===yi&&"msHyphens"in _i&&(yi="ms",mi=wi.ms,ki="edge"),"Webkit"===yi&&"-apple-trailing-word"in _i&&(gi="apple")}var xi=yi,Ei=mi,Ci=gi,Ti=ki,Ii=bi;var Ri={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===xi?"-webkit-"+e:Ei+e)}},Ni={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===xi?Ei+"print-"+e:e)}},Pi=/[-\s]+(.)?/g;function Oi(e,t){return t?t.toUpperCase():""}function Ai(e){return e.replace(Pi,Oi)}function Di(e){return Ai("-"+e)}var Mi,Li={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===xi){var n="mask-image";if(Ai(n)in t)return e;if(xi+Di(n)in t)return Ei+e}return e}},Fi={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Ci||Ii?e:Ei+e)}},Ui={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Ei+e)}},ji={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Ei+e)}},Vi={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===xi||"ms"===xi&&"edge"!==Ti?Ei+e:e)}},zi={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===xi||"ms"===xi||"apple"===Ci?Ei+e:e)}},Bi={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===xi?"WebkitColumn"+Di(e)in t&&Ei+"column-"+e:"Moz"===xi&&("page"+Di(e)in t&&"page-"+e))}},qi={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===xi)return e;var n=e.replace("-inline","");return xi+Di(n)in t&&Ei+n}},Wi={supportedProperty:function(e,t){return Ai(e)in t&&e}},Hi={supportedProperty:function(e,t){var n=Di(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:xi+n in t?Ei+e:"Webkit"!==xi&&"Webkit"+n in t&&"-webkit-"+e}},Ki={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===xi?""+Ei+e:e)}},Gi={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===xi?Ei+"scroll-chaining":e)}},$i={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Qi={supportedProperty:function(e,t){var n=$i[e];return!!n&&(xi+Di(n)in t&&Ei+n)}},Xi={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Yi=Object.keys(Xi),Ji=function(e){return Ei+e},Zi={supportedProperty:function(e,t,n){var r=n.multiple;if(Yi.indexOf(e)>-1){var i=Xi[e];if(!Array.isArray(i))return xi+Di(i)in t&&Ei+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(xi+Di(i[0])in t))return!1;return i.map(Ji)}return!1}},ea=[Ri,Ni,Li,Fi,Ui,ji,Vi,zi,Bi,qi,Wi,Hi,Ki,Gi,Qi,Zi],ta=ea.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),na=ea.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,vi(t.noPrefill)),e}),[]),ra={};if(vn){Mi=document.createElement("p");var ia=window.getComputedStyle(document.documentElement,"");for(var aa in ia)isNaN(aa)||(ra[ia[aa]]=ia[aa]);na.forEach((function(e){return delete ra[e]}))}function oa(e,t){if(void 0===t&&(t={}),!Mi)return e;if(null!=ra[e])return ra[e];"transition"!==e&&"transform"!==e||(t[e]=e in Mi.style);for(var n=0;n<ta.length&&(ra[e]=ta[n](e,Mi.style,t),!ra[e]);n++);try{Mi.style[e]=""}catch(r){return!1}return ra[e]}var sa,ua={},ca={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},la=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function fa(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?oa(t):", "+oa(n);return r||(t||n)}function ha(e,t){var n=t;if(!sa||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=ua[r])return ua[r];try{sa.style[e]=n}catch(i){return ua[r]=!1,!1}if(ca[e])n=n.replace(la,fa);else if(""===sa.style[e]&&("-ms-flex"===(n=Ei+n)&&(sa.style[e]="-ms-flexbox"),sa.style[e]=n,""===sa.style[e]))return ua[r]=!1,!1;return sa.style[e]="",ua[r]=n,ua[r]}vn&&(sa=document.createElement("p"));var da=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=oa(n);a&&a!==n&&(i=!0);var o=!1,s=ha(a,En(r));s&&s!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===xi?e:"@"+Ei+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return ha(t,En(e))||e}}};var pa=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var va=Rr({plugins:[Br(),Qr(),Zr(),oi(),di(),"undefined"===typeof window?null:da(),pa()]}),ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,s=""===o?"":"".concat(o,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Ur.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Fr]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(s).concat(i).concat(c())}}(),ma={disableGeneration:!1,generateClassName:ya,jss:va,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},ga=e.createContext(ma);var ka=-1e9;function ba(){return ka+=1}function wa(e){return wa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wa(e)}function _a(e){return e&&"object"===wa(e)&&e.constructor===Object}function Sa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Tt({},e):e;return _a(e)&&_a(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(_a(t[i])&&i in e?r[i]=Sa(e[i],t[i],n):r[i]=t[i])})),r}function xa(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=Tt({},i);return Object.keys(a).forEach((function(e){o[e]=Sa(o[e],a[e])})),o},options:{}}}var Ea={};function Ca(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Or({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Ta(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var s=Dr.get(i.sheetsManager,a,r);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Dr.set(i.sheetsManager,a,r,s));var u=Tt({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});u.generateId=u.serverGenerateClassName||u.generateClassName;var c=i.sheetsRegistry;if(0===s.refs){var l;i.sheetsCache&&(l=Dr.get(i.sheetsCache,a,r));var f=a.create(r,o);l||((l=i.jss.createStyleSheet(f,Tt({link:!1},u))).attach(),i.sheetsCache&&Dr.set(i.sheetsCache,a,r,l)),c&&c.add(l),s.staticSheet=l,s.dynamicStyles=Pr(f)}if(s.dynamicStyles){var h=i.jss.createStyleSheet(s.dynamicStyles,Tt({link:!0},u));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=Or({baseClasses:s.staticSheet.classes,newClasses:h.classes}),c&&c.add(h)}else n.classes=s.staticSheet.classes;s.refs+=1}}function Ia(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Ra(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Dr.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Dr.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Na(t,n){var r,i=e.useRef([]),a=e.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=t()),e.useEffect((function(){return function(){r&&r()}}),[a])}function Pa(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,s=void 0===o?Ea:o,u=fn(n,["name","classNamePrefix","Component","defaultTheme"]),c=xa(t),l=r||i||"makeStyles";c.options={index:ba(),name:r,meta:l,classNamePrefix:l};var f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Lr()||s,i=Tt({},e.useContext(ga),u),o=e.useRef(),l=e.useRef();Na((function(){var e={name:r,state:{},stylesCreator:c,stylesOptions:i,theme:n};return Ta(e,t),l.current=!1,o.current=e,function(){Ra(e)}}),[n,c]),e.useEffect((function(){l.current&&Ia(o.current,t),l.current=!0}));var f=Ca(o.current,t.classes,a);return f};return f}function Oa(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Aa=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,s=n.name,u=fn(n,["defaultTheme","withTheme","name"]);var c=s,l=Pa(t,Tt({defaultTheme:i,Component:r,name:s||r.displayName,classNamePrefix:c},u)),f=e.forwardRef((function(t,n){t.classes;var a,u=t.innerRef,c=fn(t,["classes","innerRef"]),f=l(Tt({},r.defaultProps,t)),h=c;return("string"===typeof s||o)&&(a=Lr()||i,s&&(h=Oa({theme:a,name:s,props:c})),o&&!h.theme&&(h.theme=a)),e.createElement(r,Tt({ref:u||n,classes:f},h))}));return m()(f,r),f}},Da=["xs","sm","md","lg","xl"];function Ma(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=fn(e,["values","unit","step"]);function u(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function c(e,t){var r=Da.indexOf(t);return r===Da.length-1?u(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Da[r+1]]?n[Da[r+1]]:t)-o/100).concat(i,")")}return Tt({keys:Da,values:n,up:u,down:function(e){var t=Da.indexOf(e)+1,r=n[Da[t]];return t===Da.length?u("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:c,only:function(e){return c(e,e)},width:function(e){return n[e]}},s)}function La(e,t,n){var r;return Tt({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),Tt({paddingLeft:t(2),paddingRight:t(2)},n,Ie({},e.up("sm"),Tt({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Ie(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Ie(r,e.up("sm"),{minHeight:64}),r)},n)}function Fa(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var Ua={black:"#000",white:"#fff"},ja={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Va={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},za={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Ba={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},qa={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Wa={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ha={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Ka(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Ga(e){if(e.type)return e;if("#"===e.charAt(0))return Ga(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Fa(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function $a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function Qa(e){var t="hsl"===(e=Ga(e)).type?Ga(function(e){var t=(e=Ga(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),$a({type:s,values:u})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Xa(e,t){return e=Ga(e),t=Ka(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,$a(e)}function Ya(e,t){if(e=Ga(e),t=Ka(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return $a(e)}function Ja(e,t){if(e=Ga(e),t=Ka(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return $a(e)}var Za={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ua.white,default:ja[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},eo={text:{primary:Ua.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:ja[800],default:"#303030"},action:{active:Ua.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function to(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Ja(e.main,i):"dark"===t&&(e.dark=Ya(e.main,a)))}function no(e){var t=e.primary,n=void 0===t?{light:Va[300],main:Va[500],dark:Va[700]}:t,r=e.secondary,i=void 0===r?{light:za.A200,main:za.A400,dark:za.A700}:r,a=e.error,o=void 0===a?{light:Ba[300],main:Ba[500],dark:Ba[700]}:a,s=e.warning,u=void 0===s?{light:qa[300],main:qa[500],dark:qa[700]}:s,c=e.info,l=void 0===c?{light:Wa[300],main:Wa[500],dark:Wa[700]}:c,f=e.success,h=void 0===f?{light:Ha[300],main:Ha[500],dark:Ha[700]}:f,d=e.type,p=void 0===d?"light":d,v=e.contrastThreshold,y=void 0===v?3:v,m=e.tonalOffset,g=void 0===m?.2:m,k=fn(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function b(e){var t=function(e,t){var n=Qa(e),r=Qa(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,eo.text.primary)>=y?eo.text.primary:Za.text.primary;return t}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=Tt({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Fa(4,t));if("string"!==typeof e.main)throw new Error(Fa(5,JSON.stringify(e.main)));return to(e,"light",n,g),to(e,"dark",r,g),e.contrastText||(e.contrastText=b(e.main)),e},_={dark:eo,light:Za};return Sa(Tt({common:Ua,type:p,primary:w(n),secondary:w(i,"A400","A200","A700"),error:w(o),warning:w(u),info:w(l),success:w(h),grey:ja,contrastThreshold:y,getContrastText:b,augmentColor:w,tonalOffset:g},_[p]),k)}function ro(e){return Math.round(1e5*e)/1e5}function io(e){return ro(e)}var ao={textTransform:"uppercase"},oo='"Roboto", "Helvetica", "Arial", sans-serif';function so(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?oo:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,y=void 0===v?16:v,m=n.allVariants,g=n.pxToRem,k=fn(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var b=o/14,w=g||function(e){return"".concat(e/y*b,"rem")},_=function(e,t,n,r,a){return Tt({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===oo?{letterSpacing:"".concat(ro(r/t),"em")}:{},a,m)},S={h1:_(u,96,1.167,-1.5),h2:_(u,60,1.2,-.5),h3:_(l,48,1.167,0),h4:_(l,34,1.235,.25),h5:_(l,24,1.334,0),h6:_(h,20,1.6,.15),subtitle1:_(l,16,1.75,.15),subtitle2:_(h,14,1.57,.1),body1:_(l,16,1.5,.15),body2:_(l,14,1.43,.15),button:_(h,14,1.75,.4,ao),caption:_(l,12,1.66,.4),overline:_(l,12,2.66,1,ao)};return Sa(Tt({htmlFontSize:y,pxToRem:w,round:io,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},S),k,{clone:!1})}function uo(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var co=["none",uo(0,2,1,-1,0,1,1,0,0,1,3,0),uo(0,3,1,-2,0,2,2,0,0,1,5,0),uo(0,3,3,-2,0,3,4,0,0,1,8,0),uo(0,2,4,-1,0,4,5,0,0,1,10,0),uo(0,3,5,-1,0,5,8,0,0,1,14,0),uo(0,3,5,-1,0,6,10,0,0,1,18,0),uo(0,4,5,-2,0,7,10,1,0,2,16,1),uo(0,5,5,-3,0,8,10,1,0,3,14,2),uo(0,5,6,-3,0,9,12,1,0,3,16,2),uo(0,6,6,-3,0,10,14,1,0,4,18,3),uo(0,6,7,-4,0,11,15,1,0,4,20,3),uo(0,7,8,-4,0,12,17,2,0,5,22,4),uo(0,7,8,-4,0,13,19,2,0,5,24,4),uo(0,7,9,-4,0,14,21,2,0,5,26,4),uo(0,8,9,-5,0,15,22,2,0,6,28,5),uo(0,8,10,-5,0,16,24,2,0,6,30,5),uo(0,8,11,-5,0,17,26,2,0,6,32,5),uo(0,9,11,-5,0,18,28,2,0,7,34,6),uo(0,9,12,-6,0,19,29,2,0,7,36,6),uo(0,10,13,-6,0,20,31,3,0,8,38,7),uo(0,10,13,-6,0,21,33,3,0,8,40,7),uo(0,10,14,-6,0,22,35,3,0,8,42,7),uo(0,11,14,-7,0,23,36,3,0,9,44,8),uo(0,11,15,-7,0,24,38,3,0,9,46,8)],lo={borderRadius:4},fo={xs:0,sm:600,md:960,lg:1280,xl:1920},ho={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(fo[e],"px)")}};var po=function(e,t){return t?Sa(e,t,{clone:!1}):e};var vo={m:"margin",p:"padding"},yo={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},mo={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},go=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!mo[e])return[e];e=mo[e]}var t=Ct(e.split(""),2),n=t[0],r=t[1],i=vo[n],a=yo[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),ko=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function bo(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function wo(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function _o(e){var t=bo(e.theme);return Object.keys(e).map((function(n){if(-1===ko.indexOf(n))return null;var r=wo(go(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||ho;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===wa(t)){var i=e.theme.breakpoints||ho;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(po,{})}_o.propTypes={},_o.filterProps=ko;function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=bo({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var xo={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Eo={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Co(e){return"".concat(Math.round(e),"ms")}var To={easing:xo,duration:Eo,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Eo.standard:n,i=t.easing,a=void 0===i?xo.easeInOut:i,o=t.delay,s=void 0===o?0:o;fn(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Co(r)," ").concat(a," ").concat("string"===typeof s?s:Co(s))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Io={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Ro(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,s=e.spacing,u=e.typography,c=void 0===u?{}:u,l=fn(e,["breakpoints","mixins","palette","spacing","typography"]),f=no(o),h=Ma(n),d=So(s),p=Sa({breakpoints:h,direction:"ltr",mixins:La(h,d,i),overrides:{},palette:f,props:{},shadows:co,typography:so(f,c),spacing:d,shape:lo,transitions:To,zIndex:Io},l),v=arguments.length,y=new Array(v>1?v-1:0),m=1;m<v;m++)y[m-1]=arguments[m];return p=y.reduce((function(e,t){return Sa(e,t)}),p)}var No=Ro();var Po=function(e,t){return Aa(e,Tt({defaultTheme:No},t))};function Oo(e){if("string"!==typeof e)throw new Error(Fa(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Ao=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.color,s=void 0===o?"inherit":o,u=t.component,c=void 0===u?"svg":u,l=t.fontSize,f=void 0===l?"medium":l,h=t.htmlColor,d=t.titleAccess,p=t.viewBox,v=void 0===p?"0 0 24 24":p,y=fn(t,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return e.createElement(c,Tt({className:dn(i.root,a,"inherit"!==s&&i["color".concat(Oo(s))],"default"!==f&&"medium"!==f&&i["fontSize".concat(Oo(f))]),focusable:"false",viewBox:v,color:h,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:n},y),r,d?e.createElement("title",null,d):null)}));Ao.muiName="SvgIcon";var Do=Po((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Ao);function Mo(t,n){var r=function(n,r){return e.createElement(Do,Tt({ref:r},n),t)};return r.muiName=Do.muiName,e.memo(e.forwardRef(r))}var Lo=Mo(e.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Fo=n(184),Uo={width:250,height:400,facingMode:"user"};var jo=function(){var t=(0,e.useRef)(null),n=tn(),r=C(),i=(0,e.useCallback)((function(){var e=t.current.getScreenshot();r(ct(e)),console.log("captured"),n("/preview")}),[t]);return(0,Fo.jsxs)("div",{className:"webcamCapture",children:[(0,Fo.jsx)(cn(),{audio:!1,height:Uo.height,width:Uo.width,ref:t,videoConstraints:Uo}),(0,Fo.jsx)(Lo,{onClick:i,className:"webcamCapture_button"})]})},Vo=Mo(e.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),zo=Mo(e.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),Bo=Mo(e.createElement("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}));function qo(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Wo(e){if("string"!==typeof e)throw new Error(qo(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Ho=Wo;function Ko(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?function(e,t){var n=Tt({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}(t.components[n].defaultProps,r):r}function Go(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function $o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?Tt({},e):e;return Go(e)&&Go(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(Go(t[i])&&i in e&&Go(e[i])?r[i]=$o(e[i],t[i],n):r[i]=t[i])})),r}var Qo=["values","unit","step"];function Xo(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,s=ln(e,Qo),u=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return Tt({},e,Ie({},t.key,t.val))}),{})}(n),c=Object.keys(u);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function h(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return Tt({keys:c,values:u,up:l,down:f,between:h,only:function(e){return c.indexOf(e)+1<c.length?h(e,c[c.indexOf(e)+1]):l(e)},not:function(e){var t=c.indexOf(e);return 0===t?l(c[1]):t===c.length-1?f(c[t]):h(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},s)}var Yo={borderRadius:4},Jo={xs:0,sm:600,md:900,lg:1200,xl:1536},Zo={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Jo[e],"px)")}};function es(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||Zo;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||Zo;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||Jo).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function ts(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function ns(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function rs(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function is(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:rs(e,n)||i,t&&(r=t(r)),r}var as=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=rs(e.theme,i)||{};return es(e,n,(function(e){var n=is(o,a,e);return e===n&&"string"===typeof e&&(n=is(o,a,"".concat(t).concat("default"===e?"":Wo(e)),e)),!1===r?n:Ie({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var os=function(e,t){return t?$o(e,t,{clone:!1}):e};var ss={m:"margin",p:"padding"},us={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},cs={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ls=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!cs[e])return[e];e=cs[e]}var t=Ct(e.split(""),2),n=t[0],r=t[1],i=ss[n],a=us[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),fs=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],hs=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],ds=[].concat(fs,hs);function ps(e,t,n,r){var i,a=null!=(i=rs(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function vs(e){return ps(e,"spacing",8)}function ys(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function ms(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=ys(t,n),e}),{})}}(ls(n),r);return es(e,e[n],i)}function gs(e,t){var n=vs(e.theme);return Object.keys(e).map((function(r){return ms(e,t,r,n)})).reduce(os,{})}function ks(e){return gs(e,fs)}function bs(e){return gs(e,hs)}function ws(e){return gs(e,ds)}ks.propTypes={},ks.filterProps=fs,bs.propTypes={},bs.filterProps=hs,ws.propTypes={},ws.filterProps=ds;var _s=ws;function Ss(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=vs({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var xs=["breakpoints","palette","spacing","shape"];var Es=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,s=void 0===o?{}:o,u=ln(e,xs),c=Xo(n),l=Ss(a),f=$o({breakpoints:c,direction:"ltr",components:{},palette:Tt({mode:"light"},i),spacing:l,shape:Tt({},Yo,s)},u),h=arguments.length,d=new Array(h>1?h-1:0),p=1;p<h;p++)d[p-1]=arguments[p];return f=d.reduce((function(e,t){return $o(e,t)}),f)};var Cs=e.createContext(null);function Ts(){return e.useContext(Cs)}function Is(e){return 0===Object.keys(e).length}var Rs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Ts();return!t||Is(t)?e:t},Ns=Es();var Ps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns;return Rs(e)};function Os(e,t){var n;return Tt({toolbar:(n={minHeight:56},Ie(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),Ie(n,e.up("sm"),{minHeight:64}),n)},t)}function As(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Ds(e){if(e.type)return e;if("#"===e.charAt(0))return Ds(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(qo(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(qo(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Ms(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Ls(e){var t="hsl"===(e=Ds(e)).type?Ds(function(e){var t=(e=Ds(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),Ms({type:s,values:u})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Fs(e,t){if(e=Ds(e),t=As(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Ms(e)}function Us(e,t){if(e=Ds(e),t=As(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Ms(e)}var js={black:"#000",white:"#fff"},Vs={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},zs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Bs={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},qs={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Ws={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Hs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ks={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gs=["mode","contrastThreshold","tonalOffset"],$s={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:js.white,default:js.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qs={text:{primary:js.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:js.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Xs(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Us(e.main,i):"dark"===t&&(e.dark=Fs(e.main,a)))}function Ys(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,s=ln(e,Gs),u=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ws[200],light:Ws[50],dark:Ws[400]}:{main:Ws[700],light:Ws[400],dark:Ws[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:zs[200],light:zs[50],dark:zs[400]}:{main:zs[500],light:zs[300],dark:zs[700]}}(n),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Bs[500],light:Bs[300],dark:Bs[700]}:{main:Bs[700],light:Bs[400],dark:Bs[800]}}(n),f=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Hs[400],light:Hs[300],dark:Hs[700]}:{main:Hs[700],light:Hs[500],dark:Hs[900]}}(n),h=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ks[400],light:Ks[300],dark:Ks[700]}:{main:Ks[800],light:Ks[500],dark:Ks[900]}}(n),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:qs[400],light:qs[300],dark:qs[700]}:{main:"#ed6c02",light:qs[500],dark:qs[900]}}(n);function p(e){var t=function(e,t){var n=Ls(e),r=Ls(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Qs.text.primary)>=i?Qs.text.primary:$s.text.primary;return t}var v=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,s=void 0===a?300:a,u=e.darkShade,c=void 0===u?700:u;if(!(t=Tt({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(qo(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(qo(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return Xs(t,"light",s,o),Xs(t,"dark",c,o),t.contrastText||(t.contrastText=p(t.main)),t},y={dark:Qs,light:$s};return $o(Tt({common:Tt({},js),mode:n,primary:v({color:u,name:"primary"}),secondary:v({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:l,name:"error"}),warning:v({color:d,name:"warning"}),info:v({color:f,name:"info"}),success:v({color:h,name:"success"}),grey:Vs,contrastThreshold:i,getContrastText:p,augmentColor:v,tonalOffset:o},y[n]),s)}var Js=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var Zs={textTransform:"uppercase"},eu='"Roboto", "Helvetica", "Arial", sans-serif';function tu(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?eu:r,a=n.fontSize,o=void 0===a?14:a,s=n.fontWeightLight,u=void 0===s?300:s,c=n.fontWeightRegular,l=void 0===c?400:c,f=n.fontWeightMedium,h=void 0===f?500:f,d=n.fontWeightBold,p=void 0===d?700:d,v=n.htmlFontSize,y=void 0===v?16:v,m=n.allVariants,g=n.pxToRem,k=ln(n,Js);var b=o/14,w=g||function(e){return"".concat(e/y*b,"rem")},_=function(e,t,n,r,a){return Tt({fontFamily:i,fontWeight:e,fontSize:w(t),lineHeight:n},i===eu?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,m);var o},S={h1:_(u,96,1.167,-1.5),h2:_(u,60,1.2,-.5),h3:_(l,48,1.167,0),h4:_(l,34,1.235,.25),h5:_(l,24,1.334,0),h6:_(h,20,1.6,.15),subtitle1:_(l,16,1.75,.15),subtitle2:_(h,14,1.57,.1),body1:_(l,16,1.5,.15),body2:_(l,14,1.43,.15),button:_(h,14,1.75,.4,Zs),caption:_(l,12,1.66,.4),overline:_(l,12,2.66,1,Zs)};return $o(Tt({htmlFontSize:y,pxToRem:w,fontFamily:i,fontSize:o,fontWeightLight:u,fontWeightRegular:l,fontWeightMedium:h,fontWeightBold:p},S),k,{clone:!1})}function nu(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var ru=["none",nu(0,2,1,-1,0,1,1,0,0,1,3,0),nu(0,3,1,-2,0,2,2,0,0,1,5,0),nu(0,3,3,-2,0,3,4,0,0,1,8,0),nu(0,2,4,-1,0,4,5,0,0,1,10,0),nu(0,3,5,-1,0,5,8,0,0,1,14,0),nu(0,3,5,-1,0,6,10,0,0,1,18,0),nu(0,4,5,-2,0,7,10,1,0,2,16,1),nu(0,5,5,-3,0,8,10,1,0,3,14,2),nu(0,5,6,-3,0,9,12,1,0,3,16,2),nu(0,6,6,-3,0,10,14,1,0,4,18,3),nu(0,6,7,-4,0,11,15,1,0,4,20,3),nu(0,7,8,-4,0,12,17,2,0,5,22,4),nu(0,7,8,-4,0,13,19,2,0,5,24,4),nu(0,7,9,-4,0,14,21,2,0,5,26,4),nu(0,8,9,-5,0,15,22,2,0,6,28,5),nu(0,8,10,-5,0,16,24,2,0,6,30,5),nu(0,8,11,-5,0,17,26,2,0,6,32,5),nu(0,9,11,-5,0,18,28,2,0,7,34,6),nu(0,9,12,-6,0,19,29,2,0,7,36,6),nu(0,10,13,-6,0,20,31,3,0,8,38,7),nu(0,10,13,-6,0,21,33,3,0,8,40,7),nu(0,10,14,-6,0,22,35,3,0,8,42,7),nu(0,11,14,-7,0,23,36,3,0,9,44,8),nu(0,11,15,-7,0,24,38,3,0,9,46,8)],iu=["duration","easing","delay"],au={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ou={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function su(e){return"".concat(Math.round(e),"ms")}function uu(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function cu(e){var t=Tt({},au,e.easing),n=Tt({},ou,e.duration);return Tt({getAutoHeightDuration:uu,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,s=void 0===o?t.easeInOut:o,u=r.delay,c=void 0===u?0:u;ln(r,iu);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:su(a)," ").concat(s," ").concat("string"===typeof c?c:su(c))})).join(",")}},e,{easing:t,duration:n})}var lu={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},fu=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function hu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,s=e.typography,u=void 0===s?{}:s,c=ln(e,fu);if(e.vars)throw new Error(qo(18));var l=Ys(i),f=Es(e),h=$o(f,{mixins:Os(f.breakpoints,n),palette:l,shadows:ru.slice(),typography:tu(l,u),transitions:cu(o),zIndex:Tt({},lu)});h=$o(h,c);for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return h=p.reduce((function(e,t){return $o(e,t)}),h)}var du=hu();function pu(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme;return Ko({theme:Ps(r),name:n,props:t})}({props:e.props,name:e.name,defaultTheme:du})}var vu=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},yu=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mu=vu((function(e){return yu.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var gu=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),ku=Math.abs,bu=String.fromCharCode,wu=Object.assign;function _u(e){return e.trim()}function Su(e,t,n){return e.replace(t,n)}function xu(e,t){return e.indexOf(t)}function Eu(e,t){return 0|e.charCodeAt(t)}function Cu(e,t,n){return e.slice(t,n)}function Tu(e){return e.length}function Iu(e){return e.length}function Ru(e,t){return t.push(e),e}var Nu=1,Pu=1,Ou=0,Au=0,Du=0,Mu="";function Lu(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Nu,column:Pu,length:o,return:""}}function Fu(e,t){return wu(Lu("",null,null,"",null,null,0),e,{length:-e.length},t)}function Uu(){return Du=Au>0?Eu(Mu,--Au):0,Pu--,10===Du&&(Pu=1,Nu--),Du}function ju(){return Du=Au<Ou?Eu(Mu,Au++):0,Pu++,10===Du&&(Pu=1,Nu++),Du}function Vu(){return Eu(Mu,Au)}function zu(){return Au}function Bu(e,t){return Cu(Mu,e,t)}function qu(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Wu(e){return Nu=Pu=1,Ou=Tu(Mu=e),Au=0,[]}function Hu(e){return Mu="",e}function Ku(e){return _u(Bu(Au-1,Qu(91===e?e+2:40===e?e+1:e)))}function Gu(e){for(;(Du=Vu())&&Du<33;)ju();return qu(e)>2||qu(Du)>3?"":" "}function $u(e,t){for(;--t&&ju()&&!(Du<48||Du>102||Du>57&&Du<65||Du>70&&Du<97););return Bu(e,zu()+(t<6&&32==Vu()&&32==ju()))}function Qu(e){for(;ju();)switch(Du){case e:return Au;case 34:case 39:34!==e&&39!==e&&Qu(Du);break;case 40:41===e&&Qu(e);break;case 92:ju()}return Au}function Xu(e,t){for(;ju()&&e+Du!==57&&(e+Du!==84||47!==Vu()););return"/*"+Bu(t,Au-1)+"*"+bu(47===e?e:ju())}function Yu(e){for(;!qu(Vu());)ju();return Bu(e,Au)}var Ju="-ms-",Zu="-moz-",ec="-webkit-",tc="comm",nc="rule",rc="decl",ic="@keyframes";function ac(e,t){for(var n="",r=Iu(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function oc(e,t,n,r){switch(e.type){case"@import":case rc:return e.return=e.return||e.value;case tc:return"";case ic:return e.return=e.value+"{"+ac(e.children,r)+"}";case nc:e.value=e.props.join(",")}return Tu(n=ac(e.children,r))?e.return=e.value+"{"+n+"}":""}function sc(e,t){switch(function(e,t){return(((t<<2^Eu(e,0))<<2^Eu(e,1))<<2^Eu(e,2))<<2^Eu(e,3)}(e,t)){case 5103:return ec+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ec+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ec+e+Zu+e+Ju+e+e;case 6828:case 4268:return ec+e+Ju+e+e;case 6165:return ec+e+Ju+"flex-"+e+e;case 5187:return ec+e+Su(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ec+e+Ju+"flex-item-"+Su(e,/flex-|-self/,"")+e;case 4675:return ec+e+Ju+"flex-line-pack"+Su(e,/align-content|flex-|-self/,"")+e;case 5548:return ec+e+Ju+Su(e,"shrink","negative")+e;case 5292:return ec+e+Ju+Su(e,"basis","preferred-size")+e;case 6060:return ec+"box-"+Su(e,"-grow","")+ec+e+Ju+Su(e,"grow","positive")+e;case 4554:return ec+Su(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return Su(Su(Su(e,/(zoom-|grab)/,ec+"$1"),/(image-set)/,ec+"$1"),e,"")+e;case 5495:case 3959:return Su(e,/(image-set\([^]*)/,ec+"$1$`$1");case 4968:return Su(Su(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ec+e+e;case 4095:case 3583:case 4068:case 2532:return Su(e,/(.+)-inline(.+)/,ec+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Tu(e)-1-t>6)switch(Eu(e,t+1)){case 109:if(45!==Eu(e,t+4))break;case 102:return Su(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+Zu+(108==Eu(e,t+3)?"$3":"$2-$3"))+e;case 115:return~xu(e,"stretch")?sc(Su(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Eu(e,t+1))break;case 6444:switch(Eu(e,Tu(e)-3-(~xu(e,"!important")&&10))){case 107:return Su(e,":",":"+ec)+e;case 101:return Su(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ec+(45===Eu(e,14)?"inline-":"")+"box$3$1"+ec+"$2$3$1"+Ju+"$2box$3")+e}break;case 5936:switch(Eu(e,t+11)){case 114:return ec+e+Ju+Su(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ec+e+Ju+Su(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ec+e+Ju+Su(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ec+e+Ju+e+e}return e}function uc(e){return Hu(cc("",null,null,null,[""],e=Wu(e),0,[0],e))}function cc(e,t,n,r,i,a,o,s,u){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,y=1,m=1,g=0,k="",b=i,w=a,_=r,S=k;y;)switch(p=g,g=ju()){case 40:if(108!=p&&58==S.charCodeAt(f-1)){-1!=xu(S+=Su(Ku(g),"&","&\f"),"&\f")&&(m=-1);break}case 34:case 39:case 91:S+=Ku(g);break;case 9:case 10:case 13:case 32:S+=Gu(p);break;case 92:S+=$u(zu()-1,7);continue;case 47:switch(Vu()){case 42:case 47:Ru(fc(Xu(ju(),zu()),t,n),u);break;default:S+="/"}break;case 123*v:s[c++]=Tu(S)*m;case 125*v:case 59:case 0:switch(g){case 0:case 125:y=0;case 59+l:d>0&&Tu(S)-f&&Ru(d>32?hc(S+";",r,n,f-1):hc(Su(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(Ru(_=lc(S,t,n,c,l,i,s,k,b=[],w=[],f),a),123===g)if(0===l)cc(S,t,_,_,b,a,f,s,w);else switch(h){case 100:case 109:case 115:cc(e,_,_,r&&Ru(lc(e,_,_,0,0,i,s,k,i,b=[],f),w),i,w,f,s,r?b:w);break;default:cc(S,_,_,_,[""],w,0,s,w)}}c=l=d=0,v=m=1,k=S="",f=o;break;case 58:f=1+Tu(S),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Uu())continue;switch(S+=bu(g),g*v){case 38:m=l>0?1:(S+="\f",-1);break;case 44:s[c++]=(Tu(S)-1)*m,m=1;break;case 64:45===Vu()&&(S+=Ku(ju())),h=Vu(),l=f=Tu(k=S+=Yu(zu())),g++;break;case 45:45===p&&2==Tu(S)&&(v=0)}}return a}function lc(e,t,n,r,i,a,o,s,u,c,l){for(var f=i-1,h=0===i?a:[""],d=Iu(h),p=0,v=0,y=0;p<r;++p)for(var m=0,g=Cu(e,f+1,f=ku(v=o[p])),k=e;m<d;++m)(k=_u(v>0?h[m]+" "+g:Su(g,/&\f/g,h[m])))&&(u[y++]=k);return Lu(e,t,n,0===i?nc:s,u,c,l)}function fc(e,t,n){return Lu(e,t,n,tc,bu(Du),Cu(e,2,-2),0)}function hc(e,t,n,r){return Lu(e,t,n,rc,Cu(e,0,r),Cu(e,r+1,-1),r)}var dc=function(e,t,n){for(var r=0,i=0;r=i,i=Vu(),38===r&&12===i&&(t[n]=1),!qu(i);)ju();return Bu(e,Au)},pc=function(e,t){return Hu(function(e,t){var n=-1,r=44;do{switch(qu(r)){case 0:38===r&&12===Vu()&&(t[n]=1),e[n]+=dc(Au-1,t,n);break;case 2:e[n]+=Ku(r);break;case 4:if(44===r){e[++n]=58===Vu()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=bu(r)}}while(r=ju());return e}(Wu(e),t))},vc=new WeakMap,yc=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||vc.get(n))&&!r){vc.set(e,!0);for(var i=[],a=pc(t,i),o=n.props,s=0,u=0;s<a.length;s++)for(var c=0;c<o.length;c++,u++)e.props[u]=i[s]?a[s].replace(/&\f/g,o[c]):o[c]+" "+a[s]}}},mc=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},gc=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case rc:e.return=sc(e.value,e.length);break;case ic:return ac([Fu(e,{value:Su(e.value,"@","@"+ec)})],r);case nc:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ac([Fu(e,{props:[Su(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ac([Fu(e,{props:[Su(t,/:(plac\w+)/,":-webkit-input-$1")]}),Fu(e,{props:[Su(t,/:(plac\w+)/,":-moz-$1")]}),Fu(e,{props:[Su(t,/:(plac\w+)/,Ju+"input-$1")]})],r)}return""}))}}],kc=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||gc;var i,a,o={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)}));var u,c,l=[oc,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Iu(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}([yc,mc].concat(r,l));a=function(e,t,n,r){u=n,function(e){ac(uc(e),f)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new gu({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(s),h};var bc=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},wc={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_c=/[A-Z]|^ms/g,Sc=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xc=function(e){return 45===e.charCodeAt(1)},Ec=function(e){return null!=e&&"boolean"!==typeof e},Cc=vu((function(e){return xc(e)?e:e.replace(_c,"-$&").toLowerCase()})),Tc=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Sc,(function(e,t,n){return Rc={name:t,styles:n,next:Rc},t}))}return 1===wc[e]||xc(e)||"number"!==typeof t||0===t?t:t+"px"};function Ic(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Rc={name:n.name,styles:n.styles,next:Rc},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Rc={name:r.name,styles:r.styles,next:Rc},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ic(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Ec(o)&&(r+=Cc(a)+":"+Tc(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var s=Ic(e,t,o);switch(a){case"animation":case"animationName":r+=Cc(a)+":"+s+";";break;default:r+=a+"{"+s+"}"}}else for(var u=0;u<o.length;u++)Ec(o[u])&&(r+=Cc(a)+":"+Tc(a,o[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Rc,a=n(e);return Rc=i,Ic(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Rc,Nc=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Pc=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Rc=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ic(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ic(n,t,e[o]),r&&(i+=a[o]);Nc.lastIndex=0;for(var s,u="";null!==(s=Nc.exec(i));)u+="-"+s[1];return{name:bc(i)+u,styles:i,next:Rc}},Oc=(0,e.createContext)("undefined"!==typeof HTMLElement?kc({key:"css"}):null);Oc.Provider;var Ac=function(t){return(0,e.forwardRef)((function(n,r){var i=(0,e.useContext)(Oc);return t(n,i,r)}))},Dc=(0,e.createContext)({});t.useInsertionEffect&&t.useInsertionEffect;function Mc(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Lc=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Fc=mu,Uc=function(e){return"theme"!==e},jc=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Fc:Uc},Vc=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},zc=t.useInsertionEffect?t.useInsertionEffect:function(e){e()};var Bc=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Lc(t,n,r);!function(e){zc(e)}((function(){return function(e,t,n){Lc(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},qc=function t(n,r){var i,a,o=n.__emotion_real===n,s=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var u=Vc(n,r,o),c=u||jc(s),l=!c("as");return function(){var f=arguments,h=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&h.push("label:"+i+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var d=f.length,p=1;p<d;p++)h.push(f[p],f[0][p])}var v=Ac((function(t,n,r){var i=l&&t.as||s,o="",f=[],d=t;if(null==t.theme){for(var p in d={},t)d[p]=t[p];d.theme=(0,e.useContext)(Dc)}"string"===typeof t.className?o=Mc(n.registered,f,t.className):null!=t.className&&(o=t.className+" ");var v=Pc(h.concat(f),n.registered,d);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var y=l&&void 0===u?jc(i):c,m={};for(var g in t)l&&"as"===g||y(g)&&(m[g]=t[g]);return m.className=o,m.ref=r,(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Bc,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,e.createElement)(i,m))}));return v.displayName=void 0!==i?i:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=h,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(e,n){return t(e,Tt({},r,n,{shouldForwardProp:Vc(v,n,!0)})).apply(void 0,h)},v}},Wc=qc.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Wc[e]=Wc(e)}));var Hc=Wc;function Kc(e,t){return Hc(e,t)}var Gc=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},$c=["variant"];function Qc(e){return 0===e.length}function Xc(e){var t=e.variant,n=ln(e,$c),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Qc(r)?e[t]:Wo(e[t]):"".concat(Qc(r)?t:Wo(t)).concat(Wo(e[t].toString()))})),r}var Yc=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?os(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Jc(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Zc=as({prop:"border",themeKey:"borders",transform:Jc}),el=as({prop:"borderTop",themeKey:"borders",transform:Jc}),tl=as({prop:"borderRight",themeKey:"borders",transform:Jc}),nl=as({prop:"borderBottom",themeKey:"borders",transform:Jc}),rl=as({prop:"borderLeft",themeKey:"borders",transform:Jc}),il=as({prop:"borderColor",themeKey:"palette"}),al=as({prop:"borderTopColor",themeKey:"palette"}),ol=as({prop:"borderRightColor",themeKey:"palette"}),sl=as({prop:"borderBottomColor",themeKey:"palette"}),ul=as({prop:"borderLeftColor",themeKey:"palette"}),cl=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=ps(e.theme,"shape.borderRadius",4);return es(e,e.borderRadius,(function(e){return{borderRadius:ys(t,e)}}))}return null};cl.propTypes={},cl.filterProps=["borderRadius"];var ll=Yc(Zc,el,tl,nl,rl,il,al,ol,sl,ul,cl),fl=Yc(as({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),as({prop:"display"}),as({prop:"overflow"}),as({prop:"textOverflow"}),as({prop:"visibility"}),as({prop:"whiteSpace"})),hl=Yc(as({prop:"flexBasis"}),as({prop:"flexDirection"}),as({prop:"flexWrap"}),as({prop:"justifyContent"}),as({prop:"alignItems"}),as({prop:"alignContent"}),as({prop:"order"}),as({prop:"flex"}),as({prop:"flexGrow"}),as({prop:"flexShrink"}),as({prop:"alignSelf"}),as({prop:"justifyItems"}),as({prop:"justifySelf"})),dl=function(e){if(void 0!==e.gap&&null!==e.gap){var t=ps(e.theme,"spacing",8);return es(e,e.gap,(function(e){return{gap:ys(t,e)}}))}return null};dl.propTypes={},dl.filterProps=["gap"];var pl=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=ps(e.theme,"spacing",8);return es(e,e.columnGap,(function(e){return{columnGap:ys(t,e)}}))}return null};pl.propTypes={},pl.filterProps=["columnGap"];var vl=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=ps(e.theme,"spacing",8);return es(e,e.rowGap,(function(e){return{rowGap:ys(t,e)}}))}return null};vl.propTypes={},vl.filterProps=["rowGap"];var yl=Yc(dl,pl,vl,as({prop:"gridColumn"}),as({prop:"gridRow"}),as({prop:"gridAutoFlow"}),as({prop:"gridAutoColumns"}),as({prop:"gridAutoRows"}),as({prop:"gridTemplateColumns"}),as({prop:"gridTemplateRows"}),as({prop:"gridTemplateAreas"}),as({prop:"gridArea"})),ml=Yc(as({prop:"position"}),as({prop:"zIndex",themeKey:"zIndex"}),as({prop:"top"}),as({prop:"right"}),as({prop:"bottom"}),as({prop:"left"})),gl=Yc(as({prop:"color",themeKey:"palette"}),as({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),as({prop:"backgroundColor",themeKey:"palette"})),kl=as({prop:"boxShadow",themeKey:"shadows"});function bl(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var wl=as({prop:"width",transform:bl}),_l=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return es(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||Jo[t]||bl(t)}}))}return null};_l.filterProps=["maxWidth"];var Sl=as({prop:"minWidth",transform:bl}),xl=as({prop:"height",transform:bl}),El=as({prop:"maxHeight",transform:bl}),Cl=as({prop:"minHeight",transform:bl}),Tl=(as({prop:"size",cssProperty:"width",transform:bl}),as({prop:"size",cssProperty:"height",transform:bl}),Yc(wl,_l,Sl,xl,El,Cl,as({prop:"boxSizing"}))),Il=as({prop:"fontFamily",themeKey:"typography"}),Rl=as({prop:"fontSize",themeKey:"typography"}),Nl=as({prop:"fontStyle",themeKey:"typography"}),Pl=as({prop:"fontWeight",themeKey:"typography"}),Ol=as({prop:"letterSpacing"}),Al=as({prop:"textTransform"}),Dl=as({prop:"lineHeight"}),Ml=as({prop:"textAlign"}),Ll=Yc(as({prop:"typography",cssProperty:!1,themeKey:"typography"}),Il,Rl,Nl,Pl,Ol,Dl,Ml,Al),Fl={borders:ll.filterProps,display:fl.filterProps,flexbox:hl.filterProps,grid:yl.filterProps,positions:ml.filterProps,palette:gl.filterProps,shadows:kl.filterProps,sizing:Tl.filterProps,spacing:_s.filterProps,typography:Ll.filterProps},Ul={borders:ll,display:fl,flexbox:hl,grid:yl,positions:ml,palette:gl,shadows:kl,sizing:Tl,spacing:_s,typography:Ll};Object.keys(Fl).reduce((function(e,t){return Fl[t].forEach((function(n){e[n]=Ul[t]})),e}),{});function jl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function Vl(e,t){return"function"===typeof e?e(t):e}var zl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ul,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(Ie(i={},e,n),Ie(i,"theme",r),i),o=t[e];return o?o(a):Ie({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,s=void 0===o?{}:o;if(!a)return null;function u(e){var i=e;if("function"===typeof e)i=e(s);else if("object"!==typeof e)return e;if(!i)return null;var a=ts(s.breakpoints),o=Object.keys(a),u=a;return Object.keys(i).forEach((function(e){var a=Vl(i[e],s);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])u=os(u,n(e,a,s));else{var o=es({theme:s},a,(function(t){return Ie({},e,t)}));jl(o,a)?u[e]=r({sx:a,theme:s}):u=os(u,o)}else u=os(u,n(e,a,s))})),ns(o,u)}return Array.isArray(a)?a.map(u):u(a)}return r}();zl.filterProps=["sx"];var Bl=zl,ql=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Wl=["theme"],Hl=["theme"];function Kl(e){return 0===Object.keys(e).length}function Gl(e){return"string"===typeof e&&e.charCodeAt(0)>96}var $l=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Ql=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Xc(e.props);r[t]=e.style})),r},Xl=function(e,t,n,r){var i,a,o=e.ownerState,s=void 0===o?{}:o,u=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){s[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&u.push(t[Xc(n.props)])})),u};function Yl(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Jl=Es();var Zl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Jl:t,r=e.rootShouldForwardProp,i=void 0===r?Yl:r,a=e.slotShouldForwardProp,o=void 0===a?Yl:a,s=e.styleFunctionSx,u=void 0===s?Bl:s,c=function(e){var t=Kl(e.theme)?n:e.theme;return u(Tt({},e,{theme:t}))};return c.__mui_systemSx=!0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Gc(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a=t.name,s=t.slot,u=t.skipVariantsResolver,l=t.skipSx,f=t.overridesResolver,h=ln(t,ql),d=void 0!==u?u:s&&"Root"!==s||!1,p=l||!1;var v=Yl;"Root"===s?v=i:s?v=o:Gl(e)&&(v=void 0);var y=Kc(e,Tt({shouldForwardProp:v,label:r},h)),m=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=ln(t,Wl);return e(Tt({theme:Kl(r)?n:r},i))}:e})):[],s=e;a&&f&&o.push((function(e){var t=Kl(e.theme)?n:e.theme,r=$l(a,t);if(r){var i={};return Object.entries(r).forEach((function(n){var r=Ct(n,2),a=r[0],o=r[1];i[a]="function"===typeof o?o(Tt({},e,{theme:t})):o})),f(e,i)}return null})),a&&!d&&o.push((function(e){var t=Kl(e.theme)?n:e.theme;return Xl(e,Ql(a,t),t,a)})),p||o.push(c);var u=o.length-r.length;if(Array.isArray(e)&&u>0){var l=new Array(u).fill("");(s=[].concat(vi(e),vi(l))).raw=[].concat(vi(e.raw),vi(l))}else"function"===typeof e&&e.__emotion_real!==e&&(s=function(t){var r=t.theme,i=ln(t,Hl);return e(Tt({theme:Kl(r)?n:r},i))});var h=y.apply(void 0,[s].concat(vi(o)));return h};return y.withConfig&&(m.withConfig=y.withConfig),m}}({defaultTheme:du,rootShouldForwardProp:function(e){return Yl(e)&&"classes"!==e}}),ef=Zl,tf=function(e){return e},nf=function(){var e=tf;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=tf}}}(),rf={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function af(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=rf[t];return r?"".concat(n,"-").concat(r):"".concat(nf.generate(e),"-").concat(t)}function of(e){return af("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=af(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var sf=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],uf=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(e.push(t(r)),n&&n[r]&&e.push(n[r])),e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(Ho(t)),"fontSize".concat(Ho(n))]},of,r)},cf=ef("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Ho(n.color))],t["fontSize".concat(Ho(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,s,u,c,l,f,h,d,p,v,y,m,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(s=g.typography)||null==(u=s.pxToRem)?void 0:u.call(s,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(y=(g.vars||g).palette)||null==(m=y.action)?void 0:m.disabled,inherit:void 0}[k.color]}})),lf=e.forwardRef((function(e,t){var n=pu({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,s=n.component,u=void 0===s?"svg":s,c=n.fontSize,l=void 0===c?"medium":c,f=n.htmlColor,h=n.inheritViewBox,d=void 0!==h&&h,p=n.titleAccess,v=n.viewBox,y=void 0===v?"0 0 24 24":v,m=ln(n,sf),g=Tt({},n,{color:o,component:u,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:y}),k={};d||(k.viewBox=y);var b=uf(g);return(0,Fo.jsxs)(cf,Tt({as:u,className:dn(b.root,i),ownerState:g,focusable:"false",color:f,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},k,m,{children:[r,p?(0,Fo.jsx)("title",{children:p}):null]}))}));lf.muiName="SvgIcon";var ff=lf;var hf=function(t,n){var r=function(e,r){return(0,Fo.jsx)(ff,Tt({"data-testid":"".concat(n,"Icon"),ref:r},e,{children:t}))};return r.muiName=ff.muiName,e.memo(e.forwardRef(r))}((0,Fo.jsx)("path",{d:"M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"}),"TextFields"),df=Mo(e.createElement("path",{d:"M22 10l-6-6H4c-1.1 0-2 .9-2 2v12.01c0 1.1.9 1.99 2 1.99l16-.01c1.1 0 2-.89 2-1.99v-8zm-7-4.5l5.5 5.5H15V5.5z"})),pf=Mo(e.createElement("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})),vf=Mo(e.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"})),yf=Mo(e.createElement("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"})),mf=Mo(e.createElement("path",{d:"M15 1H9v2h6V1zm-4 13h2V8h-2v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM12 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"}));function gf(){gf=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};s(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(x([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==wa(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return h.prototype=d,s(m,"constructor",d),s(d,"constructor",h),h.displayName=s(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),s(m,o,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function kf(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(qd){return void n(qd)}s.done?t(u):Promise.resolve(u).then(r,i)}function bf(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){kf(a,r,i,o,s,"next",e)}function s(e){kf(a,r,i,o,s,"throw",e)}o(void 0)}))}}function wf(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=xt(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sf(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}function xf(e){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xf(e)}function Ef(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Cf(e,t){if(t&&("object"===wa(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bn(e)}function Tf(e){var t=Ef();return function(){var n,r=xf(e);if(t){var i=xf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Cf(this,n)}}function If(e,t,n){return If=Ef()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&gn(i,n.prototype),i},If.apply(null,arguments)}function Rf(e){var t="function"===typeof Map?new Map:void 0;return Rf=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return If(e,arguments,xf(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),gn(n,e)},Rf(e)}var Nf=!1,Pf=!1,Of="${JSCORE_VERSION}",Af=function(e,t){if(!e)throw Df(t)},Df=function(e){return new Error("Firebase Database ("+Of+") INTERNAL ASSERT FAILED: "+e)},Mf=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Lf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Mf(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Ff=function(e){var t=Mf(e);return Lf.encodeByteArray(t,!0)},Uf=function(e){return Ff(e).replace(/\./g,"")},jf=function(e){try{return Lf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Vf(e){return zf(void 0,e)}function zf(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&Bf(n)&&(e[n]=zf(e[n],t[n]));return e}function Bf(e){return"__proto__"!==e}var qf=function(){function e(){var t=this;_f(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return mn(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Wf(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Hf(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wf())}function Kf(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Gf(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function $f(){var e=Wf();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Qf(){return!0===Nf||!0===Pf}var Xf=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i){var a;return _f(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(bn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(bn(a),Yf.prototype.create),a}return mn(n)}(Rf(Error)),Yf=function(){function e(t,n,r){_f(this,e),this.service=t,this.serviceName=n,this.errors=r}return mn(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Jf(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Xf(n,a,t);return o}}]),e}();function Jf(e,t){return e.replace(Zf,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Zf=/\{\$([^}]+)}/g;function eh(e){return JSON.parse(e)}function th(e){return JSON.stringify(e)}var nh=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=eh(jf(a[0])||""),n=eh(jf(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}};function rh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ih(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ah(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function oh(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function sh(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(uh(s)&&uh(u)){if(!sh(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function uh(e){return null!==e&&"object"===typeof e}function ch(e){for(var t=[],n=function(){var e=Ct(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function lh(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Ct(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function fh(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var hh=function(){function e(){_f(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return mn(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],f=this.chain_[2],h=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=h^l&(f^h),u=1518500249):(s=l^f^h,u=1859775393):p<60?(s=l&f|h&(l|f),u=2400959708):(s=l^f^h,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=h,h=f,f=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();var dh=function(){function e(t,n){var r=this;_f(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return mn(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=wf(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=ph),void 0===r.error&&(r.error=ph),void 0===r.complete&&(r.complete=ph);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function ph(){}function vh(e,t){return"".concat(e," failed: ").concat(t," argument ")}var yh=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function mh(e){return e&&e._delegate?e._delegate:e}var gh=function(){function e(t,n,r){_f(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return mn(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),kh="[DEFAULT]",bh=function(){function e(t,n){_f(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return mn(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new qf;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:kh})}catch(u){}var t,n=wf(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Ct(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kh;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(vi(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),vi(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kh;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kh;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=wf(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Ct(i.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=wf(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wh(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(a){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kh;return this.component?this.component.multipleInstances?e:kh:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function wh(e){return e===kh?void 0:e}var _h,Sh,xh=function(){function e(t){_f(this,e),this.name=t,this.providers=new Map}return mn(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new bh(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Eh=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Sh||(Sh={}));var Ch={debug:Sh.DEBUG,verbose:Sh.VERBOSE,info:Sh.INFO,warn:Sh.WARN,error:Sh.ERROR,silent:Sh.SILENT},Th=Sh.INFO,Ih=(Ie(_h={},Sh.DEBUG,"log"),Ie(_h,Sh.VERBOSE,"log"),Ie(_h,Sh.INFO,"info"),Ie(_h,Sh.WARN,"warn"),Ie(_h,Sh.ERROR,"error"),_h),Rh=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Ih[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Nh=function(){function e(t){_f(this,e),this.name=t,this._logLevel=Th,this._logHandler=Rh,this._userLogHandler=null,Eh.push(this)}return mn(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Sh))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ch[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sh.DEBUG].concat(t)),this._logHandler.apply(this,[this,Sh.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sh.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Sh.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sh.INFO].concat(t)),this._logHandler.apply(this,[this,Sh.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sh.WARN].concat(t)),this._logHandler.apply(this,[this,Sh.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Sh.ERROR].concat(t)),this._logHandler.apply(this,[this,Sh.ERROR].concat(t))}}]),e}();var Ph,Oh;var Ah=new WeakMap,Dh=new WeakMap,Mh=new WeakMap,Lh=new WeakMap,Fh=new WeakMap;var Uh={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dh.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Mh.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zh(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function jh(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Oh||(Oh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Bh(this),n),zh(Ah.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zh(e.apply(Bh(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Bh(this),t].concat(r));return Mh.set(a,t.sort?t.sort():[t]),zh(a)}}function Vh(e){return"function"===typeof e?jh(e):(e instanceof IDBTransaction&&function(e){if(!Dh.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Dh.set(e,t)}}(e),t=e,(Ph||(Ph=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Uh):e);var t}function zh(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(zh(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Ah.set(t,e)})).catch((function(){})),Fh.set(t,e),t}(e);if(Lh.has(e))return Lh.get(e);var t=Vh(e);return t!==e&&(Lh.set(e,t),Fh.set(t,e)),t}var Bh=function(e){return Fh.get(e)};var qh,Wh,Hh=["get","getKey","getAll","getAllKeys","count"],Kh=["put","add","delete","clear"],Gh=new Map;function $h(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Gh.get(t))return Gh.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Kh.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Hh.includes(n))){var a=function(){var e=bf(gf().mark((function e(t){var a,o,s,u,c,l,f=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Gh.set(t,a),a}}}Uh=function(e){return Ne(Ne({},e),{},{get:function(t,n,r){return $h(t,n)||e.get(t,n,r)},has:function(t,n){return!!$h(t,n)||e.has(t,n)}})}(Uh);var Qh=function(){function e(t){_f(this,e),this.container=t}return mn(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Xh="@firebase/app",Yh="0.7.30",Jh=new Nh("@firebase/app"),Zh="[DEFAULT]",ed=(Ie(qh={},Xh,"fire-core"),Ie(qh,"@firebase/app-compat","fire-core-compat"),Ie(qh,"@firebase/analytics","fire-analytics"),Ie(qh,"@firebase/analytics-compat","fire-analytics-compat"),Ie(qh,"@firebase/app-check","fire-app-check"),Ie(qh,"@firebase/app-check-compat","fire-app-check-compat"),Ie(qh,"@firebase/auth","fire-auth"),Ie(qh,"@firebase/auth-compat","fire-auth-compat"),Ie(qh,"@firebase/database","fire-rtdb"),Ie(qh,"@firebase/database-compat","fire-rtdb-compat"),Ie(qh,"@firebase/functions","fire-fn"),Ie(qh,"@firebase/functions-compat","fire-fn-compat"),Ie(qh,"@firebase/installations","fire-iid"),Ie(qh,"@firebase/installations-compat","fire-iid-compat"),Ie(qh,"@firebase/messaging","fire-fcm"),Ie(qh,"@firebase/messaging-compat","fire-fcm-compat"),Ie(qh,"@firebase/performance","fire-perf"),Ie(qh,"@firebase/performance-compat","fire-perf-compat"),Ie(qh,"@firebase/remote-config","fire-rc"),Ie(qh,"@firebase/remote-config-compat","fire-rc-compat"),Ie(qh,"@firebase/storage","fire-gcs"),Ie(qh,"@firebase/storage-compat","fire-gcs-compat"),Ie(qh,"@firebase/firestore","fire-fst"),Ie(qh,"@firebase/firestore-compat","fire-fst-compat"),Ie(qh,"fire-js","fire-js"),Ie(qh,"firebase","fire-js-all"),qh),td=new Map,nd=new Map;function rd(e,t){try{e.container.addComponent(t)}catch(n){Jh.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function id(e){var t=e.name;if(nd.has(t))return Jh.debug("There were multiple attempts to register component ".concat(t,".")),!1;nd.set(t,e);var n,r=wf(td.values());try{for(r.s();!(n=r.n()).done;){rd(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ad(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var od=(Ie(Wh={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ie(Wh,"bad-app-name","Illegal App name: '{$appName}"),Ie(Wh,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ie(Wh,"app-deleted","Firebase App named '{$appName}' already deleted"),Ie(Wh,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ie(Wh,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ie(Wh,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ie(Wh,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ie(Wh,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ie(Wh,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Wh),sd=new Yf("app","Firebase",od),ud=function(){function e(t,n,r){var i=this;_f(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gh("app",(function(){return i}),"PUBLIC"))}return mn(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw sd.create("app-deleted",{appName:this._name})}}]),e}(),cd="9.9.2";function ld(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zh,t=td.get(e);if(!t)throw sd.create("no-app",{appName:e});return t}function fd(e,t,n){var r,i=null!==(r=ed[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jh.warn(s.join(" "))}id(new gh("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var hd="firebase-heartbeat-store",dd=null;function pd(){return dd||(dd=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=zh(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(zh(s.result),e.oldVersion,e.newVersion,zh(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(hd)}}).catch((function(e){throw sd.create("idb-open",{originalErrorMessage:e.message})}))),dd}function vd(e){return yd.apply(this,arguments)}function yd(){return yd=bf(gf().mark((function e(t){var n,r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pd();case 3:return r=e.sent,e.abrupt("return",r.transaction(hd).objectStore(hd).get(kd(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof Xf?Jh.warn(e.t0.message):(i=sd.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Jh.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),yd.apply(this,arguments)}function md(e,t){return gd.apply(this,arguments)}function gd(){return gd=bf(gf().mark((function e(t,n){var r,i,a,o,s;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pd();case 3:return i=e.sent,a=i.transaction(hd,"readwrite"),o=a.objectStore(hd),e.next=8,o.put(n,kd(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof Xf?Jh.warn(e.t0.message):(s=sd.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Jh.warn(s.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),gd.apply(this,arguments)}function kd(e){return"".concat(e.name,"!").concat(e.options.appId)}var bd=function(){function e(t){var n=this;_f(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new xd(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return mn(e,[{key:"triggerHeartbeat",value:function(){var e=bf(gf().mark((function e(){var t,n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=wd(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=bf(gf().mark((function e(){var t,n,r,i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=wd(),n=_d(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Uf(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function wd(){return(new Date).toISOString().substring(0,10)}function _d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=wf(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ed(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ed(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var s=o();if("break"===s)break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Sd,xd=function(){function e(t){_f(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return mn(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(qd){t(qd)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,vd(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",md(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",md(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(vi(r.heartbeats),vi(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ed(e){return Uf(JSON.stringify({version:2,heartbeats:e})).length}Sd="",id(new gh("platform-logger",(function(e){return new Qh(e)}),"PRIVATE")),id(new gh("heartbeat",(function(e){return new bd(e)}),"PRIVATE")),fd(Xh,Yh,Sd),fd(Xh,Yh,"esm2017"),fd("fire-js","");fd("firebase","9.9.2","app");var Cd="@firebase/database",Td="0.13.4",Id="";var Rd=function(){function e(t){_f(this,e),this.domStorage_=t,this.prefix_="firebase:"}return mn(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),th(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:eh(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),Nd=function(){function e(){_f(this,e),this.cache_={},this.isInMemoryStorage=!0}return mn(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return rh(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),Pd=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Rd(t)}}catch(n){}return new Nd},Od=Pd("localStorage"),Ad=Pd("sessionStorage"),Dd=new Nh("@firebase/database"),Md=function(){var e=1;return function(){return e++}}(),Ld=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Af(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new hh;n.update(t);var r=n.digest();return Lf.encodeByteArray(r)},Fd=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?th(r):r,t+=" "}return t},Ud=null,jd=!0,Vd=function(e,t){Af(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Dd.logLevel=Sh.VERBOSE,Ud=Dd.log.bind(Dd),t&&Ad.set("logging_enabled",!0)):"function"===typeof e?Ud=e:(Ud=null,Ad.remove("logging_enabled"))},zd=function(){if(!0===jd&&(jd=!1,null===Ud&&!0===Ad.get("logging_enabled")&&Vd(!0)),Ud){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Fd.apply(null,t);Ud(r)}},Bd=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];zd.apply(void 0,[e].concat(n))}},qd=function(){var e="FIREBASE INTERNAL ERROR: "+Fd.apply(void 0,arguments);Dd.error(e)},Wd=function(){var e="FIREBASE FATAL ERROR: ".concat(Fd.apply(void 0,arguments));throw Dd.error(e),new Error(e)},Hd=function(){var e="FIREBASE WARNING: "+Fd.apply(void 0,arguments);Dd.warn(e)},Kd=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Gd="[MIN_NAME]",$d="[MAX_NAME]",Qd=function(e,t){if(e===t)return 0;if(e===Gd||t===$d)return-1;if(t===Gd||e===$d)return 1;var n=ap(e),r=ap(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},Xd=function(e,t){return e===t?0:e<t?-1:1},Yd=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+th(t))},Jd=function e(t){if("object"!==typeof t||null===t)return th(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=th(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},Zd=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function ep(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var tp=function(e){Af(!Kd(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var np=new RegExp("^-?(0*)\\d{1,10}$"),rp=-2147483648,ip=2147483647,ap=function(e){if(np.test(e)){var t=Number(e);if(t>=rp&&t<=ip)return t}return null},op=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw Hd("Exception was thrown by user callback.",e),t}),Math.floor(0))}},sp=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},up=function(){function e(t,n){var r=this;_f(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return mn(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){Hd('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),cp=function(){function e(t,n,r){var i=this;_f(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return mn(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(zd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hd(e)}}]),e}(),lp=function(){function e(t){_f(this,e),this.accessToken=t}return mn(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();lp.OWNER="owner";var fp="5",hp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,dp="websocket",pp="long_polling",vp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];_f(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Od.get("host:"+t)||this._host}return mn(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Od.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function yp(e,t,n){var r;if(Af("string"===typeof t,"typeof type must == string"),Af("object"===typeof n,"typeof params must == object"),t===dp)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==pp)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return ep(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var mp=function(){function e(){_f(this,e),this.counters_={}}return mn(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;rh(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Vf(this.counters_)}}]),e}(),gp={},kp={};function bp(e){var t=e.toString();return gp[t]||(gp[t]=new mp),gp[t]}var wp=function(){function e(t){_f(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return mn(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&op((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),_p="start",Sp="close",xp=function(){function e(t,n,r,i,a,o,s){var u=this;_f(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Bd(t),this.stats_=bp(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),yp(n,pp,e)}}return mn(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new wp(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(Qf()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new Ep((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===_p)n.id=a,n.password=o;else{if(i!==Sp)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=fp,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&hp.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=th(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Ff(t),r=Zd(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Qf()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=th(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Qf()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),Ep=function(){function e(t,n,r,i){if(_f(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Qf())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=Md(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(s){zd("frame writing exception"),s.stack&&zd(s.stack),zd(s)}}}return mn(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;Qf()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){zd("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||zd("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),Cp=null;"undefined"!==typeof MozWebSocket?Cp=MozWebSocket:"undefined"!==typeof WebSocket&&(Cp=WebSocket);var Tp=function(){function e(t,n,r,i,a,o,s){_f(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Bd(this.connId),this.stats_=bp(n),this.connURL=e.connectionURL_(n,o,s,i,r),this.nodeAdmin=n.nodeAdmin}return mn(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Od.set("previous_websocket_failure",!0);try{var r;if(Qf()){var i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":"Firebase/".concat(fp,"/").concat(Id,"/").concat(process.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"/snapchat-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Cp(this.connURL,[],r)}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){Od.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=eh(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Af(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=th(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=Zd(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={};return a.v=fp,!Qf()&&"undefined"!==typeof location&&location.hostname&&hp.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a.ac=r),i&&(a.p=i),yp(e,dp,a)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Cp&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return Od.isInMemoryStorage||!0===Od.get("previous_websocket_failure")}}]),e}();Tp.responsesRequiredToBeHealthy=2,Tp.healthyTimeout=3e4;var Ip=function(){function e(t){_f(this,e),this.initTransports_(t)}return mn(e,[{key:"initTransports_",value:function(t){var n=Tp&&Tp.isAvailable(),r=n&&!Tp.previouslyFailed();if(t.webSocketOnly&&(n||Hd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Tp];else{var i,a=this.transports_=[],o=wf(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[xp,Tp]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();Ip.globalTransportInitialized_=!1;var Rp=function(){function e(t,n,r,i,a,o,s,u,c,l){_f(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Bd("c:"+this.id+":"),this.transportManager_=new Ip(n),this.log_("Connection created"),this.start_()}return mn(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=sp((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=Yd("t",e),n=Yd("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=Yd("t",e),n=Yd("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=Yd("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?qd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qd("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),fp!==n&&Hd("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),sp((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sp((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Od.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Np=function(){function e(){_f(this,e)}return mn(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Pp=function(){function e(t){_f(this,e),this.allowedEvents_=t,this.listeners_={},Af(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return mn(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=vi(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Af(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),Op=function(e){Sf(n,e);var t=Tf(n);function n(){var e;return _f(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Hf()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return mn(n,[{key:"getInitialEvent",value:function(e){return Af("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(Pp),Ap=function(){function e(t,n){if(_f(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return mn(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Dp(){return new Ap("")}function Mp(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Lp(e){return e.pieces_.length-e.pieceNum_}function Fp(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Ap(e.pieces_,t)}function Up(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function jp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Vp(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Ap(t,0)}function zp(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Ap)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new Ap(n,0)}function Bp(e){return e.pieceNum_>=e.pieces_.length}function qp(e,t){var n=Mp(e),r=Mp(t);if(null===n)return t;if(n===r)return qp(Fp(e),Fp(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Wp(e,t){if(Lp(e)!==Lp(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Hp(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Lp(e)>Lp(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Kp=mn((function e(t,n){_f(this,e),this.errorPrefix_=n,this.parts_=jp(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=yh(this.parts_[r]);Gp(this)}));function Gp(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$p(e))}function $p(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Qp=function(e){Sf(n,e);var t=Tf(n);function n(){var e,r,i;return _f(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return mn(n,[{key:"getInitialEvent",value:function(e){return Af("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(Pp),Xp=1e3,Yp=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a,o,s,u,c){var l;if(_f(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=Bd("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Xp,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Qf())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Qp.getInstance().on("visible",l.onVisible_,bn(l)),-1===e.host.indexOf("fblocal")&&Op.getInstance().on("online",l.onOnline_,bn(l)),l}return mn(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(th(i)),Af(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){this.initConnection_();var t=new qf,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:function(e){var n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;var r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Af(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Af(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=nh(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=nh(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Af(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+th(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):qd("Unrecognized action received from server: "+th(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Af(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Xp),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=bf(gf().mark((function e(){var t,r,i,a,o,s,u,c,l,f,h,d,p,v,y=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){Af(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=Ct(h,2),p=d[0],v=d[1],s?zd("getToken() completed but was canceled"):(zd("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,u=new Rp(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){Hd(e+" ("+y.repoInfo_.toString()+")"),y.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&Hd(e.t0),c());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){zd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){zd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ah(this.interruptReasons_)&&(this.reconnectDelay_=Xp,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return Jd(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new Ap(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){zd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){zd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=wf(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=wf(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Qf()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Id.replace(/\./g,"-")]=1,Hf()?e["framework.cordova"]=1:Gf()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Op.getInstance().currentlyOnline();return ah(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&rh(e,"w")){var n=ih(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();Hd("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(Np);Yp.nextPersistentConnectionId_=0,Yp.nextConnectionId_=0;var Jp,Zp=function(){function e(t,n){_f(this,e),this.name=t,this.node=n}return mn(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),ev=function(){function e(){_f(this,e)}return mn(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Zp(Gd,e),r=new Zp(Gd,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Zp.MIN}}]),e}(),tv=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"compare",value:function(e,t){return Qd(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Df("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Zp.MIN}},{key:"maxPost",value:function(){return new Zp($d,Jp)}},{key:"makePost",value:function(e,t){return Af("string"===typeof e,"KeyIndex indexValue must always be a string."),new Zp(e,Jp)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Jp},set:function(e){Jp=e}}]),n}(ev),nv=new tv,rv=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;_f(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return mn(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),iv=function(){function e(t,n,r,i,a){_f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:sv.EMPTY_NODE,this.right=null!=a?a:sv.EMPTY_NODE}return mn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return sv.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return sv.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();iv.RED=!0,iv.BLACK=!1;var av,ov=function(){function e(){_f(this,e)}return mn(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new iv(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),sv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;_f(this,e),this.comparator_=t,this.root_=n}return mn(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,iv.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,iv.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new rv(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new rv(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new rv(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new rv(this.root_,null,this.comparator_,!0,e)}}]),e}();function uv(e,t){return Qd(e.name,t.name)}function cv(e,t){return Qd(e,t)}sv.EMPTY_NODE=new ov;var lv,fv,hv,dv=function(e){return"number"===typeof e?"number:"+tp(e):"string:"+e},pv=function(e){if(e.isLeafNode()){var t=e.val();Af("string"===typeof t||"number"===typeof t||"object"===typeof t&&rh(t,".sv"),"Priority must be a string or number.")}else Af(e===av||e.isEmpty(),"priority of unexpected type.");Af(e===av||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},vv=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;_f(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Af(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),pv(this.priorityNode_)}return mn(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Bp(t)?this:".priority"===Mp(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=Mp(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Af(".priority"!==r||1===Lp(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Fp(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+dv(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?tp(this.value_):this.value_,this.lazyHash_=Ld(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Af(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Af(i>=0,"Unknown leaf type: "+n),Af(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return lv},set:function(e){lv=e}}]),e}();vv.VALUE_TYPE_ORDER=["object","boolean","number","string"];var yv,mv,gv=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?Qd(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Zp.MIN}},{key:"maxPost",value:function(){return new Zp($d,new vv("[PRIORITY-POST]",hv))}},{key:"makePost",value:function(e,t){var n=fv(e);return new Zp(t,new vv("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(ev),kv=new gv,bv=Math.log(2),wv=function(){function e(t){_f(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/bv,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return mn(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),_v=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new iv(o,a.node,iv.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new iv(o,a.node,iv.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],f=n?n(l):l;u(new iv(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,iv.BLACK):(s(f,iv.BLACK),s(f,iv.RED))}return a}(new wv(e.length));return new sv(r||t,a)},Sv={},xv=function(){function e(t,n){_f(this,e),this.indexes_=t,this.indexSet_=n}return mn(e,[{key:"get",value:function(e){var t=ih(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof sv?t:null}},{key:"hasIndex",value:function(e){return rh(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Af(t!==nv,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Zp.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?_v(i,t.getCompare()):Sv;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this,i=oh(this.indexes_,(function(e,i){var a=ih(r.indexSet_,i);if(Af(a,"Missing index implementation for "+i),e===Sv){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(Zp.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),_v(o,a.getCompare())}return Sv}var c=n.get(t.name),l=e;return c&&(l=l.remove(new Zp(t.name,c))),l.insert(t,t.node)}));return new e(i,this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(oh(this.indexes_,(function(e){if(e===Sv)return e;var r=n.get(t.name);return r?e.remove(new Zp(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Af(Sv&&kv,"ChildrenNode.ts has not been loaded"),yv=yv||new e({".priority":Sv},{".priority":kv})}}]),e}(),Ev=function(){function e(t,n,r){_f(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pv(this.priorityNode_),this.children_.isEmpty()&&Af(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return mn(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||mv}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?mv:t}},{key:"getChild",value:function(e){var t=Mp(e);return null===t?this:this.getImmediateChild(t).getChild(Fp(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Af(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Zp(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?mv:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=Mp(e);if(null===n)return t;Af(".priority"!==Mp(e)||1===Lp(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Fp(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(kv,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+dv(this.getPriority().val())+":"),this.forEachChild(kv,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":Ld(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Zp(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Zp(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Zp(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Zp.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Zp.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Cv?-1:0}},{key:"withIndex",value:function(t){if(t===nv||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===nv||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(kv),r=t.getIterator(kv),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===nv?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return mv||(mv=new e(new sv(cv),null,xv.Default))}}]),e}();Ev.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var Cv=new(function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.call(this,new sv(cv),Ev.EMPTY_NODE,xv.Default)}return mn(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return Ev.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(Ev));Object.defineProperties(Zp,{MIN:{value:new Zp(Gd,Ev.EMPTY_NODE)},MAX:{value:new Zp($d,Cv)}}),tv.__EMPTY_NODE=Ev.EMPTY_NODE,vv.__childrenNodeConstructor=Ev,av=Cv,function(e){hv=e}(Cv);function Tv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Ev.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Af(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new vv(n,Tv(t))}if(e instanceof Array){var r=Ev.EMPTY_NODE;return ep(e,(function(t,n){if(rh(e,t)&&"."!==t.substring(0,1)){var i=Tv(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(Tv(t))}var i=[],a=!1,o=e;if(ep(o,(function(e,t){if("."!==e.substring(0,1)){var n=Tv(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Zp(e,n)))}})),0===i.length)return Ev.EMPTY_NODE;var s=_v(i,uv,(function(e){return e.name}),cv);if(a){var u=_v(i,kv.getCompare());return new Ev(s,Tv(t),new xv({".priority":u},{".priority":kv}))}return new Ev(s,Tv(t),xv.Default)}!function(e){fv=e}(Tv);var Iv=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this)).indexPath_=e,Af(!Bp(e)&&".priority"!==Mp(e),"Can't create PathIndex with empty path or .priority key"),r}return mn(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?Qd(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Tv(e),r=Ev.EMPTY_NODE.updateChild(this.indexPath_,n);return new Zp(t,r)}},{key:"maxPost",value:function(){var e=Ev.EMPTY_NODE.updateChild(this.indexPath_,Cv);return new Zp($d,e)}},{key:"toString",value:function(){return jp(this.indexPath_,0).join("/")}}]),n}(ev),Rv=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?Qd(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Zp.MIN}},{key:"maxPost",value:function(){return Zp.MAX}},{key:"makePost",value:function(e,t){var n=Tv(e);return new Zp(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(ev),Nv=new Rv,Pv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Ov(e){return{type:"value",snapshotNode:e}}function Av(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Dv(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Mv(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Lv=function(){function e(){_f(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=kv}return mn(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Af(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Af(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gd}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Af(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Af(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$d}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Af(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===kv}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function Fv(e){var t,n={};return e.isDefault()||(e.index_===kv?t="$priority":e.index_===Nv?t="$value":e.index_===nv?t="$key":(Af(e.index_ instanceof Iv,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=th(t),e.startSet_&&(n.startAt=th(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+th(e.indexStartName_))),e.endSet_&&(n.endAt=th(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+th(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Uv(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==kv&&(t.i=e.index_.toString()),t}var jv=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a){var o;return _f(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=Bd("p:rest:"),o.listens_={},o}return mn(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=Fv(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),ih(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=Fv(e._queryParams),r=e._path.toString(),i=new qf;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=Ct(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+ch(n);t.log_("Sending REST request for "+u);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+u+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=eh(c.responseText)}catch(n){Hd("Failed to parse JSON response for "+u+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&Hd("Got unsuccessful REST response for "+u+" Status: "+c.status),r(c.status);r=null}},c.open("GET",u,!0),c.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Af(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(Np),Vv=function(){function e(){_f(this,e),this.rootNode_=Ev.EMPTY_NODE}return mn(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function zv(){return{value:null,children:new Map}}function Bv(e,t,n){if(Bp(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=Mp(t);e.children.has(r)||e.children.set(r,zv()),Bv(e.children.get(r),t=Fp(t),n)}}function qv(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){qv(r,new Ap(t.toString()+"/"+e),n)}))}var Wv,Hv=function(){function e(t){_f(this,e),this.collection_=t,this.last_=null}return mn(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&ep(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),Kv=function(){function e(t,n){_f(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Hv(t);var r=1e4+2e4*Math.random();sp(this.reportStats_.bind(this),Math.floor(r))}return mn(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;ep(t,(function(t,i){i>0&&rh(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),sp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Gv(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Wv||(Wv={}));var $v,Qv=function(){function e(t,n,r){_f(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Wv.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return mn(e,[{key:"operationForChild",value:function(t){if(Bp(this.path)){if(null!=this.affectedTree.value)return Af(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Ap(t));return new e(Dp(),n,this.revert)}return Af(Mp(this.path)===t,"operationForChild called for unrelated child."),new e(Fp(this.path),this.affectedTree,this.revert)}}]),e}(),Xv=function(){function e(t,n,r){_f(this,e),this.source=t,this.path=n,this.snap=r,this.type=Wv.OVERWRITE}return mn(e,[{key:"operationForChild",value:function(t){return Bp(this.path)?new e(this.source,Dp(),this.snap.getImmediateChild(t)):new e(this.source,Fp(this.path),this.snap)}}]),e}(),Yv=function(){function e(t,n,r){_f(this,e),this.source=t,this.path=n,this.children=r,this.type=Wv.MERGE}return mn(e,[{key:"operationForChild",value:function(t){if(Bp(this.path)){var n=this.children.subtree(new Ap(t));return n.isEmpty()?null:n.value?new Xv(this.source,Dp(),n.value):new e(this.source,Dp(),n)}return Af(Mp(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Fp(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Jv=function(){function e(t,n,r){_f(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return mn(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Bp(e))return this.isFullyInitialized()&&!this.filtered_;var t=Mp(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function Zv(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Df("Should only compare child_ events.");var r=new Zp(t.childName,t.snapshotNode),i=new Zp(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function ey(e,t){return{eventCache:e,serverCache:t}}function ty(e,t,n,r){return ey(new Jv(t,n,r),e.serverCache)}function ny(e,t,n,r){return ey(e.eventCache,new Jv(t,n,r))}function ry(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function iy(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var ay=function(){return $v||($v=new sv(Xd)),$v},oy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ay();_f(this,e),this.value=t,this.children=n}return mn(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Dp(),value:this.value};if(Bp(e))return null;var n=Mp(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Fp(e),t);return null!=i?{path:zp(new Ap(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(Bp(t))return this;var n=Mp(t),r=this.children.get(n);return null!==r?r.subtree(Fp(t)):new e(null)}},{key:"set",value:function(t,n){if(Bp(t))return new e(n,this.children);var r=Mp(t),i=(this.children.get(r)||new e(null)).set(Fp(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Bp(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Mp(t),r=this.children.get(n);if(r){var i,a=r.remove(Fp(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Bp(e))return this.value;var t=Mp(e),n=this.children.get(t);return n?n.get(Fp(e)):null}},{key:"setTree",value:function(t,n){if(Bp(t))return n;var r,i=Mp(t),a=(this.children.get(i)||new e(null)).setTree(Fp(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Dp(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(zp(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Dp(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Bp(e))return null;var i=Mp(e),a=this.children.get(i);return a?a.findOnPath_(Fp(e),zp(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Dp(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Bp(t))return this;this.value&&r(n,this.value);var i=Mp(t),a=this.children.get(i);return a?a.foreachOnPath_(Fp(t),zp(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Dp(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(zp(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return ep(t,(function(e,t){n=n.set(new Ap(e),t)})),n}}]),e}(),sy=function(){function e(t){_f(this,e),this.writeTree_=t}return mn(e,null,[{key:"empty",value:function(){return new e(new oy(null))}}]),e}();function uy(e,t,n){if(Bp(t))return new sy(new oy(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=qp(i,t);return a=a.updateChild(o,n),new sy(e.writeTree_.set(i,a))}var s=new oy(n),u=e.writeTree_.setTree(t,s);return new sy(u)}function cy(e,t,n){var r=e;return ep(n,(function(e,n){r=uy(r,zp(t,e),n)})),r}function ly(e,t){if(Bp(t))return sy.empty();var n=e.writeTree_.setTree(t,new oy(null));return new sy(n)}function fy(e,t){return null!=hy(e,t)}function hy(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(qp(n.path,t)):null}function dy(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(kv,(function(e,n){t.push(new Zp(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Zp(e,n.value))})),t}function py(e,t){if(Bp(t))return e;var n=hy(e,t);return new sy(null!=n?new oy(n):e.writeTree_.subtree(t))}function vy(e){return e.writeTree_.isEmpty()}function yy(e,t){return my(Dp(),e.writeTree_,t)}function my(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Af(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=my(zp(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(zp(e,".priority"),r)),n}function gy(e,t){return Oy(t,e)}function ky(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function by(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Af(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&wy(s,r.path)?i=!1:Hp(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=Sy(e.allWrites,_y,Dp()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=ly(e.visibleWrites,r.path):ep(r.children,(function(t){e.visibleWrites=ly(e.visibleWrites,zp(r.path,t))}));return!0}return!1}function wy(e,t){if(e.snap)return Hp(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Hp(zp(e.path,n),t))return!0;return!1}function _y(e){return e.visible}function Sy(e,t,n){for(var r=sy.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)Hp(n,o)?r=uy(r,s=qp(n,o),a.snap):Hp(o,n)&&(s=qp(o,n),r=uy(r,Dp(),a.snap.getChild(s)));else{if(!a.children)throw Df("WriteRecord should have .snap or .children");if(Hp(n,o))r=cy(r,s=qp(n,o),a.children);else if(Hp(o,n))if(Bp(s=qp(o,n)))r=cy(r,Dp(),a.children);else{var u=ih(a.children,Mp(s));if(u){var c=u.getChild(Fp(s));r=uy(r,Dp(),c)}}}}}return r}function xy(e,t,n,r,i){if(r||i){var a=py(e.visibleWrites,t);if(!i&&vy(a))return n;if(i||null!=n||fy(a,Dp())){return yy(Sy(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Hp(e.path,t)||Hp(t,e.path))}),t),n||Ev.EMPTY_NODE)}return null}var o=hy(e.visibleWrites,t);if(null!=o)return o;var s=py(e.visibleWrites,t);return vy(s)?n:null!=n||fy(s,Dp())?yy(s,n||Ev.EMPTY_NODE):null}function Ey(e,t,n,r){return xy(e.writeTree,e.treePath,t,n,r)}function Cy(e,t){return function(e,t,n){var r=Ev.EMPTY_NODE,i=hy(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(kv,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=py(e.visibleWrites,t);return n.forEachChild(kv,(function(e,t){var n=yy(py(a,new Ap(e)),t);r=r.updateImmediateChild(e,n)})),dy(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return dy(py(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Ty(e,t,n,r){return function(e,t,n,r,i){Af(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=zp(t,n);if(fy(e.visibleWrites,a))return null;var o=py(e.visibleWrites,a);return vy(o)?i.getChild(n):yy(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function Iy(e,t){return function(e,t){return hy(e.visibleWrites,t)}(e.writeTree,zp(e.treePath,t))}function Ry(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=py(e.visibleWrites,t),c=hy(u,Dp());if(null!=c)s=c;else{if(null==n)return[];s=yy(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=o.getCompare(),h=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function Ny(e,t,n){return function(e,t,n,r){var i=zp(t,n),a=hy(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?yy(py(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Py(e,t){return Oy(zp(e.treePath,t),e.writeTree)}function Oy(e,t){return{treePath:e,writeTree:t}}var Ay=function(){function e(){_f(this,e),this.changeMap=new Map}return mn(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Af("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Af(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Mv(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Dv(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Av(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Df("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Mv(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),Dy=new(function(){function e(){_f(this,e)}return mn(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),My=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_f(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return mn(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Jv(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ny(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:iy(this.viewCache_),i=Ry(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function Ly(e,t,n,r,i){var a,o,s=new Ay;if(n.type===Wv.OVERWRITE){var u=n;u.source.fromUser?a=jy(e,t,u.path,u.snap,r,i,s):(Af(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!Bp(u.path),a=Uy(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===Wv.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=zp(n,r);Vy(t,Mp(c))&&(s=jy(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=zp(n,r);Vy(t,Mp(c))||(s=jy(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(Af(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=By(e,t,c.path,c.children,r,i,o,s))}else if(n.type===Wv.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=Iy(r,n))return t;var s,u=new My(r,t,i),c=t.eventCache.getNode();if(Bp(n)||".priority"===Mp(n)){var l;if(t.serverCache.isFullyInitialized())l=Ey(r,iy(t));else{var f=t.serverCache.getNode();Af(f instanceof Ev,"serverChildren would be complete if leaf node"),l=Cy(r,f)}s=e.filter.updateFullNode(c,l,a)}else{var h=Mp(n),d=Ny(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,Fp(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,Ev.EMPTY_NODE,Fp(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Ey(r,iy(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=Iy(r,Dp()),ty(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=Iy(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Bp(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Uy(e,t,n,u.getNode().getChild(n),i,a,s,o);if(Bp(n)){var c=new oy(null);return u.getNode().forEachChild(nv,(function(e,t){c=c.set(new Ap(e),t)})),By(e,t,n,c,i,a,s,o)}return t}var l=new oy(null);return r.foreach((function(e,t){var r=zp(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),By(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==Wv.LISTEN_COMPLETE)throw Df("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=ny(t,a.getNode(),a.isFullyInitialized()||Bp(n),a.isFiltered());return Fy(e,o,n,r,Dy,i)}(e,t,n.path,r,s)}var f=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ry(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Ov(ry(t)))}}(t,a,f),{viewCache:a,changes:f}}function Fy(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=Iy(r,n))return t;if(Bp(n))if(Af(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=iy(t),l=Cy(r,c instanceof Ev?c:Ev.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var f=Ey(r,iy(t));o=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=Mp(n);if(".priority"===h){Af(1===Lp(n),"Can't have a priority with additional path components");var d=u.getNode(),p=Ty(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,y=Fp(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var m=Ty(r,n,u.getNode(),s);v=null!=m?u.getNode().getImmediateChild(h).updateChild(y,m):u.getNode().getImmediateChild(h)}else v=Ny(r,h,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),h,v,y,i,a):u.getNode()}}return ty(t,o,u.isFullyInitialized()||Bp(n),e.filter.filtersNodes())}function Uy(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(Bp(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=Mp(n);if(!c.isCompleteForPath(n)&&Lp(n)>1)return t;var d=Fp(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,Dy,null)}var v=ny(t,u,c.isFullyInitialized()||Bp(n),l.filtersNodes());return Fy(e,v,n,i,new My(i,v,a),s)}function jy(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new My(i,t,a);if(Bp(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=ty(t,u,!0,e.filter.filtersNodes());else{var f=Mp(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=ty(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=Fp(n),p=c.getNode().getImmediateChild(f);if(Bp(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===Up(d)&&v.getChild(Vp(d)).isEmpty()?v:v.updateChild(d,r):Ev.EMPTY_NODE}if(p.equals(h))s=t;else s=ty(t,e.filter.updateChild(c.getNode(),f,h,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Vy(e,t){return e.eventCache.isCompleteForChild(t)}function zy(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function By(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Bp(n)?r:new oy(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=zy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Uy(e,c,new Ap(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=zy(0,t.serverCache.getNode().getImmediateChild(n),r);c=Uy(e,c,new Ap(n),f,i,a,o,s)}})),c}var qy;function Wy(e,t){var n=iy(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Bp(t)&&!n.getImmediateChild(Mp(t)).isEmpty())?n.getChild(t):null}function Hy(e,t,n,r){t.type===Wv.MERGE&&null!==t.source.queryId&&(Af(iy(e.viewCache_),"We should always have a full cache before handling merges"),Af(ry(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=Ly(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Af(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Af(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Af(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Ky(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Ky(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Zv(e,i,"child_removed",t,r,n),Zv(e,i,"child_added",t,r,n),Zv(e,i,"child_moved",a,r,n),Zv(e,i,"child_changed",t,r,n),Zv(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Gy;function $y(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Af(null!=a,"SyncTree gave us an op for an invalid query."),Hy(a,t,n,r)}var o,s=[],u=wf(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(Hy(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function Qy(e,t){var n,r=null,i=wf(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Wy(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var Xy=mn((function e(t){_f(this,e),this.listenProvider_=t,this.syncPointTree_=new oy(null),this.pendingWriteTree_={visibleWrites:sy.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function Yy(e,t,n,r,i){return function(e,t,n,r,i){Af(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=uy(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?nm(e,new Xv({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Jy(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ky(e.pendingWriteTree_,t),i=by(e.pendingWriteTree_,t);if(i){var a=new oy(null);return null!=r.snap?a=a.set(Dp(),!0):ep(r.children,(function(e){a=a.set(new Ap(e),!0)})),nm(e,new Qv(r.path,a,n))}return[]}function Zy(e,t,n){return nm(e,new Xv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function em(e,t,n,r){var i=am(e,r);if(null!=i){var a=om(i),o=a.path,s=a.queryId,u=qp(o,t);return sm(e,o,new Xv(Gv(s),u,n))}return[]}function tm(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Qy(n,qp(e,t));if(r)return r}));return xy(r,t,i,n,!0)}function nm(e,t){return rm(t,e.syncPointTree_,null,gy(e.pendingWriteTree_,Dp()))}function rm(e,t,n,r){if(Bp(e.path))return im(e,t,n,r);var i=t.get(Dp());null==n&&null!=i&&(n=Qy(i,Dp()));var a=[],o=Mp(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=Py(r,o);a=a.concat(rm(s,u,c,l))}return i&&(a=a.concat($y(i,e,r,n))),a}function im(e,t,n,r){var i=t.get(Dp());null==n&&null!=i&&(n=Qy(i,Dp()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=Py(r,t),u=e.operationForChild(t);u&&(a=a.concat(im(u,i,o,s)))})),i&&(a=a.concat($y(i,e,r,n))),a}function am(e,t){return e.tagToQueryMap.get(t)}function om(e){var t=e.indexOf("$");return Af(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Ap(e.substr(0,t))}}function sm(e,t,n){var r=e.syncPointTree_.get(t);return Af(r,"Missing sync point for query tag that we're tracking"),$y(r,n,gy(e.pendingWriteTree_,t),null)}var um=function(){function e(t){_f(this,e),this.node_=t}return mn(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),cm=function(){function e(t,n){_f(this,e),this.syncTree_=t,this.path_=n}return mn(e,[{key:"getImmediateChild",value:function(t){var n=zp(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return tm(this.syncTree_,this.path_)}}]),e}(),lm=function(e,t,n){return e&&"object"===typeof e?(Af(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?fm(e[".sv"],t,n):"object"===typeof e[".sv"]?hm(e[".sv"],t):void Af(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},fm=function(e,t,n){if("timestamp"===e)return n.timestamp;Af(!1,"Unexpected server value: "+e)},hm=function(e,t,n){e.hasOwnProperty("increment")||Af(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Af(!1,"Unexpected increment value: "+r);var i=t.node();if(Af(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},dm=function(e,t,n,r){return vm(t,new cm(n,e),r)},pm=function(e,t,n){return vm(e,new um(t),n)};function vm(e,t,n){var r,i=e.getPriority().val(),a=lm(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=lm(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new vv(s,Tv(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new vv(a))),u.forEachChild(kv,(function(e,i){var a=vm(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var ym=mn((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};_f(this,e),this.name=t,this.parent=n,this.node=r}));function mm(e,t){for(var n=t instanceof Ap?t:new Ap(t),r=e,i=Mp(n);null!==i;){var a=ih(r.node.children,i)||{children:{},childCount:0};r=new ym(i,r,a),i=Mp(n=Fp(n))}return r}function gm(e){return e.node.value}function km(e,t){e.node.value=t,xm(e)}function bm(e){return e.node.childCount>0}function wm(e,t){ep(e.node.children,(function(n,r){t(new ym(n,e,r))}))}function _m(e,t,n,r){n&&!r&&t(e),wm(e,(function(e){_m(e,t,!0,r)})),n&&r&&t(e)}function Sm(e){return new Ap(null===e.parent?e.name:Sm(e.parent)+"/"+e.name)}function xm(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===gm(e)&&!bm(e)}(n),i=rh(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,xm(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,xm(e))}(e.parent,e.name,e)}var Em=/[\[\].#$\/\u0000-\u001F\u007F]/,Cm=/[\[\].#$\u0000-\u001F\u007F]/,Tm=10485760,Im=function(e){return"string"===typeof e&&0!==e.length&&!Em.test(e)},Rm=function(e){return"string"===typeof e&&0!==e.length&&!Cm.test(e)},Nm=function e(t,n,r){var i=r instanceof Ap?new Kp(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+$p(i));if("function"===typeof n)throw new Error(t+"contains a function "+$p(i)+" with contents = "+n.toString());if(Kd(n))throw new Error(t+"contains "+n.toString()+" "+$p(i));if("string"===typeof n&&n.length>Tm/3&&yh(n)>Tm)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+$p(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(ep(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!Im(n)))throw new Error(t+" contains an invalid key ("+n+") "+$p(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=yh(t),Gp(e)}(i,n),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=yh(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+$p(i)+" in addition to actual children.")}},Pm=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Im(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Rm(e)}(n))throw new Error(vh(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Om=mn((function e(){_f(this,e),this.eventLists_=[],this.recursionDepth_=0}));function Am(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Wp(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Dm(e,t,n){Am(e,n),Mm(e,(function(e){return Hp(e,t)||Hp(t,e)}))}function Mm(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(Lm(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function Lm(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();Ud&&zd("event: "+n.toString()),op(r)}}}var Fm="repo_interrupt",Um=function(){function e(t,n,r,i){_f(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Om,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zv(),this.transactionQueueTree_=new ym,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return mn(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function jm(e,t,n){if(e.stats_=bp(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new jv(e.repoInfo_,(function(t,n,r,i){Bm(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return qm(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{th(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Yp(e.repoInfo_,t,(function(t,n,r,i){Bm(e,t,n,r,i)}),(function(t){qm(e,t)}),(function(t){!function(e,t){ep(t,(function(t,n){Wm(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return kp[n]||(kp[n]=t()),kp[n]}(e.repoInfo_,(function(){return new Kv(e.stats_,e.server_)})),e.infoData_=new Vv,e.infoSyncTree_=new Xy({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Zy(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),Wm(e,"connected",!1),e.serverSyncTree_=new Xy({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);Dm(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Vm(e){var t=e.infoData_.getNode(new Ap(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function zm(e){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:Vm(e)})}function Bm(e,t,n,r,i){e.dataUpdateCount++;var a=new Ap(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=oh(n,(function(e){return Tv(e)}));o=function(e,t,n,r){var i=am(e,r);if(i){var a=om(i),o=a.path,s=a.queryId,u=qp(o,t),c=oy.fromObject(n);return sm(e,o,new Yv(Gv(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=Tv(n);o=em(e.serverSyncTree_,a,u,i)}else if(r){var c=oh(n,(function(e){return Tv(e)}));o=function(e,t,n){var r=oy.fromObject(n);return nm(e,new Yv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=Tv(n);o=Zy(e.serverSyncTree_,a,l)}var f=a;o.length>0&&(f=Ym(e,a)),Dm(e.eventQueue_,f,o)}function qm(e,t){Wm(e,"connected",t),!1===t&&function(e){Gm(e,"onDisconnectEvents");var t=zm(e),n=zv();qv(e.onDisconnect_,Dp(),(function(r,i){var a=dm(r,i,e.serverSyncTree_,t);Bv(n,r,a)}));var r=[];qv(n,Dp(),(function(t,n){r=r.concat(Zy(e.serverSyncTree_,t,n));var i=ng(e,t);Ym(e,i)})),e.onDisconnect_=zv(),Dm(e.eventQueue_,Dp(),r)}(e)}function Wm(e,t,n){var r=new Ap("/.info/"+t),i=Tv(n);e.infoData_.updateSnapshot(r,i);var a=Zy(e.infoSyncTree_,r,i);Dm(e.eventQueue_,r,a)}function Hm(e){return e.nextWriteId_++}function Km(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Fm)}function Gm(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];zd.apply(void 0,[t].concat(r))}function $m(e,t,n){return tm(e.serverSyncTree_,t,n)||Ev.EMPTY_NODE}function Qm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||tg(e,t),gm(t)){var n=Zm(e,t);Af(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&Xm(e,Sm(t),n)}else bm(t)&&wm(t,(function(t){Qm(e,t)}))}function Xm(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=$m(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Af(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=qp(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){Gm(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Jy(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);tg(e,mm(e.transactionQueueTree_,t)),Qm(e,e.transactionQueueTree_),Dm(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)op(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{Hd("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}Ym(e,t)}}),o)}function Ym(e,t){var n=Jm(e,t),r=Sm(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=qp(n,u.path),l=!1,f=void 0;if(Af(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(Jy(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,f="maxretry",i=i.concat(Jy(e.serverSyncTree_,u.currentWriteId,!0));else{var h=$m(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){Nm("transaction failed: Data returned ",d,u.path);var p=Tv(d);"object"===typeof d&&null!=d&&rh(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,y=zm(e),m=pm(p,h,y);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=m,u.currentWriteId=Hm(e),o.splice(o.indexOf(v),1),i=(i=i.concat(Yy(e.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat(Jy(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(Jy(e.serverSyncTree_,u.currentWriteId,!0))}Dm(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},u=0;u<t.length;u++)s(u);tg(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)op(r[c]);Qm(e,e.transactionQueueTree_)}(e,Zm(e,n),r),r}function Jm(e,t){var n,r=e.transactionQueueTree_;for(n=Mp(t);null!==n&&void 0===gm(r);)r=mm(r,n),n=Mp(t=Fp(t));return r}function Zm(e,t){var n=[];return eg(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function eg(e,t,n){var r=gm(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);wm(t,(function(t){eg(e,t,n)}))}function tg(e,t){var n=gm(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,km(t,n.length>0?n:void 0)}wm(t,(function(t){tg(e,t)}))}function ng(e,t){var n=Sm(Jm(e,t)),r=mm(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){rg(e,t)})),rg(e,r),_m(r,(function(t){rg(e,t)})),n}function rg(e,t){var n=gm(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Af(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Af(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Jy(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?km(t,void 0):n.length=a+1,Dm(e.eventQueue_,Sm(t),i);for(var s=0;s<r.length;s++)op(r[s])}}var ig=function(e,t){var n=ag(e),r=n.namespace;"firebase.com"===n.domain&&Wd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Wd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Hd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new vp(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Ap(n.pathString)}},ag=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(l,f)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=wf(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Hd("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in h&&(a=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},og=function(){function e(t,n,r,i){_f(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return mn(e,[{key:"key",get:function(){return Bp(this._path)?null:Up(this._path)}},{key:"ref",get:function(){return new sg(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Uv(this._queryParams),t=Jd(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Uv(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=mh(t))instanceof e))return!1;var n=this._repo===t._repo,r=Wp(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();var sg=function(e){Sf(n,e);var t=Tf(n);function n(e,r){return _f(this,n),t.call(this,e,r,new Lv,!1)}return mn(n,[{key:"parent",get:function(){var e=Vp(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(og);!function(e){Af(!qy,"__referenceConstructor has already been defined"),qy=e}(sg),function(e){Af(!Gy,"__referenceConstructor has already been defined"),Gy=e}(sg);var ug={},cg=!1;function lg(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Wd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zd("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=ig(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"/snapchat-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=ig(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new lp(lp.OWNER):new cp(e.name,e.options,t);Pm("Invalid Firebase Database URL",s),Bp(s.path)||Wd("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=ug[t.name];i||(i={},ug[t.name]=i);var a=i[e.toURLString()];a&&Wd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Um(e,cg,n,r),i[e.toURLString()]=a,a}(u,e,l,new up(e.name,n));return new fg(f,e)}var fg=function(){function e(t,n){_f(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return mn(e,[{key:"_repo",get:function(){return this._instanceStarted||(jm(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new sg(this._repo,Dp())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=ug[t];n&&n[e.key]===e||Wd("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Km(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&Wd("Cannot call "+e+" on a deleted database.")}}]),e}();Yp.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Yp.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};function hg(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xf(e)););return e}function dg(){return dg="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=hg(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},dg.apply(this,arguments)}!function(e){!function(e){Id=e}(cd),id(new gh("database",(function(e,t){var n=t.instanceIdentifier;return lg(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),fd(Cd,Td,e),fd(Cd,Td,"esm2017")}();function pg(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var vg;Object.create;function yg(){return Ie({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var mg=yg,gg=new Yf("auth","Firebase",yg()),kg=new Nh("@firebase/auth");function bg(e){if(kg.logLevel<=Sh.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];kg.error.apply(kg,["Auth (".concat(cd,"): ").concat(e)].concat(n))}}function wg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Eg.apply(void 0,[e].concat(n))}function _g(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Eg.apply(void 0,[e].concat(n))}function Sg(e,t,n){var r=Object.assign(Object.assign({},mg()),Ie({},t,n));return new Yf("auth","Firebase",r).create(t,{appName:e.name})}function xg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&wg(e,"argument-error"),Sg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Eg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=vi(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(vi(o)))}return gg.create.apply(gg,[e].concat(n))}function Cg(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Eg.apply(void 0,[t].concat(r))}}function Tg(e){var t="INTERNAL ASSERTION FAILED: "+e;throw bg(t),new Error(t)}function Ig(e,t){e||Tg(t)}var Rg=new Map;function Ng(e){Ig(e instanceof Function,"Expected a class definition");var t=Rg.get(e);return t?(Ig(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rg.set(e,t),t)}function Pg(e,t){var n=ad(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(sh(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;wg(r,"already-initialized")}return n.initialize({options:t})}function Og(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ag(){return"http:"===Dg()||"https:"===Dg()}function Dg(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Mg=function(){function e(t,n){_f(this,e),this.shortDelay=t,this.longDelay=n,Ig(n>t,"Short delay should be less than long delay!"),this.isMobile=Hf()||Gf()}return mn(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ag()||Kf()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Lg(e,t){Ig(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Fg=function(){function e(){_f(this,e)}return mn(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Tg("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Tg("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Tg("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ug=(Ie(vg={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ie(vg,"MISSING_CUSTOM_TOKEN","internal-error"),Ie(vg,"INVALID_IDENTIFIER","invalid-email"),Ie(vg,"MISSING_CONTINUE_URI","internal-error"),Ie(vg,"INVALID_PASSWORD","wrong-password"),Ie(vg,"MISSING_PASSWORD","internal-error"),Ie(vg,"EMAIL_EXISTS","email-already-in-use"),Ie(vg,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ie(vg,"INVALID_IDP_RESPONSE","invalid-credential"),Ie(vg,"INVALID_PENDING_TOKEN","invalid-credential"),Ie(vg,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ie(vg,"MISSING_REQ_TYPE","internal-error"),Ie(vg,"EMAIL_NOT_FOUND","user-not-found"),Ie(vg,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ie(vg,"EXPIRED_OOB_CODE","expired-action-code"),Ie(vg,"INVALID_OOB_CODE","invalid-action-code"),Ie(vg,"MISSING_OOB_CODE","internal-error"),Ie(vg,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ie(vg,"INVALID_ID_TOKEN","invalid-user-token"),Ie(vg,"TOKEN_EXPIRED","user-token-expired"),Ie(vg,"USER_NOT_FOUND","user-token-expired"),Ie(vg,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ie(vg,"INVALID_CODE","invalid-verification-code"),Ie(vg,"INVALID_SESSION_INFO","invalid-verification-id"),Ie(vg,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ie(vg,"MISSING_SESSION_INFO","missing-verification-id"),Ie(vg,"SESSION_EXPIRED","code-expired"),Ie(vg,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ie(vg,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ie(vg,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ie(vg,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ie(vg,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ie(vg,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ie(vg,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ie(vg,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ie(vg,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ie(vg,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ie(vg,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),vg),jg=new Mg(3e4,6e4);function Vg(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function zg(e,t,n,r){return Bg.apply(this,arguments)}function Bg(){return Bg=bf(gf().mark((function e(t,n,r,i){var a,o=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qg(t,a,bf(gf().mark((function e(){var a,o,s,u;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=ch(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Fg.fetch()(Gg(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Bg.apply(this,arguments)}function qg(e,t,n){return Wg.apply(this,arguments)}function Wg(){return Wg=bf(gf().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ug),n),e.prev=2,a=new $g(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Qg(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=Ct(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Qg(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Qg(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Qg(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw Sg(t,d,h);case 34:wg(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Xf)){e.next=41;break}throw e.t0;case 41:wg(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Wg.apply(this,arguments)}function Hg(e,t,n,r){return Kg.apply(this,arguments)}function Kg(){return Kg=bf(gf().mark((function e(t,n,r,i){var a,o,s=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,zg(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&wg(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Kg.apply(this,arguments)}function Gg(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Lg(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var $g=function(){function e(t){var n=this;_f(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(_g(n.auth,"network-request-failed"))}),jg.get())}))}return mn(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Qg(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=_g(e,t,r);return i.customData._tokenResponse=n,i}function Xg(e,t){return Yg.apply(this,arguments)}function Yg(){return Yg=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zg(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Yg.apply(this,arguments)}function Jg(e,t){return Zg.apply(this,arguments)}function Zg(){return Zg=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zg(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ek(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function tk(){return tk=bf(gf().mark((function e(t){var n,r,i,a,o,s,u=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=mh(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Cg((a=rk(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ek(nk(a.auth_time)),issuedAtTime:ek(nk(a.iat)),expirationTime:ek(nk(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),tk.apply(this,arguments)}function nk(e){return 1e3*Number(e)}function rk(e){var t,n=Ct(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return bg("JWT malformed, contained fewer than 3 sections"),null;try{var o=jf(i);return o?JSON.parse(o):(bg("Failed to decode base64 JWT payload"),null)}catch(s){return bg("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function ik(e,t){return ak.apply(this,arguments)}function ak(){return ak=bf(gf().mark((function e(t,n){var r=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Xf&&ok(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ak.apply(this,arguments)}function ok(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var sk=function(){function e(t){_f(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return mn(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(bf(gf().mark((function t(){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),uk=function(){function e(t,n){_f(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return mn(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ek(this.lastLoginAt),this.creationTime=ek(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ck(e){return lk.apply(this,arguments)}function lk(){return lk=bf(gf().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ik(t,Jg(r,{idToken:i}));case 6:Cg(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?dk(o.providerUserInfo):[],u=hk(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new uk(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),lk.apply(this,arguments)}function fk(){return(fk=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mh(t),e.next=3,ck(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hk(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(vi(n),vi(t))}function dk(e){return e.map((function(e){var t=e.providerId,n=pg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function pk(e,t){return vk.apply(this,arguments)}function vk(){return vk=bf(gf().mark((function e(t,n){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qg(t,{},bf(gf().mark((function e(){var r,i,a,o,s,u;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ch({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Gg(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Fg.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),vk.apply(this,arguments)}var yk=function(){function e(){_f(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return mn(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Cg(e.idToken,"internal-error"),Cg("undefined"!==typeof e.idToken,"internal-error"),Cg("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=rk(e);return Cg(t,"internal-error"),Cg("undefined"!==typeof t.exp,"internal-error"),Cg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=bf(gf().mark((function e(t){var n,r=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Cg(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=bf(gf().mark((function e(t,n){var r,i,a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pk(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Tg("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Cg("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Cg("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Cg("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function mk(e,t){Cg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var gk=function(){function e(t){_f(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=pg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?vi(a.providerData):[],this.metadata=new uk(a.createdAt||void 0,a.lastLoginAt||void 0)}return mn(e,[{key:"getIdToken",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ik(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Cg(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return tk.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return fk.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Cg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Cg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=bf(gf().mark((function e(t){var n,r,i=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ck(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ik(this,Xg(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,S=n.stsTokenManager;Cg(k&&S,t,"internal-error");var x=yk.fromJSON(this.name,S);Cg("string"===typeof k,t,"internal-error"),mk(f,t.name),mk(h,t.name),Cg("boolean"===typeof b,t,"internal-error"),Cg("boolean"===typeof w,t,"internal-error"),mk(d,t.name),mk(p,t.name),mk(v,t.name),mk(y,t.name),mk(m,t.name),mk(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=bf(gf().mark((function t(n,r){var i,a,o,s=arguments;return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new yk).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ck(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),kk=function(){function e(){_f(this,e),this.type="NONE",this.storage={}}return mn(e,[{key:"_isAvailable",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();kk.type="NONE";var bk=kk;function wk(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var _k=function(){function e(t,n,r){_f(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=wk(this.userKey,a.apiKey,o),this.fullPersistenceKey=wk("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return mn(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?gk._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=bf(gf().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Ng(bk),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Ng(bk),s=wk(i,n.config.apiKey,n.name),u=null,c=wf(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=gk._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Sk(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(xk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Rk(t))return"Blackberry";if(Nk(t))return"Webos";if(Ek(t))return"Safari";if((t.includes("chrome/")||Ck(t))&&!t.includes("edge/"))return"Chrome";if(Ik(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function xk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return/firefox\//i.test(e)}function Ek(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return/crios\//i.test(e)}function Tk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return/iemobile/i.test(e)}function Ik(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return/android/i.test(e)}function Rk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return/blackberry/i.test(e)}function Nk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return/webos/i.test(e)}function Pk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ok(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return Pk(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ak(){return $f()&&10===document.documentMode}function Dk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wf();return Pk(e)||Ik(e)||Nk(e)||Rk(e)||/windows phone/i.test(e)||Tk(e)}function Mk(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Sk(Wf());break;case"Worker":t="".concat(Sk(Wf()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(cd,"/").concat(r)}var Lk=function(){function e(t){_f(this,e),this.auth=t,this.queue=[]}return mn(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=bf(gf().mark((function e(t){var n,r,i,a,o,s,u,c;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=wf(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),s=wf(r);try{for(s.s();!(u=s.n()).done;){c=u.value;try{c()}catch(H){}}}catch(l){s.e(l)}finally{s.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Fk=function(){function e(t,n,r){_f(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jk(this),this.idTokenSubscription=new jk(this),this.beforeStateQueue=new Lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gg,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return mn(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Ng(t)),this._initializationPromise=this.queue(bf(gf().mark((function r(){var i,a;return gf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,_k.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=bf(gf().mark((function e(t){var n,r,i,a,o,s,u;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Cg(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ck(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?mh(t):null)&&Cg(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=bf(gf().mark((function e(t){var n,r=this,i=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Cg(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(bf(gf().mark((function n(){return gf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Ng(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Yf("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=bf(gf().mark((function e(t,n){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Cg(n=t&&Ng(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,_k.create(this,[Ng(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=bf(gf().mark((function e(t){var n=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Cg(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Cg(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mk(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=bf(gf().mark((function e(){var t,n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ie({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Uk(e){return mh(e)}var jk=function(){function e(t){var n=this;_f(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new dh(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return mn(e,[{key:"next",get:function(){return Cg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Vk=function(){function e(t,n){_f(this,e),this.providerId=t,this.signInMethod=n}return mn(e,[{key:"toJSON",value:function(){return Tg("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Tg("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Tg("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Tg("not implemented")}}]),e}();function zk(e,t){return Bk.apply(this,arguments)}function Bk(){return Bk=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zg(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Bk.apply(this,arguments)}function qk(e,t){return Wk.apply(this,arguments)}function Wk(){return Wk=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hg(t,"POST","/v1/accounts:signInWithPassword",Vg(t,n)));case 1:case"end":return e.stop()}}),e)}))),Wk.apply(this,arguments)}function Hk(e,t){return Kk.apply(this,arguments)}function Kk(){return Kk=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hg(t,"POST","/v1/accounts:signInWithEmailLink",Vg(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kk.apply(this,arguments)}function Gk(e,t){return $k.apply(this,arguments)}function $k(){return $k=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hg(t,"POST","/v1/accounts:signInWithEmailLink",Vg(t,n)));case 1:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}var Qk=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _f(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return mn(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",qk(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hk(t,{email:this._email,oobCode:this._password}));case 5:wg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zk(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Gk(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:wg(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Vk);function Xk(e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hg(t,"POST","/v1/accounts:signInWithIdp",Vg(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}var Jk=function(e){Sf(n,e);var t=Tf(n);function n(){var e;return _f(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return mn(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Xk(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Xk(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Xk(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ch(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wg("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=pg(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Vk);function Zk(e,t){return eb.apply(this,arguments)}function eb(){return eb=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zg(t,"POST","/v1/accounts:sendVerificationCode",Vg(t,n)));case 1:case"end":return e.stop()}}),e)}))),eb.apply(this,arguments)}function tb(){return tb=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Hg(t,"POST","/v1/accounts:signInWithPhoneNumber",Vg(t,n)));case 1:case"end":return e.stop()}}),e)}))),tb.apply(this,arguments)}function nb(){return nb=bf(gf().mark((function e(t,n){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg(t,"POST","/v1/accounts:signInWithPhoneNumber",Vg(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Qg(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),nb.apply(this,arguments)}var rb=Ie({},"USER_NOT_FOUND","user-not-found");function ib(){return ib=bf(gf().mark((function e(t,n){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Hg(t,"POST","/v1/accounts:signInWithPhoneNumber",Vg(t,r),rb));case 2:case"end":return e.stop()}}),e)}))),ib.apply(this,arguments)}var ab=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this,"phone","phone")).params=e,r}return mn(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return tb.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return nb.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ib.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Vk);var ob=function(){function e(t){var n,r,i,a,o,s;_f(this,e);var u=lh(fh(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Cg(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return mn(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=lh(fh(e)).link,n=t?lh(fh(t)).deep_link_id:null,r=lh(fh(e)).deep_link_id;return(r?lh(fh(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var sb=function(){function e(){_f(this,e),this.providerId=e.PROVIDER_ID}return mn(e,null,[{key:"credential",value:function(e,t){return Qk._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ob.parseLink(t);return Cg(n,"argument-error"),Qk._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();sb.PROVIDER_ID="password",sb.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ub=function(){function e(t){_f(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return mn(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),cb=function(e){Sf(n,e);var t=Tf(n);function n(){var e;return _f(this,n),(e=t.apply(this,arguments)).scopes=[],e}return mn(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return vi(this.scopes)}}]),n}(ub),lb=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.call(this,"facebook.com")}return mn(n,null,[{key:"credential",value:function(e){return Jk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(cb);lb.FACEBOOK_SIGN_IN_METHOD="facebook.com",lb.PROVIDER_ID="facebook.com";var fb=function(e){Sf(n,e);var t=Tf(n);function n(){var e;return _f(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return mn(n,null,[{key:"credential",value:function(e,t){return Jk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(cb);fb.GOOGLE_SIGN_IN_METHOD="google.com",fb.PROVIDER_ID="google.com";var hb=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.call(this,"github.com")}return mn(n,null,[{key:"credential",value:function(e){return Jk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(cb);hb.GITHUB_SIGN_IN_METHOD="github.com",hb.PROVIDER_ID="github.com";var db=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.call(this,"twitter.com")}return mn(n,null,[{key:"credential",value:function(e,t){return Jk._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(a){return null}}}]),n}(cb);db.TWITTER_SIGN_IN_METHOD="twitter.com",db.PROVIDER_ID="twitter.com";var pb=function(){function e(t){_f(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return mn(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=bf(gf().mark((function t(n,r,i){var a,o,s,u,c=arguments;return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,gk._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=vb(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=bf(gf().mark((function t(n,r,i){var a;return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=vb(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function vb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var yb=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a){var o,s;return _f(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(bn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return mn(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Xf);function mb(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw yb._fromErrorAndOperation(e,n,t,r);throw n}))}function gb(e,t){return kb.apply(this,arguments)}function kb(){return kb=bf(gf().mark((function e(t,n){var r,i,a=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ik,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",pb._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),kb.apply(this,arguments)}function bb(e,t){return wb.apply(this,arguments)}function wb(){return wb=bf(gf().mark((function e(t,n){var r,i,a,o,s,u,c,l=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,ik(t,mb(a,o,n,t),r);case 6:return Cg((s=e.sent).idToken,a,"internal-error"),Cg(u=rk(s.idToken),a,"internal-error"),c=u.sub,Cg(t.uid===c,a,"user-mismatch"),e.abrupt("return",pb._forOperation(t,o,s));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&wg(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),wb.apply(this,arguments)}function _b(e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=bf(gf().mark((function e(t,n){var r,i,a,o,s=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,mb(t,i,n);case 4:return a=e.sent,e.next=7,pb._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Sb.apply(this,arguments)}function xb(e,t){return zg(e,"POST","/v2/accounts/mfaEnrollment:start",Vg(e,t))}new WeakMap;var Eb="__sak",Cb=function(){function e(t,n){_f(this,e),this.storageRetriever=t,this.type=n}return mn(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Eb,"1"),this.storage.removeItem(Eb),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Tb=function(e){Sf(n,e);var t=Tf(n);function n(){var e;return _f(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Wf();return Ek(e)||Pk(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Dk(),e._shouldAllowMigration=!0,e}return mn(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Ak()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=bf(gf().mark((function e(t,r){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(xf(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bf(gf().mark((function e(t){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(xf(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dg(xf(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Cb);Tb.type="LOCAL";var Ib=Tb,Rb=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return mn(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Cb);Rb.type="SESSION";var Nb=Rb;function Pb(e){return Promise.all(e.map(function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ob=function(){function e(t){_f(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return mn(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=bf(gf().mark((function e(t){var n,r,i,a,o,s,u,c;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Pb(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Ab(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ob.receivers=[];var Db=function(){function e(t){_f(this,e),this.target=t,this.handlers=new Set}return mn(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=bf(gf().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=Ab("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Mb(){return window}function Lb(){return"undefined"!==typeof Mb().WorkerGlobalScope&&"function"===typeof Mb().importScripts}function Fb(){return Ub.apply(this,arguments)}function Ub(){return(Ub=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function jb(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Vb="firebaseLocalStorageDb",zb="firebaseLocalStorage",Bb="fbase_key",qb=function(){function e(t){_f(this,e),this.request=t}return mn(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Wb(e,t){return e.transaction([zb],t?"readwrite":"readonly").objectStore(zb)}function Hb(){var e=indexedDB.deleteDatabase(Vb);return new qb(e).toPromise()}function Kb(){var e=indexedDB.open(Vb,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(zb,{keyPath:Bb})}catch(r){n(r)}})),e.addEventListener("success",bf(gf().mark((function n(){var r;return gf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(zb)){n.next=12;break}return r.close(),n.next=5,Hb();case 5:return n.t0=t,n.next=8,Kb();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Gb(e,t,n){return $b.apply(this,arguments)}function $b(){return $b=bf(gf().mark((function e(t,n,r){var i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Wb(t,!0).put((Ie(i={},Bb,n),Ie(i,"value",r),i)),e.abrupt("return",new qb(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}function Qb(e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=bf(gf().mark((function e(t,n){var r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wb(t,!1).get(n),e.next=3,new qb(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Xb.apply(this,arguments)}function Yb(e,t){var n=Wb(e,!0).delete(t);return new qb(n).toPromise()}var Jb=function(){function e(){_f(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return mn(e,[{key:"_openDb",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Kb();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lb()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=bf(gf().mark((function e(){var t=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ob._getInstance(Lb()?self:null),this.receiver._subscribe("keyChanged",function(){var e=bf(gf().mark((function e(n,r){var i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=bf(gf().mark((function e(){var t,n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fb();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Db(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&jb()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Kb();case 5:return t=e.sent,e.next=8,Gb(t,Eb,"1");case 8:return e.next=10,Yb(t,Eb);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=bf(gf().mark((function e(t,n){var r=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Gb(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Qb(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=bf(gf().mark((function e(t){var n=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Yb(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=bf(gf().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Wb(e,!1).getAll();return new qb(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=wf(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(bf(gf().mark((function t(){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Jb.type="LOCAL";var Zb=Jb;function ew(e,t){return zg(e,"POST","/v2/accounts/mfaSignIn:start",Vg(e,t))}function tw(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=_g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function nw(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}nw("rcb"),new Mg(3e4,6e4);var rw="recaptcha";function iw(e,t,n){return aw.apply(this,arguments)}function aw(){return aw=bf(gf().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Cg("string"===typeof a,t,"argument-error"),Cg(r.type===rw,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Cg("enroll"===s.type,t,"internal-error"),e.next=13,xb(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Cg("signin"===s.type,t,"internal-error"),Cg(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ew(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Zk(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),aw.apply(this,arguments)}var ow=function(){function e(t){_f(this,e),this.providerId=e.PROVIDER_ID,this.auth=Uk(t)}return mn(e,[{key:"verifyPhoneNumber",value:function(e,t){return iw(this.auth,e,mh(t))}}],[{key:"credential",value:function(e,t){return ab._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ab._fromTokenResponse(n,r):null}}]),e}();function sw(e,t){return t?Ng(t):(Cg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ow.PROVIDER_ID="phone",ow.PHONE_SIGN_IN_METHOD="phone";var uw=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this,"custom","custom")).params=e,r}return mn(n,[{key:"_getIdTokenResponse",value:function(e){return Xk(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Xk(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Xk(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Vk);function cw(e){return _b(e.auth,new uw(e),e.bypassAuthState)}function lw(e){var t=e.auth,n=e.user;return Cg(n,t,"internal-error"),bb(n,new uw(e),e.bypassAuthState)}function fw(e){return hw.apply(this,arguments)}function hw(){return hw=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Cg(r=t.user,n,"internal-error"),e.abrupt("return",gb(r,new uw(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}var dw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_f(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return mn(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=bf(gf().mark((function t(n,r){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=bf(gf().mark((function e(t){var n,r,i,a,o,s,u;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cw;case"linkViaPopup":case"linkViaRedirect":return fw;case"reauthViaPopup":case"reauthViaRedirect":return lw;default:wg(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ig(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ig(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),pw=new Mg(2e3,1e4);function vw(e,t,n){return yw.apply(this,arguments)}function yw(){return yw=bf(gf().mark((function e(t,n,r){var i,a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Uk(t),xg(t,n,ub),a=sw(i,r),o=new mw(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),yw.apply(this,arguments)}var mw=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a,o){var s;return _f(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=bn(s),s}return mn(n,[{key:"executeNotNull",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Cg(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=bf(gf().mark((function e(){var t,n=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ig(1===this.filter.length,"Popup operations only handle one event"),t=Ab(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(_g(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(_g(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(_g(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,pw.get())}()}}]),n}(dw);mw.currentPopupAction=null;var gw=new Map,kw=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _f(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return mn(n,[{key:"execute",value:function(){var e=bf(gf().mark((function e(){var t,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=gw.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,bw(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,dg(xf(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:gw.set(this.auth._key(),t);case 21:return this.bypassAuthState||gw.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=bf(gf().mark((function e(t){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",dg(xf(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",dg(xf(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(dw);function bw(e,t){return ww.apply(this,arguments)}function ww(){return ww=bf(gf().mark((function e(t,n){var r,i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xw(n),i=Sw(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),ww.apply(this,arguments)}function _w(e,t){gw.set(e._key(),t)}function Sw(e){return Ng(e._redirectPersistence)}function xw(e){return wk("pendingRedirect",e.config.apiKey,e.name)}function Ew(e,t){return Cw.apply(this,arguments)}function Cw(){return Cw=bf(gf().mark((function e(t,n){var r,i,a,o,s,u=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Uk(t),a=sw(i,n),o=new kw(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Cw.apply(this,arguments)}var Tw=function(){function e(t){_f(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return mn(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rw(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Rw(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(_g(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iw(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Iw(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Iw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Rw(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Nw(e){return Pw.apply(this,arguments)}function Pw(){return Pw=bf(gf().mark((function e(t){var n,r=arguments;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",zg(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Pw.apply(this,arguments)}var Ow=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Aw=/^https?/;function Dw(){return Dw=bf(gf().mark((function e(t){var n,r,i,a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Nw(t);case 4:n=e.sent,r=n.authorizedDomains,i=wf(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Mw(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:wg(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Dw.apply(this,arguments)}function Mw(e){var t=Og(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Aw.test(r))return!1;if(Ow.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Lw=new Mg(3e4,6e4);function Fw(){var e=Mb().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=vi(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Uw=null;function jw(e){return Uw=Uw||function(e){return new Promise((function(t,n){var r,i,a;function o(){Fw(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Fw(),n(_g(e,"network-request-failed"))},timeout:Lw.get()})}if(null===(i=null===(r=Mb().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Mb().gapi)||void 0===a?void 0:a.load)){var s=nw("iframefcb");return Mb()[s]=function(){gapi.load?o():n(_g(e,"network-request-failed"))},tw("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Uw=null,e}))}(e),Uw}var Vw=new Mg(5e3,15e3),zw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qw(e){var t=e.config;Cg(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Lg(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:cd},i=Bw.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ch(r).slice(1))}function Ww(e){return Hw.apply(this,arguments)}function Hw(){return Hw=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jw(t);case 2:return n=e.sent,Cg(r=Mb().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:qw(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zw,dontclear:!0},(function(e){return new Promise(function(){var n=bf(gf().mark((function n(r,i){var a,o,s;return gf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){Mb().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=_g(t,"network-request-failed"),o=Mb().setTimeout((function(){i(a)}),Vw.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}var Kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Gw="_blank",$w="http://localhost",Qw=function(){function e(t){_f(this,e),this.window=t,this.associatedEvent=null}return mn(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Xw(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},Kw),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Wf().toLowerCase();n&&(s=Ck(c)?Gw:n),xk(c)&&(t=t||$w,u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=Ct(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ok(c)&&"_self"!==s)return Yw(t||"",s),new Qw(null);var f=window.open(t||"",s,l);Cg(f,e,"popup-blocked");try{f.focus()}catch(h){}return new Qw(f)}function Yw(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Jw="__/auth/handler",Zw="emulator/auth/handler";function e_(e,t,n,r,i,a){Cg(e.config.authDomain,e,"auth-domain-config-required"),Cg(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cd,eventId:i};if(t instanceof ub){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",ah(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=Ct(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof cb){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Jw);return Lg(t,Zw)}(e),"?").concat(ch(d).slice(1))}var t_="webStorageSupport",n_=function(){function e(){_f(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nb,this._completeRedirectFn=Ew,this._overrideRedirectResult=_w}return mn(e,[{key:"_openPopup",value:function(){var e=bf(gf().mark((function e(t,n,r,i){var a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ig(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=e_(t,n,r,Og(),i),e.abrupt("return",Xw(t,o,Ab()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=bf(gf().mark((function e(t,n,r,i){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=e_(t,n,r,Og(),i),Mb().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ig(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ww(t);case 2:return n=e.sent,r=new Tw(t),n.register("authEvent",(function(e){return Cg(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(t_,{type:t_},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),wg(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Dw.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Dk()||Ek()||Pk()}}]),e}(),r_=n_,i_=function(){function e(t){_f(this,e),this.factorId=t}return mn(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Tg("unexpected MultiFactorSessionType")}}}]),e}(),a_=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this,"phone")).credential=e,r}return mn(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return zg(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vg(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return zg(e,"POST","/v2/accounts/mfaSignIn:finalize",Vg(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(i_);(function(){function e(){_f(this,e)}return mn(e,null,[{key:"assertion",value:function(e){return a_._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var o_,s_="@firebase/auth",u_="0.20.5",c_=function(){function e(t){_f(this,e),this.auth=t,this.internalListeners=new Map}return mn(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Cg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();o_="Browser",id(new gh("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Cg(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Cg(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:o_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mk(o_)},i=new Fk(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ng);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),id(new gh("auth-internal",(function(e){return function(e){return new c_(e)}(Uk(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),fd(s_,u_,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(o_)),fd(s_,u_,"esm2017");var l_="firebasestorage.googleapis.com",f_=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this,h_(e),"Firebase Storage: ".concat(r," (").concat(h_(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(bn(i),n.prototype),i}return mn(n,[{key:"_codeEquals",value:function(e){return h_(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Xf);function h_(e){return"storage/"+e}function d_(){return new f_("unknown","An unknown error occurred, please check the error payload for server response.")}function p_(){return new f_("canceled","User canceled the upload/download.")}function v_(){return new f_("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function y_(e){return new f_("invalid-argument",e)}function m_(){return new f_("app-deleted","The Firebase app was deleted.")}function g_(e,t){return new f_("invalid-format","String does not match format '"+e+"': "+t)}function k_(e){throw new f_("internal-error","Internal error: "+e)}var b_,w_=function(){function e(t,n){_f(this,e),this.bucket=t,this.path_=n}return mn(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new f_("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(s,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===l_?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new f_("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),__=function(){function e(t){_f(this,e),this.promise_=Promise.reject(t)}return mn(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function S_(e){return"string"===typeof e||e instanceof String}function x_(e){return E_()&&e instanceof Blob}function E_(){return"undefined"!==typeof Blob}function C_(e,t,n,r){if(r<t)throw y_("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw y_("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function T_(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function I_(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(b_||(b_={}));var R_=function(){function e(t,n,r,i,a,o,s,u,c,l,f){var h=this;_f(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return mn(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(u){i(u)}else if(null!==a){var s=d_();s.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,s)):i(s)}else{if(n.canceled)i(e.appDelete_?m_():p_());else i(new f_("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new N_(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(u()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new N_(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===b_.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new N_(o,r))}else{var s=r.getErrorCode()===b_.ABORT;t(!1,new N_(!1,null,s))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),N_=mn((function e(t,n,r){_f(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function P_(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function O_(){for(var e=P_(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(E_())return new Blob(n);throw new f_("unsupported-environment","This browser doesn't seem to support creating Blobs")}var A_="raw",D_="base64",M_="base64url",L_="data_url",F_=mn((function e(t,n){_f(this,e),this.data=t,this.contentType=n||null}));function U_(e,t){switch(e){case A_:return new F_(j_(t));case D_:case M_:return new F_(V_(e,t));case L_:return new F_(function(e){var t=new z_(e);return t.base64?V_(D_,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw g_(L_,"Malformed data URL.")}return j_(t)}(t.rest)}(t),new z_(t).contentType)}throw d_()}function j_(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function V_(e,t){switch(e){case D_:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw g_(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case M_:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw g_(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw g_(e,"Invalid character found")}for(var s=new Uint8Array(o.length),u=0;u<o.length;u++)s[u]=o.charCodeAt(u);return s}var z_=mn((function e(t){_f(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw g_(L_,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var B_=function(){function e(t,n){_f(this,e);var r=0,i="";x_(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return mn(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(x_(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(E_()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(O_.apply(null,i))}var a=n.map((function(e){return S_(e)?U_(A_,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var s=new Uint8Array(o),u=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]})),new e(s,!0)}}]),e}();function q_(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function W_(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function H_(e,t){return t}var K_=mn((function e(t,n,r,i){_f(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||H_})),G_=null;function $_(){if(G_)return G_;var e=[];e.push(new K_("bucket")),e.push(new K_("generation")),e.push(new K_("metageneration")),e.push(new K_("name","fullPath",!0));var t=new K_("name");t.xform=function(e,t){return function(e){return!S_(e)||e.length<2?e:W_(e)}(t)},e.push(t);var n=new K_("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new K_("timeCreated")),e.push(new K_("updated")),e.push(new K_("md5Hash",null,!0)),e.push(new K_("cacheControl",null,!0)),e.push(new K_("contentDisposition",null,!0)),e.push(new K_("contentEncoding",null,!0)),e.push(new K_("contentLanguage",null,!0)),e.push(new K_("contentType",null,!0)),e.push(new K_("metadata","customMetadata",!0)),G_=e}function Q_(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new w_(n,r);return t._makeStorageReference(i)}})}(r,e),r}function X_(e,t,n){var r=q_(t);return null===r?null:Q_(e,r,n)}function Y_(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}var J_=mn((function e(t,n,r,i){_f(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function Z_(e){if(!e)throw d_()}function eS(e,t){return function(n,r){var i=X_(e,r,t);return Z_(null!==i),i}}function tS(e,t){return function(n,r){var i=X_(e,r,t);return Z_(null!==i),function(e,t,n,r){var i=q_(t);if(null===i)return null;if(!S_(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent,s=a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return T_("/b/"+o(i)+"/o/"+o(a),n,r)+I_({alt:"media",token:t})}));return s[0]}(i,r,e.host,e._protocol)}}function nS(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new f_("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new f_("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new f_("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new f_("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function rS(e){var t=nS(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new f_("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function iS(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function aS(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+s;var u=iS(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Y_(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=B_.getBlob(c,r,l);if(null===f)throw v_();var h={name:u.fullPath},d=T_(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new J_(d,"POST",eS(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=nS(t),v}var oS=function(){function e(){var t=this;_f(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=b_.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=b_.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=b_.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return mn(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw k_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw k_("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw k_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw k_("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw k_("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),sS=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(oS);function uS(){return new sS}var cS=function(){function e(t,n){_f(this,e),this._service=t,this._location=n instanceof w_?n:w_.makeFromUrl(n,t.host)}return mn(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new w_(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return W_(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new w_(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw function(e){return new f_("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}]),e}();function lS(e,t,n){e._throwIfRoot("uploadBytes");var r=aS(e.storage,e._location,$_(),new B_(t,!0),n);return e.storage.makeRequestWithTokens(r,uS).then((function(t){return{metadata:t,ref:e}}))}function fS(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=T_(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new J_(r,"GET",tS(e,n),i);return a.errorHandler=rS(t),a}(e.storage,e._location,$_());return e.storage.makeRequestWithTokens(t,uS).then((function(e){if(null===e)throw new f_("no-download-url","The given file does not have any download URLs.");return e}))}function hS(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new w_(e._location.bucket,n);return new cS(e.storage,r)}function dS(e,t){if(e instanceof yS){var n=e;if(null==n._bucket)throw new f_("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new cS(n,n._bucket);return null!=t?dS(r,t):r}return void 0!==t?hS(e,t):e}function pS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof yS)return new cS(e,t);throw y_("To use ref(service, url), the first argument must be a Storage instance.")}return dS(e,t)}function vS(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:w_.makeFromBucketSpec(n,e)}var yS=function(){function e(t,n,r,i,a){_f(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=l_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?w_.makeFromBucketSpec(i,this._host):vS(this._host,this.app.options)}return mn(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=w_.makeFromBucketSpec(this._url,e):this._bucket=vS(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){C_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=bf(gf().mark((function e(){var t,n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=bf(gf().mark((function e(){var t,n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new cS(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new __(m_());var a=function(e,t,n,r,i,a){var o=I_(e.urlParams),s=e.url+o,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new R_(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=bf(gf().mark((function e(t,n){var r,i,a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=Ct(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),mS="@firebase/storage",gS="0.9.9",kS="storage";function bS(e,t,n,r){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:A_,r=arguments.length>3?arguments[3]:void 0;e._throwIfRoot("uploadString");var i=U_(n,t),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),lS(e,i.data,a)}(e=mh(e),t,n,r)}function wS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new yS(r,i,a,n,cd)}id(new gh(kS,wS,"PUBLIC").setMultipleInstances(!0)),fd(mS,gS,""),fd(mS,gS,"esm2017");var _S,SS="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},xS={},ES=ES||{},CS=SS||self;function TS(){}function IS(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function RS(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var NS="closure_uid_"+(1e9*Math.random()>>>0),PS=0;function OS(e,t,n){return e.call.apply(e.bind,arguments)}function AS(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function DS(e,t,n){return(DS=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OS:AS).apply(null,arguments)}function MS(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function LS(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function FS(){this.s=this.s,this.o=this.o}var US={};FS.prototype.s=!1,FS.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,NS)&&e[NS]||(e[NS]=++PS)}(this);delete US[e]}},FS.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var jS=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},VS=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function zS(e){return Array.prototype.concat.apply([],arguments)}function BS(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function qS(e){return/^[\s\xa0]*$/.test(e)}var WS,HS=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function KS(e,t){return-1!=e.indexOf(t)}function GS(e,t){return e<t?-1:e>t?1:0}e:{var $S=CS.navigator;if($S){var QS=$S.userAgent;if(QS){WS=QS;break e}}WS=""}function XS(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function YS(e){var t={};for(var n in e)t[n]=e[n];return t}var JS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZS(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<JS.length;a++)n=JS[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ex(e){return ex[" "](e),e}ex[" "]=TS;var tx,nx=KS(WS,"Opera"),rx=KS(WS,"Trident")||KS(WS,"MSIE"),ix=KS(WS,"Edge"),ax=ix||rx,ox=KS(WS,"Gecko")&&!(KS(WS.toLowerCase(),"webkit")&&!KS(WS,"Edge"))&&!(KS(WS,"Trident")||KS(WS,"MSIE"))&&!KS(WS,"Edge"),sx=KS(WS.toLowerCase(),"webkit")&&!KS(WS,"Edge");function ux(){var e=CS.document;return e?e.documentMode:void 0}e:{var cx="",lx=function(){var e=WS;return ox?/rv:([^\);]+)(\)|;)/.exec(e):ix?/Edge\/([\d\.]+)/.exec(e):rx?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):sx?/WebKit\/(\S+)/.exec(e):nx?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(lx&&(cx=lx?lx[1]:""),rx){var fx=ux();if(null!=fx&&fx>parseFloat(cx)){tx=String(fx);break e}}tx=cx}var hx,dx={};function px(){return function(e){var t=dx;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=HS(String(tx)).split("."),n=HS("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=GS(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||GS(0==a[2].length,0==o[2].length)||GS(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(CS.document&&rx){var vx=ux();hx=vx||(parseInt(tx,10)||void 0)}else hx=void 0;var yx=hx,mx=function(){if(!CS.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{CS.addEventListener("test",TS,t),CS.removeEventListener("test",TS,t)}catch(M){}return e}();function gx(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function kx(e,t){if(gx.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ox){e:{try{ex(t.nodeName);var i=!0;break e}catch(D){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:bx[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&kx.Z.h.call(this)}}gx.prototype.h=function(){this.defaultPrevented=!0},LS(kx,gx);var bx={2:"touch",3:"pen",4:"mouse"};kx.prototype.h=function(){kx.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var wx="closure_listenable_"+(1e6*Math.random()|0),_x=0;function Sx(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++_x,this.ca=this.fa=!1}function xx(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ex(e){this.src=e,this.g={},this.h=0}function Cx(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=jS(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(xx(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Tx(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ex.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Tx(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Sx(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ix="closure_lm_"+(1e6*Math.random()|0),Rx={};function Nx(e,t,n,r,i){if(r&&r.once)return Ox(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Nx(e,t[a],n,r,i);return null}return n=jx(n),e&&e[wx]?e.N(t,n,RS(r)?!!r.capture:!!r,i):Px(e,t,n,!1,r,i)}function Px(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=RS(i)?!!i.capture:!!i,s=Fx(e);if(s||(e[Ix]=s=new Ex(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Lx;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)mx||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Mx(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ox(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ox(e,t[a],n,r,i);return null}return n=jx(n),e&&e[wx]?e.O(t,n,RS(r)?!!r.capture:!!r,i):Px(e,t,n,!0,r,i)}function Ax(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ax(e,t[a],n,r,i);else r=RS(r)?!!r.capture:!!r,n=jx(n),e&&e[wx]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Tx(a=e.g[t],n,r,i))&&(xx(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Fx(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Tx(t,n,r,i)),(n=-1<e?t[e]:null)&&Dx(n))}function Dx(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[wx])Cx(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Mx(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Fx(t))?(Cx(n,e),0==n.h&&(n.src=null,t[Ix]=null)):xx(e)}}}function Mx(e){return e in Rx?Rx[e]:Rx[e]="on"+e}function Lx(e,t){if(e.ca)e=!0;else{t=new kx(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Dx(e),e=n.call(r,t)}return e}function Fx(e){return(e=e[Ix])instanceof Ex?e:null}var Ux="__closure_events_fn_"+(1e9*Math.random()>>>0);function jx(e){return"function"===typeof e?e:(e[Ux]||(e[Ux]=function(t){return e.handleEvent(t)}),e[Ux])}function Vx(){FS.call(this),this.i=new Ex(this),this.P=this,this.I=null}function zx(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new gx(t,e);else if(t instanceof gx)t.target=t.target||e;else{var i=t;ZS(t=new gx(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Bx(o,r,!0,t)&&i}if(i=Bx(o=t.g=e,r,!0,t)&&i,i=Bx(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Bx(o=t.g=n[a],r,!1,t)&&i}function Bx(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Cx(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}LS(Vx,FS),Vx.prototype[wx]=!0,Vx.prototype.removeEventListener=function(e,t,n,r){Ax(this,e,t,n,r)},Vx.prototype.M=function(){if(Vx.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xx(n[r]);delete t.g[e],t.h--}}this.I=null},Vx.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Vx.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var qx=CS.JSON.stringify;function Wx(){var e=Jx,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Hx,Kx=function(){function e(){_f(this,e),this.h=this.g=null}return mn(e,[{key:"add",value:function(e,t){var n=Gx.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Gx=new(function(){function e(t,n){_f(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return mn(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new $x}),(function(e){return e.reset()})),$x=function(){function e(){_f(this,e),this.next=this.g=this.h=null}return mn(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Qx(e){CS.setTimeout((function(){throw e}),0)}function Xx(e,t){Hx||function(){var e=CS.Promise.resolve(void 0);Hx=function(){e.then(Zx)}}(),Yx||(Hx(),Yx=!0),Jx.add(e,t)}var Yx=!1,Jx=new Kx;function Zx(){for(var e;e=Wx();){try{e.h.call(e.g)}catch(M){Qx(M)}var t=Gx;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Yx=!1}function eE(e,t){Vx.call(this),this.h=e||1,this.g=t||CS,this.j=DS(this.kb,this),this.l=Date.now()}function tE(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function nE(e,t,n){if("function"===typeof e)n&&(e=DS(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=DS(e.handleEvent,e)}return 2147483647<Number(t)?-1:CS.setTimeout(e,t||0)}function rE(e){e.g=nE((function(){e.g=null,e.i&&(e.i=!1,rE(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}LS(eE,Vx),(_S=eE.prototype).da=!1,_S.S=null,_S.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),zx(this,"tick"),this.da&&(tE(this),this.start()))}},_S.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_S.M=function(){eE.Z.M.call(this),tE(this),delete this.g};var iE=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return mn(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:rE(this)}},{key:"M",value:function(){dg(xf(n.prototype),"M",this).call(this),this.g&&(CS.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(FS);function aE(e){FS.call(this),this.h=e,this.g={}}LS(aE,FS);var oE=[];function sE(e,t,n,r){Array.isArray(n)||(n&&(oE[0]=n.toString()),n=oE);for(var i=0;i<n.length;i++){var a=Nx(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function uE(e){XS(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Dx(e)}),e),e.g={}}function cE(){this.g=!0}function lE(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return qx(n)}catch(T){return t}}(e,n)+(r?" "+r:"")}))}aE.prototype.M=function(){aE.Z.M.call(this),uE(this)},aE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cE.prototype.Aa=function(){this.g=!1},cE.prototype.info=function(){};var fE={},hE=null;function dE(){return hE=hE||new Vx}function pE(e){gx.call(this,fE.Ma,e)}function vE(e){var t=dE();zx(t,new pE(t,e))}function yE(e,t){gx.call(this,fE.STAT_EVENT,e),this.stat=t}function mE(e){var t=dE();zx(t,new yE(t,e))}function gE(e,t){gx.call(this,fE.Na,e),this.size=t}function kE(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return CS.setTimeout((function(){e()}),t)}fE.Ma="serverreachability",LS(pE,gx),fE.STAT_EVENT="statevent",LS(yE,gx),fE.Na="timingevent",LS(gE,gx);var bE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},wE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function _E(){}function SE(e){return e.h||(e.h=e.i())}function xE(){}_E.prototype.h=null;var EE,CE={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function TE(){gx.call(this,"d")}function IE(){gx.call(this,"c")}function RE(){}function NE(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new aE(this),this.P=OE,e=ax?125:void 0,this.W=new eE(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new PE}function PE(){this.i=null,this.g="",this.h=!1}LS(TE,gx),LS(IE,gx),LS(RE,_E),RE.prototype.g=function(){return new XMLHttpRequest},RE.prototype.i=function(){return{}},EE=new RE;var OE=45e3,AE={},DE={};function ME(e,t,n){e.K=1,e.v=iC(JE(t)),e.s=n,e.U=!0,LE(e,null)}function LE(e,t){e.F=Date.now(),VE(e),e.A=JE(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),mC(n.h,"t",r),e.C=0,n=e.l.H,e.h=new PE,e.g=gT(e.l,n?t:null,!e.s),0<e.O&&(e.L=new iE(DS(e.Ia,e,e.g),e.O)),sE(e.V,e.g,"readystatechange",e.gb),t=e.H?YS(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),vE(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function FE(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function UE(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=jE(e,n))==DE){4==t&&(e.o=4,mE(14),i=!1),lE(e.j,e.m,null,"[Incomplete Response]");break}if(r==AE){e.o=4,mE(15),lE(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}lE(e.j,e.m,r,null),HE(e,r)}FE(e)&&r!=DE&&r!=AE&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,mE(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),lT(t),t.L=!0,mE(11))):(lE(e.j,e.m,n,"[Invalid Chunked Response]"),WE(e),qE(e))}function jE(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?DE:(n=Number(t.substring(n,r)),isNaN(n)?AE:(r+=1)+n>t.length?DE:(t=t.substr(r,n),e.C=r+n,t))}function VE(e){e.Y=Date.now()+e.P,zE(e,e.P)}function zE(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=kE(DS(e.eb,e),t)}function BE(e){e.B&&(CS.clearTimeout(e.B),e.B=null)}function qE(e){0==e.l.G||e.I||dT(e.l,e)}function WE(e){BE(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,tE(e.W),uE(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function HE(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||xC(n.i,e)))if(n.I=e.N,!e.J&&xC(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;hT(n),tT(n)}cT(n),mE(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=kE(DS(n.ab,n),6e3));if(1>=SC(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else vT(n,11)}else if((e.J||n.g==e)&&hT(n),!qS(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(KS(l,"spdy")||KS(l,"quic")||KS(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(EC(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,rC(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=mT(r,r.H?r.la:null,r.W),d.J){CC(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(BE(p),VE(p)),r.g=d}else uT(r);0<n.l.length&&iT(n)}else"stop"!=a[0]&&"close"!=a[0]||vT(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?vT(n,7):eT(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}vE(4)}catch(a){}}function KE(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(IS(e)||"string"===typeof e)VS(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(IS(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(IS(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function GE(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof GE)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $E(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];QE(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)QE(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function QE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(_S=NE.prototype).setTimeout=function(e){this.P=e},_S.gb=function(e){e=e.target;var t=this.L;t&&3==QC(e)?t.l():this.Ia(e)},_S.Ia=function(e){try{if(e==this.g)e:{var t=QC(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ax||this.g&&(this.h.h||this.g.ga()||XC(this.g)))){this.I||4!=t||7==n||vE(8==n||0>=r?3:2),BE(this);var i=this.g.ba();this.N=i;t:if(FE(this)){var a=XC(this.g);e="";var o=a.length,s=4==QC(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){WE(this),qE(this);var u="";break t}this.h.i=new CS.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!qS(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,mE(12),WE(this),qE(this);break e}lE(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,HE(this,i)}this.U?(UE(this,t,u),ax&&this.i&&3==t&&(sE(this.V,this.W,"tick",this.fb),this.W.start())):(lE(this.j,this.m,u,null),HE(this,u)),4==t&&WE(this),this.i&&!this.I&&(4==t?dT(this.l,this):(this.i=!1,VE(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,mE(12)):(this.o=0,mE(13)),WE(this),qE(this)}}}catch(t){}},_S.fb=function(){if(this.g){var e=QC(this.g),t=this.g.ga();this.C<t.length&&(BE(this),UE(this,e,t),this.i&&4!=e&&VE(this))}},_S.cancel=function(){this.I=!0,WE(this)},_S.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(vE(3),mE(17)),WE(this),this.o=2,qE(this)):zE(this,this.Y-e)},(_S=GE.prototype).R=function(){$E(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},_S.T=function(){return $E(this),this.g.concat()},_S.get=function(e,t){return QE(this.h,e)?this.h[e]:t},_S.set=function(e,t){QE(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},_S.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var XE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function YE(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof YE){this.g=void 0!==t?t:e.g,ZE(this,e.j),this.s=e.s,eC(this,e.i),tC(this,e.m),this.l=e.l,t=e.h;var n=new dC;n.i=t.i,t.g&&(n.g=new GE(t.g),n.h=t.h),nC(this,n),this.o=e.o}else e&&(n=String(e).match(XE))?(this.g=!!t,ZE(this,n[1]||"",!0),this.s=aC(n[2]||""),eC(this,n[3]||"",!0),tC(this,n[4]),this.l=aC(n[5]||"",!0),nC(this,n[6]||"",!0),this.o=aC(n[7]||"")):(this.g=!!t,this.h=new dC(null,this.g))}function JE(e){return new YE(e)}function ZE(e,t,n){e.j=n?aC(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function eC(e,t,n){e.i=n?aC(t,!0):t}function tC(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nC(e,t,n){t instanceof dC?(e.h=t,function(e,t){t&&!e.j&&(pC(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(vC(this,t),mC(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=oC(t,fC)),e.h=new dC(t,e.g))}function rC(e,t,n){e.h.set(t,n)}function iC(e){return rC(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function aC(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function oC(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,sC),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sC(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}YE.prototype.toString=function(){var e=[],t=this.j;t&&e.push(oC(t,uC,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(oC(t,uC,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(oC(n,"/"==n.charAt(0)?lC:cC,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",oC(n,hC)),e.join("")};var uC=/[#\/\?@]/g,cC=/[#\?:]/g,lC=/[#\?]/g,fC=/[#\?@]/g,hC=/#/g;function dC(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pC(e){e.g||(e.g=new GE,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function vC(e,t){pC(e),t=gC(e,t),QE(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,QE((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$E(e)))}function yC(e,t){return pC(e),t=gC(e,t),QE(e.g.h,t)}function mC(e,t,n){vC(e,t),0<n.length&&(e.i=null,e.g.set(gC(e,t),BS(n)),e.h+=n.length)}function gC(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(_S=dC.prototype).add=function(e,t){pC(this),this.i=null,e=gC(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},_S.forEach=function(e,t){pC(this),this.g.forEach((function(n,r){VS(n,(function(n){e.call(t,n,r,this)}),this)}),this)},_S.T=function(){pC(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},_S.R=function(e){pC(this);var t=[];if("string"===typeof e)yC(this,e)&&(t=zS(t,this.g.get(gC(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=zS(t,e[n])}return t},_S.set=function(e,t){return pC(this),this.i=null,yC(this,e=gC(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},_S.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},_S.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var kC=mn((function e(t,n){_f(this,e),this.h=t,this.g=n}));function bC(e){this.l=e||wC,CS.PerformanceNavigationTiming?e=0<(e=CS.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(CS.g&&CS.g.Ea&&CS.g.Ea()&&CS.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var wC=10;function _C(e){return!!e.h||!!e.g&&e.g.size>=e.j}function SC(e){return e.h?1:e.g?e.g.size:0}function xC(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function EC(e,t){e.g?e.g.add(t):e.h=t}function CC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function TC(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=wf(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return BS(e.i)}function IC(){}function RC(){this.g=new IC}function NC(e,t,n){var r=n||"";try{KE(e,(function(e,n){var i=e;RS(e)&&(i=qx(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function PC(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(D){}}function OC(e){this.l=e.$b||null,this.j=e.ib||!1}function AC(e,t){Vx.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=DC,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bC.prototype.cancel=function(){if(this.i=TC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=wf(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},IC.prototype.stringify=function(e){return CS.JSON.stringify(e,void 0)},IC.prototype.parse=function(e){return CS.JSON.parse(e,void 0)},LS(OC,_E),OC.prototype.g=function(){return new AC(this.l,this.j)},OC.prototype.i=function(e){return function(){return e}}({}),LS(AC,Vx);var DC=0;function MC(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function LC(e){e.readyState=4,e.l=null,e.j=null,e.A=null,FC(e)}function FC(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(_S=AC.prototype).open=function(e,t){if(this.readyState!=DC)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,FC(this)},_S.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||CS).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},_S.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,LC(this)),this.readyState=DC},_S.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,FC(this)),this.g&&(this.readyState=3,FC(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof CS.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MC(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},_S.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?LC(this):FC(this),3==this.readyState&&MC(this)}},_S.Ua=function(e){this.g&&(this.response=this.responseText=e,LC(this))},_S.Ta=function(e){this.g&&(this.response=e,LC(this))},_S.ha=function(){this.g&&LC(this)},_S.setRequestHeader=function(e,t){this.v.append(e,t)},_S.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},_S.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(AC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var UC=CS.JSON.parse;function jC(e){Vx.call(this),this.headers=new GE,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=VC,this.K=this.L=!1}LS(jC,Vx);var VC="",zC=/^https?$/i,BC=["POST","PUT"];function qC(e){return"content-type"==e.toLowerCase()}function WC(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,HC(e),GC(e)}function HC(e){e.D||(e.D=!0,zx(e,"complete"),zx(e,"error"))}function KC(e){if(e.h&&"undefined"!=typeof ES&&(!e.C[1]||4!=QC(e)||2!=e.ba()))if(e.v&&4==QC(e))nE(e.Fa,0,e);else if(zx(e,"readystatechange"),4==QC(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(XE)[1]||null;if(!a&&CS.self&&CS.self.location){var o=CS.self.location.protocol;a=o.substr(0,o.length-1)}i=!zC.test(a?a.toLowerCase():"")}t=i}if(t)zx(e,"complete"),zx(e,"success");else{e.m=6;try{var s=2<QC(e)?e.g.statusText:""}catch(O){s=""}e.j=s+" ["+e.ba()+"]",HC(e)}}finally{GC(e)}}}function GC(e,t){if(e.g){$C(e);var n=e.g,r=e.C[0]?TS:null;e.g=null,e.C=null,t||zx(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function $C(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(CS.clearTimeout(e.A),e.A=null)}function QC(e){return e.g?e.g.readyState:0}function XC(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case VC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(q){return null}}function YC(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return XS(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):rC(e,t,n))}function JC(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ZC(e){this.za=0,this.l=[],this.h=new cE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=JC("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=JC("baseRetryDelayMs",5e3,e),this.$a=JC("retryDelaySeedMs",1e4,e),this.Ya=JC("forwardChannelMaxRetries",2,e),this.ra=JC("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new bC(e&&e.concurrentRequestLimit),this.Ca=new RC,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function eT(e){if(nT(e),3==e.G){var t=e.V++,n=JE(e.F);rC(n,"SID",e.J),rC(n,"RID",t),rC(n,"TYPE","terminate"),oT(e,n),(t=new NE(e,e.h,t,void 0)).K=2,t.v=iC(JE(n)),n=!1,CS.navigator&&CS.navigator.sendBeacon&&(n=CS.navigator.sendBeacon(t.v.toString(),"")),!n&&CS.Image&&((new Image).src=t.v,n=!0),n||(t.g=gT(t.l,null),t.g.ea(t.v)),t.F=Date.now(),VE(t)}yT(e)}function tT(e){e.g&&(lT(e),e.g.cancel(),e.g=null)}function nT(e){tT(e),e.u&&(CS.clearTimeout(e.u),e.u=null),hT(e),e.i.cancel(),e.m&&("number"===typeof e.m&&CS.clearTimeout(e.m),e.m=null)}function rT(e,t){e.l.push(new kC(e.Za++,t)),3==e.G&&iT(e)}function iT(e){_C(e.i)||e.m||(e.m=!0,Xx(e.Ha,e),e.C=0)}function aT(e,t){var n;n=t?t.m:e.V++;var r=JE(e.F);rC(r,"SID",e.J),rC(r,"RID",n),rC(r,"AID",e.U),oT(e,r),e.o&&e.s&&YC(r,e.o,e.s),n=new NE(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=sT(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),EC(e.i,n),ME(n,r,t)}function oT(e,t){e.j&&KE({},(function(e,n){rC(t,n,e)}))}function sT(e,t,n){n=Math.min(e.l.length,n);var r=e.j?DS(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{NC(l,o,"req"+c+"_")}catch(ce){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function uT(e){e.g||e.u||(e.Y=1,Xx(e.Ga,e),e.A=0)}function cT(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=kE(DS(e.Ga,e),pT(e,e.A)),e.A++,!0)}function lT(e){null!=e.B&&(CS.clearTimeout(e.B),e.B=null)}function fT(e){e.g=new NE(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=JE(e.oa);rC(t,"RID","rpc"),rC(t,"SID",e.J),rC(t,"CI",e.N?"0":"1"),rC(t,"AID",e.U),oT(e,t),rC(t,"TYPE","xmlhttp"),e.o&&e.s&&YC(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=iC(JE(t)),n.s=null,n.U=!0,LE(n,e)}function hT(e){null!=e.v&&(CS.clearTimeout(e.v),e.v=null)}function dT(e,t){var n=null;if(e.g==t){hT(e),lT(e),e.g=null;var r=2}else{if(!xC(e.i,t))return;n=t.D,CC(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;zx(r=dE(),new gE(r,n,t,i)),iT(e)}else uT(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(SC(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=kE(DS(e.Ha,e,t),pT(e,e.C)),e.C++,!0))}(e,t)||2==r&&cT(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:vT(e,5);break;case 4:vT(e,10);break;case 3:vT(e,6);break;default:vT(e,2)}}function pT(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function vT(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=DS(e.jb,e);n||(n=new YE("//www.google.com/images/cleardot.gif"),CS.location&&"http"==CS.location.protocol||ZE(n,"https"),iC(n)),function(e,t){var n=new cE;if(CS.Image){var r=new Image;r.onload=MS(PC,n,r,"TestLoadImage: loaded",!0,t),r.onerror=MS(PC,n,r,"TestLoadImage: error",!1,t),r.onabort=MS(PC,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=MS(PC,n,r,"TestLoadImage: timeout",!1,t),CS.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else mE(2);e.G=0,e.j&&e.j.va(t),yT(e),nT(e)}function yT(e){e.G=0,e.I=-1,e.j&&(0==TC(e.i).length&&0==e.l.length||(e.i.i.length=0,BS(e.l),e.l.length=0),e.j.ua())}function mT(e,t,n){var r=function(e){return e instanceof YE?JE(e):new YE(e,void 0)}(n);if(""!=r.i)t&&eC(r,t+"."+r.i),tC(r,r.m);else{var i=CS.location;r=function(e,t,n,r){var i=new YE(null,void 0);return e&&ZE(i,e),t&&eC(i,t),n&&tC(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&XS(e.aa,(function(e,t){rC(r,t,e)})),t=e.D,n=e.sa,t&&n&&rC(r,t,n),rC(r,"VER",e.ma),oT(e,r),r}function gT(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new jC(new OC({ib:!0})):new jC(e.qa)).L=e.H,t}function kT(){}function bT(){if(rx&&!(10<=Number(yx)))throw Error("Environmental error: no available transport.")}function wT(e,t){Vx.call(this),this.g=new ZC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!qS(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!qS(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new xT(this)}function _T(e){TE.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ST(){IE.call(this),this.status=1}function xT(e){this.g=e}(_S=jC.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():EE.g(),this.C=this.u?SE(this.u):SE(EE),this.g.onreadystatechange=DS(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(D){return void WC(this,D)}e=n||"";var i=new GE(this.headers);r&&KE(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=qC,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=CS.FormData&&e instanceof CS.FormData,!(0<=jS(BC,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$C(this),0<this.B&&((this.K=function(e){return rx&&px()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=DS(this.pa,this)):this.A=nE(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(D){WC(this,D)}},_S.pa=function(){"undefined"!=typeof ES&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zx(this,"timeout"),this.abort(8))},_S.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,zx(this,"complete"),zx(this,"abort"),GC(this))},_S.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),GC(this,!0)),jC.Z.M.call(this)},_S.Fa=function(){this.s||(this.F||this.v||this.l?KC(this):this.cb())},_S.cb=function(){KC(this)},_S.ba=function(){try{return 2<QC(this)?this.g.status:-1}catch(A){return-1}},_S.ga=function(){try{return this.g?this.g.responseText:""}catch(A){return""}},_S.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),UC(t)}},_S.Da=function(){return this.m},_S.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(_S=ZC.prototype).ma=8,_S.G=1,_S.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(q){}},_S.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new NE(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ZS(n=YS(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=sT(this,t,r),rC(i=JE(this.F),"RID",e),rC(i,"CVER",22),this.D&&rC(i,"X-HTTP-Session-Id",this.D),oT(this,i),this.o&&n&&YC(i,this.o,n),EC(this.i,t),this.Ra&&rC(i,"TYPE","init"),this.ja?(rC(i,"$req",r),rC(i,"SID","null"),t.$=!0,ME(t,i,null)):ME(t,i,r),this.G=2}}else 3==this.G&&(e?aT(this,e):0==this.l.length||_C(this.i)||aT(this))},_S.Ga=function(){if(this.u=null,fT(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=kE(DS(this.bb,this),e)}},_S.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,mE(10),tT(this),fT(this))},_S.ab=function(){null!=this.v&&(this.v=null,tT(this),cT(this),mE(19))},_S.jb=function(e){e?(this.h.info("Successfully pinged google.com"),mE(2)):(this.h.info("Failed to ping google.com"),mE(1))},(_S=kT.prototype).xa=function(){},_S.wa=function(){},_S.va=function(){},_S.ua=function(){},_S.Oa=function(){},bT.prototype.g=function(e,t){return new wT(e,t)},LS(wT,Vx),wT.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Xx(DS(e.hb,e,t))),mE(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=mT(e,null,e.W),iT(e)},wT.prototype.close=function(){eT(this.g)},wT.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,rT(this.g,t)}else this.v?((t={}).__data__=qx(e),rT(this.g,t)):rT(this.g,e)},wT.prototype.M=function(){this.g.j=null,delete this.j,eT(this.g),delete this.g,wT.Z.M.call(this)},LS(_T,TE),LS(ST,IE),LS(xT,kT),xT.prototype.xa=function(){zx(this.g,"a")},xT.prototype.wa=function(e){zx(this.g,new _T(e))},xT.prototype.va=function(e){zx(this.g,new ST(e))},xT.prototype.ua=function(){zx(this.g,"b")},bT.prototype.createWebChannel=bT.prototype.g,wT.prototype.send=wT.prototype.u,wT.prototype.open=wT.prototype.m,wT.prototype.close=wT.prototype.close,bE.NO_ERROR=0,bE.TIMEOUT=8,bE.HTTP_ERROR=6,wE.COMPLETE="complete",xE.EventType=CE,CE.OPEN="a",CE.CLOSE="b",CE.ERROR="c",CE.MESSAGE="d",Vx.prototype.listen=Vx.prototype.N,jC.prototype.listenOnce=jC.prototype.O,jC.prototype.getLastError=jC.prototype.La,jC.prototype.getLastErrorCode=jC.prototype.Da,jC.prototype.getStatus=jC.prototype.ba,jC.prototype.getResponseJson=jC.prototype.Qa,jC.prototype.getResponseText=jC.prototype.ga,jC.prototype.send=jC.prototype.ea;var ET=xS.createWebChannelTransport=function(){return new bT},CT=xS.getStatEventTarget=function(){return dE()},TT=xS.ErrorCode=bE,IT=xS.EventType=wE,RT=xS.Event=fE,NT=xS.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},PT=xS.FetchXmlHttpFactory=OC,OT=xS.WebChannel=xE,AT=xS.XhrIo=jC,DT="@firebase/firestore",MT=function(){function e(t){_f(this,e),this.uid=t}return mn(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();MT.UNAUTHENTICATED=new MT(null),MT.GOOGLE_CREDENTIALS=new MT("google-credentials-uid"),MT.FIRST_PARTY=new MT("first-party-uid"),MT.MOCK_USER=new MT("mock-user");var LT="9.9.2",FT=new Nh("@firebase/firestore");function UT(){return FT.logLevel}function jT(e){if(FT.logLevel<=Sh.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(BT);FT.debug.apply(FT,["Firestore (".concat(LT,"): ").concat(e)].concat(vi(i)))}}function VT(e){if(FT.logLevel<=Sh.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(BT);FT.error.apply(FT,["Firestore (".concat(LT,"): ").concat(e)].concat(vi(i)))}}function zT(e){if(FT.logLevel<=Sh.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(BT);FT.warn.apply(FT,["Firestore (".concat(LT,"): ").concat(e)].concat(vi(i)))}}function BT(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function qT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(LT,") INTERNAL ASSERTION FAILED: ")+e;throw VT(t),new Error(t)}function WT(e,t){e||qT()}function HT(e,t){return e}var KT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},GT=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return mn(n)}(Xf),$T=mn((function e(){var t=this;_f(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),QT=mn((function e(t,n){_f(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),XT=function(){function e(){_f(this,e)}return mn(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(MT.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),YT=function(){function e(t){_f(this,e),this.t=t,this.currentUser=MT.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return mn(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new $T;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new $T,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){jT("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(jT("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $T)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(jT("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(WT("string"==typeof n.accessToken),new QT(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return WT(null===e||"string"==typeof e),new MT(e)}}]),e}(),JT=mn((function e(t,n,r){_f(this,e),this.type="FirstParty",this.user=MT.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),ZT=function(){function e(t,n,r){_f(this,e),this.h=t,this.l=n,this.m=r}return mn(e,[{key:"getToken",value:function(){return Promise.resolve(new JT(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(MT.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),eI=mn((function e(t){_f(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),tI=function(){function e(t){_f(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return mn(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&jT("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,jT("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){jT("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):jT("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(WT("string"==typeof t.token),e.p=t.token,new eI(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function nI(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var rI=function(){function e(){_f(this,e)}return mn(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=nI(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function iI(e,t){return e<t?-1:e>t?1:0}function aI(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var oI=function(){function e(t,n){if(_f(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new GT(KT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new GT(KT.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new GT(KT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new GT(KT.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return mn(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?iI(this.nanoseconds,e.nanoseconds):iI(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),sI=function(){function e(t){_f(this,e),this.timestamp=t}return mn(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new oI(0,0))}},{key:"max",value:function(){return new e(new oI(253402300799,999999999))}}]),e}(),uI=function(){function e(t,n,r){_f(this,e),void 0===n?n=0:n>t.length&&qT(),void 0===r?r=t.length-n:r>t.length-n&&qT(),this.segments=t,this.offset=n,this.len=r}return mn(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),cI=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new GT(KT.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,vi(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uI),lI=/^[_a-zA-Z][_a-zA-Z0-9]*$/,fI=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return lI.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new GT(KT.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new GT(KT.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new GT(KT.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new GT(KT.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(uI),hI=function(){function e(t){_f(this,e),this.path=t}return mn(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===cI.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(cI.fromString(t))}},{key:"fromName",value:function(t){return new e(cI.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(cI.emptyPath())}},{key:"comparator",value:function(e,t){return cI.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new cI(t.slice()))}}]),e}(),dI=mn((function e(t,n,r,i){_f(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));dI.UNKNOWN_ID=-1;function pI(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=sI.fromTimestamp(1e9===r?new oI(n+1,0):new oI(n,r));return new yI(i,hI.empty(),t)}function vI(e){return new yI(e.readTime,e.key,-1)}var yI=function(){function e(t,n,r){_f(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return mn(e,null,[{key:"min",value:function(){return new e(sI.min(),hI.empty(),-1)}},{key:"max",value:function(){return new e(sI.max(),hI.empty(),-1)}}]),e}();function mI(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=hI.comparator(e.documentKey,t.documentKey))?n:iI(e.largestBatchId,t.largestBatchId)}var gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kI=function(){function e(){_f(this,e),this.onCommittedListeners=[]}return mn(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function bI(e){return wI.apply(this,arguments)}function wI(){return wI=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===KT.FAILED_PRECONDITION&&t.message===gI){e.next=2;break}throw t;case 2:jT("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}var _I=function(){function e(t){var n=this;_f(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return mn(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&qT(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=wf(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function SI(e){return"IndexedDbTransactionError"===e.name}var xI=function(){function e(t,n){var r=this;_f(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return mn(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function EI(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function CI(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function TI(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}xI.ot=-1;var II=function(){function e(t,n){_f(this,e),this.comparator=t,this.root=n||NI.EMPTY}return mn(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,NI.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,NI.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new RI(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new RI(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new RI(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new RI(this.root,e,this.comparator,!0)}}]),e}(),RI=function(){function e(t,n,r,i){_f(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return mn(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),NI=function(){function e(t,n,r,i,a){_f(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return mn(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw qT();if(this.right.isRed())throw qT();var e=this.left.check();if(e!==this.right.check())throw qT();return e+(this.isRed()?0:1)}}]),e}();NI.EMPTY=null,NI.RED=!0,NI.BLACK=!1,NI.EMPTY=new(function(){function e(){_f(this,e),this.size=0}return mn(e,[{key:"key",get:function(){throw qT()}},{key:"value",get:function(){throw qT()}},{key:"color",get:function(){throw qT()}},{key:"left",get:function(){throw qT()}},{key:"right",get:function(){throw qT()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new NI(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var PI=function(){function e(t){_f(this,e),this.comparator=t,this.data=new II(this.comparator)}return mn(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new OI(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new OI(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),OI=function(){function e(t){_f(this,e),this.iter=t}return mn(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var AI=function(){function e(t){_f(this,e),this.fields=t,t.sort(fI.comparator)}return mn(e,[{key:"unionWith",value:function(t){var n,r=new PI(fI.comparator),i=wf(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=wf(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=wf(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return aI(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var DI=function(e){function t(e){_f(this,t),this.binaryString=e}return mn(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return iI(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();DI.EMPTY_BYTE_STRING=new DI("");var MI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function LI(e){if(WT(!!e),"string"==typeof e){var t=0,n=MI.exec(e);if(WT(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:FI(e.seconds),nanos:FI(e.nanos)}}function FI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function UI(e){return"string"==typeof e?DI.fromBase64String(e):DI.fromUint8Array(e)}function jI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function VI(e){var t=e.mapValue.fields.__previous_value__;return jI(t)?VI(t):t}function zI(e){var t=LI(e.mapValue.fields.__local_write_time__.timestampValue);return new oI(t.seconds,t.nanos)}var BI=mn((function e(t,n,r,i,a,o,s,u){_f(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),qI=function(){function e(t,n){_f(this,e),this.projectId=t,this.database=n||"(default)"}return mn(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function WI(e){return null==e}function HI(e){return 0===e&&1/e==-1/0}function KI(e){return"number"==typeof e&&Number.isInteger(e)&&!HI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var GI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $I(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jI(e)?4:sR(e)?9007199254740991:10:qT()}function QI(e,t){if(e===t)return!0;var n=$I(e);if(n!==$I(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zI(e).isEqual(zI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=LI(e.timestampValue),r=LI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return UI(e.bytesValue).isEqual(UI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return FI(e.geoPointValue.latitude)===FI(t.geoPointValue.latitude)&&FI(e.geoPointValue.longitude)===FI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return FI(e.integerValue)===FI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=FI(e.doubleValue),r=FI(t.doubleValue);return n===r?HI(n)===HI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return aI(e.arrayValue.values||[],t.arrayValue.values||[],QI);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(EI(n)!==EI(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!QI(n[i],r[i])))return!1;return!0}(e,t);default:return qT()}}function XI(e,t){return void 0!==(e.values||[]).find((function(e){return QI(e,t)}))}function YI(e,t){if(e===t)return 0;var n=$I(e),r=$I(t);if(n!==r)return iI(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return iI(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=FI(e.integerValue||e.doubleValue),r=FI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return JI(e.timestampValue,t.timestampValue);case 4:return JI(zI(e),zI(t));case 5:return iI(e.stringValue,t.stringValue);case 6:return function(e,t){var n=UI(e),r=UI(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=iI(n[i],r[i]);if(0!==a)return a}return iI(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=iI(FI(e.latitude),FI(t.latitude));return 0!==n?n:iI(FI(e.longitude),FI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=YI(n[i],r[i]);if(a)return a}return iI(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===GI.mapValue&&t===GI.mapValue)return 0;if(e===GI.mapValue)return 1;if(t===GI.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=iI(r[o],a[o]);if(0!==s)return s;var u=YI(n[r[o]],i[a[o]]);if(0!==u)return u}return iI(r.length,a.length)}(e.mapValue,t.mapValue);default:throw qT()}}function JI(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return iI(e,t);var n=LI(e),r=LI(t),i=iI(n.seconds,r.seconds);return 0!==i?i:iI(n.nanos,r.nanos)}function ZI(e){return eR(e)}function eR(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=LI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?UI(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,hI.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=wf(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=eR(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=wf(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(eR(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):qT();var t,n}function tR(e){return!!e&&"integerValue"in e}function nR(e){return!!e&&"arrayValue"in e}function rR(e){return!!e&&"nullValue"in e}function iR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function aR(e){return!!e&&"mapValue"in e}function oR(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return CI(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=oR(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=oR(e.arrayValue.values[r]);return n}return Object.assign({},e)}function sR(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var uR=function(){function e(t){_f(this,e),this.value=t}return mn(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!aR(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oR(t)}},{key:"setAll",value:function(e){var t=this,n=fI.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=oR(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());aR(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return QI(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];aR(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){CI(t,(function(t,n){return e[t]=n}));var r,i=wf(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(oR(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function cR(e){var t=[];return CI(e.fields,(function(e,n){var r=new fI([e]);if(aR(n)){var i=cR(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=wf(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new AI(t)}var lR=function(){function e(t,n,r,i,a,o){_f(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return mn(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=uR.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=uR.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=sI.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,sI.min(),sI.min(),uR.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,sI.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,sI.min(),uR.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,sI.min(),uR.empty(),2)}}]),e}(),fR=mn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_f(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ut=null}));function hR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new fR(e,t,n,r,i,a,o)}function dR(e){var t=HT(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ZI(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),WI(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ZI(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ZI(e)})).join(",")),t.ut=n}return t.ut}function pR(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!TR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!QI(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!RR(e.startAt,t.startAt)&&RR(e.endAt,t.endAt)}function vR(e){return hI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var yR=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i){var a;return _f(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return mn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(YI(t,this.value)):null!==t&&$I(this.value)===$I(t)&&this.at(YI(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qT()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new mR(e,t,r):"array-contains"===t?new wR(e,r):"in"===t?new _R(e,r):"not-in"===t?new SR(e,r):"array-contains-any"===t?new xR(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new gR(e,n):new kR(e,n)}}]),n}(function(){return mn((function e(){_f(this,e)}))}()),mR=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i){var a;return _f(this,n),(a=t.call(this,e,r,i)).key=hI.fromName(i.referenceValue),a}return mn(n,[{key:"matches",value:function(e){var t=hI.comparator(e.key,this.key);return this.at(t)}}]),n}(yR),gR=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this,e,"in",r)).keys=bR("in",r),i}return mn(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(yR),kR=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this,e,"not-in",r)).keys=bR("not-in",r),i}return mn(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(yR);function bR(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return hI.fromName(e.referenceValue)}))}var wR=function(e){Sf(n,e);var t=Tf(n);function n(e,r){return _f(this,n),t.call(this,e,"array-contains",r)}return mn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return nR(t)&&XI(t.arrayValue,this.value)}}]),n}(yR),_R=function(e){Sf(n,e);var t=Tf(n);function n(e,r){return _f(this,n),t.call(this,e,"in",r)}return mn(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&XI(this.value.arrayValue,t)}}]),n}(yR),SR=function(e){Sf(n,e);var t=Tf(n);function n(e,r){return _f(this,n),t.call(this,e,"not-in",r)}return mn(n,[{key:"matches",value:function(e){if(XI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!XI(this.value.arrayValue,t)}}]),n}(yR),xR=function(e){Sf(n,e);var t=Tf(n);function n(e,r){return _f(this,n),t.call(this,e,"array-contains-any",r)}return mn(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!nR(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return XI(t.value.arrayValue,e)}))}}]),n}(yR),ER=mn((function e(t,n){_f(this,e),this.position=t,this.inclusive=n})),CR=mn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";_f(this,e),this.field=t,this.dir=n}));function TR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function IR(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?hI.comparator(hI.fromName(o.referenceValue),n.key):YI(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function RR(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!QI(e.position[n],t.position[n]))return!1;return!0}var NR=mn((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;_f(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.lt=null,this.ft=null,this.startAt,this.endAt}));function PR(e,t,n,r,i,a,o,s){return new NR(e,t,n,r,i,a,o,s)}function OR(e){return new NR(e)}function AR(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function DR(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function MR(e){var t,n=wf(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function LR(e){return null!==e.collectionGroup}function FR(e){var t=HT(e);if(null===t.lt){t.lt=[];var n=MR(t),r=DR(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new CR(n)),t.lt.push(new CR(fI.keyField(),"asc"));else{var i,a=!1,o=wf(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.lt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new CR(fI.keyField(),u))}}}return t.lt}function UR(e){var t=HT(e);if(!t.ft)if("F"===t.limitType)t.ft=hR(t.path,t.collectionGroup,FR(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=wf(FR(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new CR(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new ER(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new ER(t.startAt.position,t.startAt.inclusive):null;t.ft=hR(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.ft}function jR(e,t,n){return new NR(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function VR(e,t){return pR(UR(e),UR(t))&&e.limitType===t.limitType}function zR(e){return"".concat(dR(UR(e)),"|lt:").concat(e.limitType)}function BR(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ZI(t.value));var t})).join(", "),"]")),WI(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ZI(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ZI(e)})).join(",")),"Target(".concat(t,")")}(UR(e)),"; limitType=").concat(e.limitType,")")}function qR(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hI.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=wf(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=wf(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=IR(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,FR(e),t))&&!(e.endAt&&!function(e,t,n){var r=IR(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,FR(e),t))}(e,t)}function WR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function HR(e){return function(t,n){var r,i=!1,a=wf(FR(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=KR(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function KR(e,t,n){var r=e.field.isKeyField()?hI.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?YI(r,i):qT()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qT()}}function GR(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:HI(t)?"-0":t}}function $R(e){return{integerValue:""+e}}function QR(e,t){return KI(t)?$R(t):GR(e,t)}var XR=mn((function e(){_f(this,e),this._=void 0}));function YR(e,t,n){return e instanceof eN?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof tN?nN(e,t):e instanceof rN?iN(e,t):function(e,t){var n=ZR(e,t),r=oN(n)+oN(e._t);return tR(n)&&tR(e._t)?$R(r):GR(e.wt,r)}(e,t)}function JR(e,t,n){return e instanceof tN?nN(e,t):e instanceof rN?iN(e,t):n}function ZR(e,t){return e instanceof aN?tR(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var eN=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n)}(XR),tN=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this)).elements=e,r}return mn(n)}(XR);function nN(e,t){var n,r=sN(t),i=wf(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return QI(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var rN=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this)).elements=e,r}return mn(n)}(XR);function iN(e,t){var n,r=sN(t),i=wf(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!QI(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var aN=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this)).wt=e,i._t=r,i}return mn(n)}(XR);function oN(e){return FI(e.integerValue||e.doubleValue)}function sN(e){return nR(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var uN=mn((function e(t,n){_f(this,e),this.field=t,this.transform=n}));var cN=mn((function e(t,n){_f(this,e),this.version=t,this.transformResults=n})),lN=function(){function e(t,n){_f(this,e),this.updateTime=t,this.exists=n}return mn(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function fN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var hN=mn((function e(){_f(this,e)}));function dN(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new EN(e.key,lN.none()):new gN(e.key,e.data,lN.none());var n,r=e.data,i=uR.empty(),a=new PI(fI.comparator),o=wf(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new kN(e.key,i,new AI(a.toArray()),lN.none())}function pN(e,t,n){e instanceof gN?function(e,t,n){var r=e.value.clone(),i=wN(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof kN?function(e,t,n){if(fN(e.precondition,t)){var r=wN(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(bN(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vN(e,t,n,r){return e instanceof gN?function(e,t,n,r){if(!fN(e.precondition,t))return n;var i=e.value.clone(),a=_N(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof kN?function(e,t,n,r){if(!fN(e.precondition,t))return n;var i=_N(e.fieldTransforms,r,t),a=t.data;return a.setAll(bN(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return fN(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yN(e,t){var n,r=null,i=wf(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=ZR(a.transform,o||null);null!=s&&(null===r&&(r=uR.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function mN(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&aI(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof tN&&t instanceof tN||e instanceof rN&&t instanceof rN?aI(e.elements,t.elements,QI):e instanceof aN&&t instanceof aN?QI(e._t,t._t):e instanceof eN&&t instanceof eN}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var gN=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _f(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return mn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(hN),kN=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return _f(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return mn(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(hN);function bN(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wN(e,t,n){var r=new Map;WT(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,JR(o,s,n[i]))}return r}function _N(e,t,n){var r,i=new Map,a=wf(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,YR(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var SN,xN,EN=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return mn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(hN),CN=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return mn(n,[{key:"getFieldMask",value:function(){return null}}]),n}(hN),TN=mn((function e(t){_f(this,e),this.count=t}));function IN(e){switch(e){default:return qT();case KT.CANCELLED:case KT.UNKNOWN:case KT.DEADLINE_EXCEEDED:case KT.RESOURCE_EXHAUSTED:case KT.INTERNAL:case KT.UNAVAILABLE:case KT.UNAUTHENTICATED:return!1;case KT.INVALID_ARGUMENT:case KT.NOT_FOUND:case KT.ALREADY_EXISTS:case KT.PERMISSION_DENIED:case KT.FAILED_PRECONDITION:case KT.ABORTED:case KT.OUT_OF_RANGE:case KT.UNIMPLEMENTED:case KT.DATA_LOSS:return!0}}function RN(e){if(void 0===e)return VT("GRPC error has no .code"),KT.UNKNOWN;switch(e){case SN.OK:return KT.OK;case SN.CANCELLED:return KT.CANCELLED;case SN.UNKNOWN:return KT.UNKNOWN;case SN.DEADLINE_EXCEEDED:return KT.DEADLINE_EXCEEDED;case SN.RESOURCE_EXHAUSTED:return KT.RESOURCE_EXHAUSTED;case SN.INTERNAL:return KT.INTERNAL;case SN.UNAVAILABLE:return KT.UNAVAILABLE;case SN.UNAUTHENTICATED:return KT.UNAUTHENTICATED;case SN.INVALID_ARGUMENT:return KT.INVALID_ARGUMENT;case SN.NOT_FOUND:return KT.NOT_FOUND;case SN.ALREADY_EXISTS:return KT.ALREADY_EXISTS;case SN.PERMISSION_DENIED:return KT.PERMISSION_DENIED;case SN.FAILED_PRECONDITION:return KT.FAILED_PRECONDITION;case SN.ABORTED:return KT.ABORTED;case SN.OUT_OF_RANGE:return KT.OUT_OF_RANGE;case SN.UNIMPLEMENTED:return KT.UNIMPLEMENTED;case SN.DATA_LOSS:return KT.DATA_LOSS;default:return qT()}}(xN=SN||(SN={}))[xN.OK=0]="OK",xN[xN.CANCELLED=1]="CANCELLED",xN[xN.UNKNOWN=2]="UNKNOWN",xN[xN.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xN[xN.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xN[xN.NOT_FOUND=5]="NOT_FOUND",xN[xN.ALREADY_EXISTS=6]="ALREADY_EXISTS",xN[xN.PERMISSION_DENIED=7]="PERMISSION_DENIED",xN[xN.UNAUTHENTICATED=16]="UNAUTHENTICATED",xN[xN.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xN[xN.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xN[xN.ABORTED=10]="ABORTED",xN[xN.OUT_OF_RANGE=11]="OUT_OF_RANGE",xN[xN.UNIMPLEMENTED=12]="UNIMPLEMENTED",xN[xN.INTERNAL=13]="INTERNAL",xN[xN.UNAVAILABLE=14]="UNAVAILABLE",xN[xN.DATA_LOSS=15]="DATA_LOSS";var NN=function(){function e(t,n){_f(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return mn(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=wf(n);try{for(i.s();!(r=i.n()).done;){var a=Ct(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){CI(this.inner,(function(t,n){var r,i=wf(n);try{for(i.s();!(r=i.n()).done;){var a=Ct(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return TI(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),PN=new II(hI.comparator);function ON(){return PN}var AN=new II(hI.comparator);function DN(){for(var e=AN,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function MN(e){var t=AN;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function LN(){return UN()}function FN(){return UN()}function UN(){return new NN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var jN=new II(hI.comparator),VN=new PI(hI.comparator);function zN(){for(var e=VN,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var BN=new PI(iI);function qN(){return BN}var WN=function(){function e(t,n,r,i,a){_f(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return mn(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,HN.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(sI.min(),r,qN(),ON(),zN())}}]),e}(),HN=function(){function e(t,n,r,i,a){_f(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return mn(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(DI.EMPTY_BYTE_STRING,n,zN(),zN(),zN())}}]),e}(),KN=mn((function e(t,n,r,i){_f(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),GN=mn((function e(t,n){_f(this,e),this.targetId=t,this.It=n})),$N=mn((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:DI.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_f(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),QN=function(){function e(){_f(this,e),this.Tt=0,this.Et=JN(),this.At=DI.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return mn(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=zN(),t=zN(),n=zN();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qT()}})),new HN(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=JN()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Mt",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),XN=function(){function e(t){_f(this,e),this.Ot=t,this.Ft=new Map,this.$t=ON(),this.Bt=YN(),this.Lt=new PI(iI)}return mn(e,[{key:"Ut",value:function(e){var t,n=wf(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(s){n.e(s)}finally{n.f()}var i,a=wf(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Mt(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:qT()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(vR(i))if(0===n){var a=new hI(i.path);this.Kt(t,a,lR.newNoDocument(a,sI.min()))}else WT(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&vR(a.target)){var o=new hI(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,lR.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=zN();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new WN(e,n,this.Lt,this.$t,r);return this.$t=ON(),this.Bt=YN(),this.Lt=new PI(iI),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new QN,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new PI(iI),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||jT("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new QN),this.Ot.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}]),e}();function YN(){return new II(hI.comparator)}function JN(){return new II(hI.comparator)}var ZN={asc:"ASCENDING",desc:"DESCENDING"},eP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tP=mn((function e(t,n){_f(this,e),this.databaseId=t,this.dt=n}));function nP(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rP(e,t){return e.dt?t.toBase64():t.toUint8Array()}function iP(e,t){return nP(e,t.toTimestamp())}function aP(e){return WT(!!e),sI.fromTimestamp(function(e){var t=LI(e);return new oI(t.seconds,t.nanos)}(e))}function oP(e,t){return function(e){return new cI(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function sP(e){var t=cI.fromString(e);return WT(TP(t)),t}function uP(e,t){return oP(e.databaseId,t.path)}function cP(e,t){var n=sP(t);if(n.get(1)!==e.databaseId.projectId)throw new GT(KT.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new GT(KT.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hI(dP(n))}function lP(e,t){return oP(e.databaseId,t)}function fP(e){var t=sP(e);return 4===t.length?cI.emptyPath():dP(t)}function hP(e){return new cI(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dP(e){return WT(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pP(e,t,n){return{name:uP(e,t),fields:n.value.mapValue.fields}}function vP(e,t){var n;if(t instanceof gN)n={update:pP(e,t.key,t.value)};else if(t instanceof EN)n={delete:uP(e,t.key)};else if(t instanceof kN)n={update:pP(e,t.key,t.data),updateMask:CP(t.fieldMask)};else{if(!(t instanceof CN))return qT();n={verify:uP(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof eN)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof tN)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof rN)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof aN)return{fieldPath:t.field.canonicalString(),increment:n._t};throw qT()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:iP(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qT()}(e,t.precondition)),n}function yP(e,t){return{documents:[lP(e,t.path)]}}function mP(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lP(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lP(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(iR(e.value))return{unaryFilter:{field:_P(e.field),op:"IS_NAN"}};if(rR(e.value))return{unaryFilter:{field:_P(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iR(e.value))return{unaryFilter:{field:_P(e.field),op:"IS_NOT_NAN"}};if(rR(e.value))return{unaryFilter:{field:_P(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_P(e.field),op:wP(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:_P(e.field),direction:bP(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.dt||WI(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function gP(e){var t=fP(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){WT(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=kP(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new CR(SP(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return WI(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new ER(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new ER(n,t)}(n.endAt)),PR(t,i,s,o,u,"F",c,l)}function kP(e){return e?void 0!==e.unaryFilter?[EP(e)]:void 0!==e.fieldFilter?[xP(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return kP(e)})).reduce((function(e,t){return e.concat(t)})):qT():[]}function bP(e){return ZN[e]}function wP(e){return eP[e]}function _P(e){return{fieldPath:e.canonicalString()}}function SP(e){return fI.fromServerFormat(e.fieldPath)}function xP(e){return yR.create(SP(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qT()}}(e.fieldFilter.op),e.fieldFilter.value)}function EP(e){switch(e.unaryFilter.op){case"IS_NAN":var t=SP(e.unaryFilter.field);return yR.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=SP(e.unaryFilter.field);return yR.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=SP(e.unaryFilter.field);return yR.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=SP(e.unaryFilter.field);return yR.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qT()}}function CP(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function TP(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var IP=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),RP=([].concat(vi(IP),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),NP=RP;[].concat(NP,["indexConfiguration","indexState","indexEntries"]);var PP=function(){function e(t,n,r,i){_f(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return mn(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&pN(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=wf(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=vN(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=wf(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=vN(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=FN();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=dN(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(sI.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),zN())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&aI(this.mutations,e.mutations,(function(e,t){return mN(e,t)}))&&aI(this.baseMutations,e.baseMutations,(function(e,t){return mN(e,t)}))}}]),e}(),OP=function(){function e(t,n,r,i){_f(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return mn(e,null,[{key:"from",value:function(t,n,r){WT(t.mutations.length===r.length);for(var i=jN,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),AP=function(){function e(t,n){_f(this,e),this.largestBatchId=t,this.mutation=n}return mn(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),DP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sI.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:sI.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:DI.EMPTY_BYTE_STRING;_f(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return mn(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),MP=mn((function e(t){_f(this,e),this.ne=t}));function LP(e){var t=gP({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jR(t,t.limit,"L"):t}var FP=function(){function e(){_f(this,e)}return mn(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(FI(e.integerValue));else if("doubleValue"in e){var n=FI(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),HI(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(UI(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?sR(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):qT()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=wf(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),hI.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();FP.ye=new FP;var UP=function(){function e(){_f(this,e),this.ze=new jP}return mn(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),_I.resolve()}},{key:"getCollectionParents",value:function(e,t){return _I.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return _I.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return _I.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return _I.resolve(null)}},{key:"getIndexType",value:function(e,t){return _I.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return _I.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return _I.resolve(null)}},{key:"getMinOffset",value:function(e,t){return _I.resolve(yI.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return _I.resolve(yI.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return _I.resolve()}},{key:"updateIndexEntries",value:function(e,t){return _I.resolve()}}]),e}(),jP=function(){function e(){_f(this,e),this.index={}}return mn(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new PI(cI.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new PI(cI.comparator)).toArray()}}]),e}();new Uint8Array(0);var VP=function(){function e(t,n,r){_f(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return mn(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();VP.DEFAULT_COLLECTION_PERCENTILE=10,VP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,VP.DEFAULT=new VP(41943040,VP.DEFAULT_COLLECTION_PERCENTILE,VP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),VP.DISABLED=new VP(-1,0,0);var zP=function(){function e(t){_f(this,e),this.En=t}return mn(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}();var BP=function(){function e(){_f(this,e),this.changes=new NN((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return mn(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,lR.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_I.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var qP=mn((function e(t,n){_f(this,e),this.overlayedDocument=t,this.mutatedFields=n})),WP=function(){function e(t,n,r,i){_f(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return mn(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&vN(r.mutation,e,AI.empty(),oI.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,zN()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zN(),i=LN();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=DN();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=LN();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,zN())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=ON(),a=UN(),o=UN();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof kN)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),vN(o.mutation,t,o.mutation.getFieldMask(),oI.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new qP(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=UN(),i=new II((function(e,t){return e-t})),a=zN();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=wf(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||AI.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||zN()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=FN();c.forEach((function(e){if(!a.has(e)){var n=dN(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return _I.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return hI.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):_I.resolve(LN()),s=-1,u=a;return o.next((function(t){return _I.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?_I.resolve():i.getBaseDocument(e,t,n).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,zN())})).next((function(e){return{batchId:s,changes:MN(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new hI(t)).next((function(e){var t=DN();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=DN();return this.indexManager.getCollectionParents(e,i).next((function(o){return _I.forEach(o,(function(o){var s=function(e,t){return new NR(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,lR.newInvalidDocument(n)))}));var n=DN();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&vN(a.mutation,i,AI.empty(),oI.now()),qR(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):_I.resolve(lR.newInvalidDocument(t))}}]),e}(),HP=function(){function e(t){_f(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return mn(e,[{key:"getBundleMetadata",value:function(e,t){return _I.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:aP(n.createTime)}),_I.resolve()}},{key:"getNamedQuery",value:function(e,t){return _I.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:LP(e.bundledQuery),readTime:aP(e.readTime)}}(t)),_I.resolve()}}]),e}(),KP=function(){function e(){_f(this,e),this.overlays=new II(hI.comparator),this.Xn=new Map}return mn(e,[{key:"getOverlay",value:function(e,t){return _I.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=LN();return _I.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),_I.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),_I.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=LN(),i=t.length+1,a=new hI(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return _I.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new II((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=LN(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=LN(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return _I.resolve(u)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new AP(t,n));var a=this.Xn.get(t);void 0===a&&(a=zN(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),GP=function(){function e(){_f(this,e),this.Zn=new PI($P.ts),this.es=new PI($P.ns)}return mn(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new $P(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new $P(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new hI(new cI([])),r=new $P(n,e),i=new $P(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new hI(new cI([])),n=new $P(t,e),r=new $P(t,e+1),i=zN();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new $P(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),$P=function(){function e(t,n){_f(this,e),this.key=t,this.ls=n}return mn(e,null,[{key:"ts",value:function(e,t){return hI.comparator(e.key,t.key)||iI(e.ls,t.ls)}},{key:"ns",value:function(e,t){return iI(e.ls,t.ls)||hI.comparator(e.key,t.key)}}]),e}(),QP=function(){function e(t,n){_f(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new PI($P.ts)}return mn(e,[{key:"checkEmpty",value:function(e){return _I.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new PP(i,t,n,r);this.mutationQueue.push(a);var o,s=wf(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ds=this.ds.add(new $P(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return _I.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return _I.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return _I.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return _I.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return _I.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new $P(t,0),i=new $P(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),_I.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new PI(iI);return t.forEach((function(e){var t=new $P(e,0),i=new $P(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),_I.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;hI.isDocumentKey(i)||(i=i.child(""));var a=new $P(new hI(i),0),o=new PI(iI);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),_I.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;WT(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return _I.forEach(t.mutations,(function(i){var a=new $P(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new $P(t,0),r=this.ds.firstAfterOrEqual(n);return _I.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,_I.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),XP=function(){function e(t){_f(this,e),this.ps=t,this.docs=new II(hI.comparator),this.size=0}return mn(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return _I.resolve(n?n.document.mutableCopy():lR.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ON();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():lR.newInvalidDocument(e))})),_I.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ON(),i=new hI(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value.document;if(!t.isPrefixOf(s.path))break;s.path.length>t.length+1||mI(vI(u),n)<=0||(r=r.insert(u.key,u.mutableCopy()))}return _I.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){qT()}},{key:"Is",value:function(e,t){return _I.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new YP(this)}},{key:"getSize",value:function(e){return _I.resolve(this.size)}}]),e}(),YP=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this)).zn=e,r}return mn(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),_I.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(BP),JP=function(){function e(t){_f(this,e),this.persistence=t,this.Ts=new NN((function(e){return dR(e)}),pR),this.lastRemoteSnapshotVersion=sI.min(),this.highestTargetId=0,this.Es=0,this.As=new GP,this.targetCount=0,this.Rs=zP.An()}return mn(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),_I.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return _I.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return _I.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),_I.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),_I.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new zP(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,_I.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),_I.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,_I.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),_I.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return _I.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return _I.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),_I.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_I.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),_I.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return _I.resolve(n)}},{key:"containsKey",value:function(e,t){return _I.resolve(this.As.containsKey(t))}}]),e}(),ZP=function(){function e(t,n){var r=this;_f(this,e),this.bs={},this.overlays={},this.Ps=new xI(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new JP(this),this.indexManager=new UP,this.remoteDocumentCache=new XP((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new MP(n),this.Ds=new HP(this.wt)}return mn(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new KP,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new QP(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;jT("MemoryPersistence","Starting transaction:",e);var i=new eO(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return _I.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),eO=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return mn(n)}(kI),tO=function(){function e(t){_f(this,e),this.persistence=t,this.ks=new GP,this.Ms=null}return mn(e,[{key:"Fs",get:function(){if(this.Ms)return this.Ms;throw qT()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),_I.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),_I.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),_I.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Ms=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _I.forEach(this.Fs,(function(r){var i=hI.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,sI.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return _I.or([function(){return _I.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Os",value:function(t){return new e(t)}}]),e}();var nO=function(){function e(t,n,r,i){_f(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return mn(e,null,[{key:"Vi",value:function(t,n){var r,i=zN(),a=zN(),o=wf(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),rO=function(){function e(){_f(this,e),this.Si=!1}return mn(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){var n=this;if(AR(t))return _I.resolve(null);var r=UR(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=jR(t,null,"F"),r=UR(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=zN.apply(void 0,vi(i));return n.Di.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ki(t,i);return n.Mi(t,o,a,r.readTime)?n.Ci(e,jR(t,null,"F")):n.Oi(e,o,t,r)}))}))})))}))}},{key:"xi",value:function(e,t,n,r){var i=this;return AR(t)||r.isEqual(sI.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Mi(t,o,n,r)?i.Ni(e,t):(UT()<=Sh.DEBUG&&jT("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),BR(t)),i.Oi(e,o,t,pI(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new PI(HR(e));return t.forEach((function(t,r){qR(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return UT()<=Sh.DEBUG&&jT("QueryEngine","Using full collection scan to execute query:",BR(t)),this.Di.getDocumentsMatchingQuery(e,t,yI.min())}},{key:"Oi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),iO=function(){function e(t,n,r,i){_f(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new II(iI),this.Bi=new NN((function(e){return dR(e)}),pR),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return mn(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WP(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function aO(e,t,n,r){return new iO(e,t,n,r)}function oO(e,t){return sO.apply(this,arguments)}function sO(){return sO=bf(gf().mark((function e(t,n){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HT(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=zN(),u=wf(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=wf(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=wf(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=wf(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),sO.apply(this,arguments)}function uO(e,t){var n=HT(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=_I.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);WT(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=zN(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function cO(e){var t=HT(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function lO(e,t){var n=HT(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(DI.EMPTY_BYTE_STRING,sI.min()).withLastLimboFreeSnapshotVersion(sI.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var s=ON(),u=zN();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(fO(e,a,t.documentUpdates).next((function(e){s=e.Gi,u=e.Qi}))),!r.isEqual(sI.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return _I.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.$i=i,e}))}function fO(e,t,n){var r=zN(),i=zN();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ON();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(sI.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):jT("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function hO(e,t){var n=HT(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function dO(e,t){var n=HT(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,_I.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new DP(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function pO(e,t,n){return vO.apply(this,arguments)}function vO(){return vO=bf(gf().mark((function e(t,n,r){var i,a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=HT(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),SI(e.t1)){e.next=12;break}throw e.t1;case 12:jT("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),vO.apply(this,arguments)}function yO(e,t,n){var r=HT(e),i=sI.min(),a=zN();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=HT(e),i=r.Bi.get(n);return void 0!==i?_I.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,UR(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:sI.min(),n?a:zN())})).next((function(e){return mO(r,WR(t),e),{documents:e,ji:a}}))}))}function mO(e,t,n){var r=sI.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}var gO=function(){function e(){_f(this,e),this.activeTargetIds=qN()}return mn(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),kO=function(){function e(){_f(this,e),this.Fr=new gO,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return mn(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new gO,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),bO=function(){function e(){_f(this,e)}return mn(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),wO=function(){function e(){var t=this;_f(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return mn(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){jT("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=wf(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){jT("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=wf(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),_O={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},SO=function(){function e(t){_f(this,e),this.jr=t.jr,this.Wr=t.Wr}return mn(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),xO=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return mn(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new AT;o.listenOnce(IT.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case TT.NO_ERROR:var t=o.getResponseJson();jT("Connection","XHR received:",JSON.stringify(t)),i(t);break;case TT.TIMEOUT:jT("Connection",'RPC "'+e+'" timed out'),a(new GT(KT.DEADLINE_EXCEEDED,"Request time out"));break;case TT.HTTP_ERROR:var n=o.getStatus();if(jT("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(KT).indexOf(t)>=0?t:KT.UNKNOWN}(r.status);a(new GT(s,r.message))}else a(new GT(KT.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new GT(KT.UNAVAILABLE,"Connection failed."));break;default:qT()}}finally{jT("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ET(),a=CT(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new PT({})),this.uo(o.initMessageHeaders,t,n),Hf()||Gf()||Wf().indexOf("Electron/")>=0||$f()||Wf().indexOf("MSAppHost/")>=0||Kf()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");jT("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,f=new SO({jr:function(e){l?jT("Connection","Not sending because WebChannel is closed:",e):(c||(jT("Connection","Opening WebChannel transport."),u.open(),c=!0),jT("Connection","WebChannel sending:",e),u.send(e))},Wr:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,OT.EventType.OPEN,(function(){l||jT("Connection","WebChannel transport opened.")})),h(u,OT.EventType.CLOSE,(function(){l||(l=!0,jT("Connection","WebChannel transport closed"),f.eo())})),h(u,OT.EventType.ERROR,(function(e){l||(l=!0,zT("Connection","WebChannel transport errored:",e),f.eo(new GT(KT.UNAVAILABLE,"The operation could not be completed")))})),h(u,OT.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];WT(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){jT("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=SN[e];if(void 0!==t)return RN(t)}(a),s=i.message;void 0===o&&(o=KT.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new GT(o,s)),u.close()}else jT("Connection","WebChannel received:",n),f.no(n)}})),h(a,RT.STAT_EVENT,(function(e){e.stat===NT.PROXY?jT("Connection","Detected buffering proxy"):e.stat===NT.NOPROXY&&jT("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){_f(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return mn(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);jT("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return jT("RestConnection","Received: ",e),e}),(function(t){throw zT("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+LT,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=_O[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function EO(){return"undefined"!=typeof document?document:null}function CO(e){return new tP(e,!0)}var TO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;_f(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return mn(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&jT("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),IO=function(){function e(t,n,r,i,a,o,s,u){_f(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new TO(t,n)}return mn(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Mo()})))}},{key:"Oo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===KT.RESOURCE_EXHAUSTED?(VT(n.toString()),VT("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===KT.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Ct(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new GT(KT.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(bf(gf().mark((function t(){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return jT("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(jT("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),RO=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a,o,s){var u;return _f(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u}return mn(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qT()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(WT(void 0===t||"string"==typeof t),DI.fromBase64String(t||"")):(WT(void 0===t||t instanceof Uint8Array),DI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?KT.UNKNOWN:RN(e.code);return new GT(t,e.message||"")}(o);n=new $N(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=cP(e,u.document.name),l=aP(u.document.updateTime),f=new uR({mapValue:{fields:u.document.fields}}),h=lR.newFoundDocument(c,l,f),d=u.targetIds||[],p=u.removedTargetIds||[];n=new KN(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=cP(e,v.document),m=v.readTime?aP(v.readTime):sI.min(),g=lR.newNoDocument(y,m),k=v.removedTargetIds||[];n=new KN([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=cP(e,b.document),_=b.removedTargetIds||[];n=new KN([],_,w,null)}else{if(!("filter"in t))return qT();t.filter;var S=t.filter;S.targetId;var x=S.count||0,E=new TN(x),C=S.targetId;n=new GN(C,E)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return sI.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?sI.min():t.readTime?aP(t.readTime):sI.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=hP(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=vR(r)?{documents:yP(e,r)}:{query:mP(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rP(e,t.resumeToken):t.snapshotVersion.compareTo(sI.min())>0&&(n.readTime=nP(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qT()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Oo(t)}},{key:"jo",value:function(e){var t={};t.database=hP(this.wt),t.removeTarget=e,this.Oo(t)}}]),n}(IO),NO=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a,o,s){var u;return _f(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).wt=o,u.Wo=!1,u}return mn(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,dg(xf(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(WT(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(WT(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?aP(e.updateTime):aP(t);return n.isEqual(sI.min())&&(n=aP(t)),new cN(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=aP(e.commitTime);return this.listener.Jo(n,t)}return WT(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=hP(this.wt),this.Oo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vP(t.wt,e)}))};this.Oo(n)}}]),n}(IO),PO=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a){var o;return _f(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return mn(n,[{key:"tu",value:function(){if(this.Zo)throw new GT(KT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ct(i,2),o=a[0],s=a[1];return r.bo.ro(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===KT.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new GT(KT.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=Ct(a,2),s=o[0],u=o[1];return i.bo.ao(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===KT.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new GT(KT.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return mn((function e(){_f(this,e)}))}()),OO=function(){function e(t,n){_f(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return mn(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(VT(t),this.su=!1):jT("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),AO=mn((function e(t,n,r,i,a){var o=this;_f(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=WO(o),!e.t0){e.next=5;break}return jT("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=HT(t)).lu.add(4),e.next=4,LO(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,DO(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new OO(r,i)}));function DO(e){return MO.apply(this,arguments)}function MO(){return MO=bf(gf().mark((function e(t){var n,r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!WO(t)){e.next=18;break}n=wf(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),MO.apply(this,arguments)}function LO(e){return FO.apply(this,arguments)}function FO(){return FO=bf(gf().mark((function e(t){var n,r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=wf(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),FO.apply(this,arguments)}function UO(e,t){var n=HT(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),qO(n)?BO(n):kA(n).Co()&&VO(n,t))}function jO(e,t){var n=HT(e),r=kA(n);n.hu.delete(t),r.Co()&&zO(n,t),0===n.hu.size&&(r.Co()?r.ko():WO(n)&&n._u.set("Unknown"))}function VO(e,t){e.wu.Nt(t.targetId),kA(e).Qo(t)}function zO(e,t){e.wu.Nt(t),kA(e).jo(t)}function BO(e){e.wu=new XN({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),kA(e).start(),e._u.iu()}function qO(e){return WO(e)&&!kA(e).Do()&&e.hu.size>0}function WO(e){return 0===HT(e).lu.size}function HO(e){e.wu=void 0}function KO(e){return GO.apply(this,arguments)}function GO(){return GO=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){VO(t,e)}));case 1:case"end":return e.stop()}}),e)}))),GO.apply(this,arguments)}function $O(e,t){return QO.apply(this,arguments)}function QO(){return QO=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:HO(t),qO(t)?(t._u.uu(n),BO(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),QO.apply(this,arguments)}function XO(e,t,n){return YO.apply(this,arguments)}function YO(){return YO=bf(gf().mark((function e(t,n,r){var i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof $N&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=bf(gf().mark((function e(t,n){var r,i,a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=wf(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),jT("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,JO(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof KN?t.wu.Ut(n):n instanceof GN?t.wu.zt(n):t.wu.Gt(n),r.isEqual(sI.min())){e.next=29;break}return e.prev=14,e.next=17,cO(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(DI.EMPTY_BYTE_STRING,n.snapshotVersion)),zO(e,t);var r=new DP(n.target,t,1,n.sequenceNumber);VO(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),jT("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,JO(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),YO.apply(this,arguments)}function JO(e,t,n){return ZO.apply(this,arguments)}function ZO(){return ZO=bf(gf().mark((function e(t,n,r){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(SI(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,LO(t);case 5:t._u.set("Offline"),r||(r=function(){return cO(t.localStore)}),t.asyncQueue.enqueueRetryable(bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,DO(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),ZO.apply(this,arguments)}function eA(e,t){return t().catch((function(n){return JO(e,n,t)}))}function tA(e){return nA.apply(this,arguments)}function nA(){return nA=bf(gf().mark((function e(t){var n,r,i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=HT(t),r=bA(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!rA(n)){e.next=19;break}return e.prev=3,e.next=6,hO(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,iA(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,JO(n,e.t0);case 17:e.next=2;break;case 19:aA(n)&&oA(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),nA.apply(this,arguments)}function rA(e){return WO(e)&&e.au.length<10}function iA(e,t){e.au.push(t);var n=bA(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function aA(e){return WO(e)&&!bA(e).Do()&&e.au.length>0}function oA(e){bA(e).start()}function sA(e){return uA.apply(this,arguments)}function uA(){return uA=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bA(t).Xo();case 1:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}function cA(e){return lA.apply(this,arguments)}function lA(){return lA=bf(gf().mark((function e(t){var n,r,i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=bA(t),r=wf(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),lA.apply(this,arguments)}function fA(e,t,n){return hA.apply(this,arguments)}function hA(){return hA=bf(gf().mark((function e(t,n,r){var i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=OP.from(i,n,r),e.next=3,eA(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,tA(t);case 5:case"end":return e.stop()}}),e)}))),hA.apply(this,arguments)}function dA(e,t){return pA.apply(this,arguments)}function pA(){return pA=bf(gf().mark((function e(t,n){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&bA(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=bf(gf().mark((function e(t,n){var r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!IN(i=n.code)||i===KT.ABORTED){e.next=7;break}return r=t.au.shift(),bA(t).No(),e.next=5,eA(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,tA(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:aA(t)&&oA(t);case 5:case"end":return e.stop()}}),e)}))),pA.apply(this,arguments)}function vA(e,t){return yA.apply(this,arguments)}function yA(){return yA=bf(gf().mark((function e(t,n){var r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=HT(t)).asyncQueue.verifyOperationInProgress(),jT("RemoteStore","RemoteStore received new credentials"),i=WO(r),r.lu.add(3),e.next=6,LO(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,DO(r);case 12:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function mA(e,t){return gA.apply(this,arguments)}function gA(){return gA=bf(gf().mark((function e(t,n){var r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HT(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,DO(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,LO(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),gA.apply(this,arguments)}function kA(e){return e.mu||(e.mu=function(e,t,n){var r=HT(e);return r.tu(),new RO(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:KO.bind(null,e),Jr:$O.bind(null,e),Go:XO.bind(null,e)}),e.fu.push(function(){var t=bf(gf().mark((function t(n){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),qO(e)?BO(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:HO(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function bA(e){return e.gu||(e.gu=function(e,t,n){var r=HT(e);return r.tu(),new NO(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:sA.bind(null,e),Jr:dA.bind(null,e),Yo:cA.bind(null,e),Jo:fA.bind(null,e)}),e.fu.push(function(){var t=bf(gf().mark((function t(n){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,tA(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(jT("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var wA=function(){function e(t,n,r,i,a){_f(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $T,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return mn(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new GT(KT.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function _A(e,t){if(VT("AsyncQueue","".concat(t,": ").concat(e)),SI(e))return new GT(KT.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var SA=function(){function e(t){_f(this,e),this.comparator=t?function(e,n){return t(e,n)||hI.comparator(e.key,n.key)}:function(e,t){return hI.comparator(e.key,t.key)},this.keyedMap=DN(),this.sortedSet=new II(this.comparator)}return mn(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),xA=function(){function e(){_f(this,e),this.yu=new II(hI.comparator)}return mn(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):qT():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),EA=function(){function e(t,n,r,i,a,o,s,u){_f(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return mn(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&VR(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,SA.emptySet(n),a,r,i,!0,!1)}}]),e}(),CA=mn((function e(){_f(this,e),this.Iu=void 0,this.listeners=[]})),TA=mn((function e(){_f(this,e),this.queries=new NN((function(e){return zR(e)}),VR),this.onlineState="Unknown",this.Tu=new Set}));function IA(e,t){return RA.apply(this,arguments)}function RA(){return RA=bf(gf().mark((function e(t,n){var r,i,a,o,s;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HT(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new CA),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=_A(e.t0,"Initialization of query '".concat(BR(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&OA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),RA.apply(this,arguments)}function NA(e,t){var n,r=HT(e),i=!1,a=wf(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=wf(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&OA(r)}function PA(e,t,n){var r=HT(e),i=r.queries.get(t);if(i){var a,o=wf(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function OA(e){e.Tu.forEach((function(e){e.next()}))}var AA=function(){function e(t,n,r){_f(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return mn(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=wf(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new EA(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=EA.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}();var DA=mn((function e(t){_f(this,e),this.key=t})),MA=mn((function e(t){_f(this,e),this.key=t})),LA=function(){function e(t,n){_f(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=zN(),this.mutatedKeys=zN(),this.Lu=HR(t),this.Uu=new SA(this.Lu)}return mn(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new xA,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=qR(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Lu(f,u)>0||c&&n.Lu(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Mi:s,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qT()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,u=s!==this.$u;return this.$u=s,0!==a.length||u?{snapshot:new EA(this.query,e.Uu,i,a,e.mutatedKeys,0===s,u,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new xA,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=zN(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new MA(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new DA(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=zN();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return EA.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),FA=mn((function e(t,n,r){_f(this,e),this.query=t,this.targetId=n,this.view=r})),UA=mn((function e(t){_f(this,e),this.key=t,this.Xu=!1})),jA=function(){function e(t,n,r,i,a,o){_f(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new NN((function(e){return zR(e)}),VR),this.ec=new Map,this.nc=new Set,this.sc=new II(hI.comparator),this.ic=new Map,this.rc=new GP,this.oc={},this.uc=new Map,this.cc=zP.Rn(),this.onlineState="Unknown",this.ac=void 0}return mn(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function VA(e,t){return zA.apply(this,arguments)}function zA(){return zA=bf(gf().mark((function e(t,n){var r,i,a,o,s,u;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=vD(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,dO(r.localStore,UR(n));case 8:return s=e.sent,r.isPrimaryClient&&UO(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,BA(r,n,i,"current"===u);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function BA(e,t,n,r){return qA.apply(this,arguments)}function qA(){return qA=bf(gf().mark((function e(t,n,r,i){var a,o,s,u,c,l;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=bf(gf().mark((function e(t,n,r,i){var a,o,s;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,yO(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(sD(t,n.targetId,s.zu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,yO(t.localStore,n,!0);case 3:return a=e.sent,o=new LA(n,a.ji),s=o.Ku(a.documents),u=HN.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),sD(t,r,c.zu),l=new FA(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),qA.apply(this,arguments)}function WA(e,t){return HA.apply(this,arguments)}function HA(){return HA=bf(gf().mark((function e(t,n){var r,i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=HT(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!VR(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,pO(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),jO(r.remoteStore,i.targetId),aD(r,i.targetId)})).catch(bI);case 9:e.next=14;break;case 11:return aD(r,i.targetId),e.next=14,pO(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}function KA(e,t,n){return GA.apply(this,arguments)}function GA(){return GA=bf(gf().mark((function e(t,n,r){var i,a,o;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yD(t),e.prev=1,e.next=4,function(e,t){var n,r,i=HT(e),a=oI.now(),o=t.reduce((function(e,t){return e.add(t.key)}),zN());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=ON(),u=zN();return i.Ui.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=wf(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=yN(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new kN(c.key,l,cR(l.value.mapValue),lN.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:MN(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new II(iI)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,lD(i,a.changes);case 9:return e.next=11,tA(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=_A(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),GA.apply(this,arguments)}function $A(e,t){return QA.apply(this,arguments)}function QA(){return QA=bf(gf().mark((function e(t,n){var r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HT(t),e.prev=1,e.next=4,lO(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(WT(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?WT(n.Xu):e.removedDocuments.size>0&&(WT(n.Xu),n.Xu=!1))})),e.next=8,lD(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,bI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),QA.apply(this,arguments)}function XA(e,t,n){var r=HT(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=HT(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=wf(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&OA(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function YA(e,t,n){return JA.apply(this,arguments)}function JA(){return JA=bf(gf().mark((function e(t,n,r){var i,a,o,s,u,c;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=HT(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new II(hI.comparator)).insert(o,lR.newNoDocument(o,sI.min())),u=zN().add(o),c=new WN(sI.min(),new Map,new PI(iI),s,u),e.next=9,$A(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),cD(i),e.next=16;break;case 14:return e.next=16,pO(i.localStore,n,!1).then((function(){return aD(i,n,r)})).catch(bI);case 16:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function ZA(e,t){return eD.apply(this,arguments)}function eD(){return eD=bf(gf().mark((function e(t,n){var r,i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HT(t),i=n.batch.batchId,e.prev=1,e.next=4,uO(r.localStore,n);case 4:return a=e.sent,iD(r,i,null),rD(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,lD(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),eD.apply(this,arguments)}function tD(e,t,n){return nD.apply(this,arguments)}function nD(){return nD=bf(gf().mark((function e(t,n,r){var i,a;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=HT(t),e.prev=1,e.next=4,function(e,t){var n=HT(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return WT(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,iD(i,n,r),rD(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,lD(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,bI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),nD.apply(this,arguments)}function rD(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function iD(e,t,n){var r=HT(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function aD(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=wf(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||oD(e,t)}))}function oD(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(jO(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),cD(e))}function sD(e,t,n){var r,i=wf(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof DA?(e.rc.addReference(a.key,t),uD(e,a)):a instanceof MA?(jT("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||oD(e,a.key)):qT()}}catch(o){i.e(o)}finally{i.f()}}function uD(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(jT("SyncEngine","New document in limbo: "+n),e.nc.add(r),cD(e))}function cD(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new hI(cI.fromString(t)),r=e.cc.next();e.ic.set(r,new UA(n)),e.sc=e.sc.insert(n,r),UO(e.remoteStore,new DP(UR(OR(n.path)),r,2,xI.ot))}}function lD(e,t,n){return fD.apply(this,arguments)}function fD(){return fD=bf(gf().mark((function e(t,n,r){var i,a,o,s;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=HT(t),a=[],o=[],s=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){s.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=nO.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Zu.Go(a),e.next=9,function(){var e=bf(gf().mark((function e(t,n){var r,i,a,o,s,u,c,l;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=HT(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _I.forEach(n,(function(t){return _I.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return _I.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),SI(e.t0)){e.next=10;break}throw e.t0;case 10:jT("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=wf(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.$i.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),fD.apply(this,arguments)}function hD(e,t){return dD.apply(this,arguments)}function dD(){return dD=bf(gf().mark((function e(t,n){var r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=HT(t)).currentUser.isEqual(n)){e.next=11;break}return jT("SyncEngine","User change. New user:",n.toKey()),e.next=5,oO(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new GT(KT.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,lD(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),dD.apply(this,arguments)}function pD(e,t){var n=HT(e),r=n.ic.get(t);if(r&&r.Xu)return zN().add(r.key);var i=zN(),a=n.ec.get(t);if(!a)return i;var o,s=wf(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.tc.get(u);i=i.unionWith(c.view.qu)}}catch(l){s.e(l)}finally{s.f()}return i}function vD(e){var t=HT(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pD.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YA.bind(null,t),t.Zu.Go=NA.bind(null,t.eventManager),t.Zu.lc=PA.bind(null,t.eventManager),t}function yD(e){var t=HT(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,t),t}var mD=function(){function e(){_f(this,e),this.synchronizeTabs=!1}return mn(e,[{key:"initialize",value:function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=CO(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return aO(this.persistence,new rO,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new ZP(tO.Os,this.wt)}},{key:"dc",value:function(e){return new kO}},{key:"terminate",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gD=function(){function e(){_f(this,e)}return mn(e,[{key:"initialize",value:function(){var e=bf(gf().mark((function e(t,n){var r=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return XA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hD.bind(null,this.syncEngine),e.next=12,mA(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new TA}},{key:"createDatastore",value:function(e){var t,n=CO(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new xO(t));return function(e,t,n,r){return new PO(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return XA(o.syncEngine,e,0)},a=wO.V()?new wO:new bO,new AO(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new jA(e,t,n,r,i,a);return o&&(s.ac=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=bf(gf().mark((function e(t){var n;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=HT(t),jT("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,LO(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var kD=function(){function e(t){_f(this,e),this.observer=t,this.muted=!1}return mn(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):VT("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),bD=function(){function e(t,n,r,i){var a=this;_f(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=MT.UNAUTHENTICATED,this.clientId=rI.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return jT("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return mn(e,[{key:"getConfiguration",value:function(){var e=bf(gf().mark((function e(){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new GT(KT.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new $T;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(bf(gf().mark((function n(){var r;return gf().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=_A(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function wD(e,t){return _D.apply(this,arguments)}function _D(){return _D=bf(gf().mark((function e(t,n){var r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),jT("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,oO(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),_D.apply(this,arguments)}function SD(e,t){return xD.apply(this,arguments)}function xD(){return xD=bf(gf().mark((function e(t,n){var r,i;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ED(t);case 3:return r=e.sent,jT("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return vA(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return vA(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),xD.apply(this,arguments)}function ED(e){return CD.apply(this,arguments)}function CD(){return CD=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return jT("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,wD(t,new mD);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),CD.apply(this,arguments)}function TD(e){return ID.apply(this,arguments)}function ID(){return ID=bf(gf().mark((function e(t){return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return jT("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,SD(t,new gD);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ID.apply(this,arguments)}function RD(e){return TD(e).then((function(e){return e.syncEngine}))}function ND(e){return PD.apply(this,arguments)}function PD(){return PD=bf(gf().mark((function e(t){var n,r;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,TD(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=VA.bind(null,n.syncEngine),r.onUnlisten=WA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),PD.apply(this,arguments)}var OD=new Map;function AD(e,t,n){if(!n)throw new GT(KT.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function DD(e){if(!hI.isDocumentKey(e))throw new GT(KT.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function MD(e){if(hI.isDocumentKey(e))throw new GT(KT.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function LD(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":qT()}function FD(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new GT(KT.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=LD(e);throw new GT(KT.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var UD=function(){function e(t){var n;if(_f(this,e),void 0===t.host){if(void 0!==t.ssl)throw new GT(KT.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new GT(KT.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new GT(KT.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return mn(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),jD=function(){function e(t,n,r){_f(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UD({}),this._settingsFrozen=!1,t instanceof qI?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new GT(KT.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qI(e.options.projectId)}(t))}return mn(e,[{key:"app",get:function(){if(!this._app)throw new GT(KT.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new GT(KT.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UD(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new XT;switch(e.type){case"gapi":var t=e.client;return WT(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ZT(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new GT(KT.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=OD.get(e);t&&(jT("ComponentProvider","Removing Datastore"),OD.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var VD=function(){function e(t,n,r){_f(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return mn(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new BD(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),zD=function(){function e(t,n,r){_f(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return mn(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),BD=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i){var a;return _f(this,n),(a=t.call(this,e,r,OR(i)))._path=i,a.type="collection",a}return mn(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new VD(this.firestore,null,new hI(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(zD);function qD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mh(e),AD("collection","path",t),e instanceof jD){var a=cI.fromString.apply(cI,[t].concat(r));return MD(a),new BD(e,null,a)}if(!(e instanceof VD||e instanceof BD))throw new GT(KT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cI.fromString.apply(cI,[t].concat(r)));return MD(o),new BD(e.firestore,null,o)}function WD(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=mh(e),1===arguments.length&&(t=rI.I()),AD("doc","path",t),e instanceof jD){var a=cI.fromString.apply(cI,[t].concat(r));return DD(a),new VD(e,null,new hI(a))}if(!(e instanceof VD||e instanceof BD))throw new GT(KT.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(cI.fromString.apply(cI,[t].concat(r)));return DD(o),new VD(e.firestore,e instanceof BD?e.converter:null,new hI(o))}var HD=function(){function e(){var t=this;_f(this,e),this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new TO(this,"async_queue_retry"),this.Kc=function(){var e=EO();e&&jT("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=EO();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return mn(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=EO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new $T;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Oc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=bf(gf().mark((function e(){var t=this;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Oc.length){e.next=14;break}return e.prev=1,e.next=4,this.Oc[0]();case 4:this.Oc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),SI(e.t0)){e.next=12;break}throw e.t0;case 12:jT("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Oc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Mc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw VT("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=wA.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&qT()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=bf(gf().mark((function e(){var t;return gf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Mc,e.next=3,t;case 3:if(t!==this.Mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=wf(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=wf(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function KD(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=wf(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var GD=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i){var a;return _f(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new HD,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return mn(n,[{key:"_terminate",value:function(){return this._firestoreClient||QD(this),this._firestoreClient.terminate()}}]),n}(jD);function $D(e){return e._firestoreClient||QD(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function QD(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new BI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new bD(e._authCredentials,e._appCheckCredentials,e._queue,r)}var XD=function(){function e(){_f(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new GT(KT.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fI(n)}return mn(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var YD=function(){function e(t){_f(this,e),this._byteString=t}return mn(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(DI.fromBase64String(t))}catch(t){throw new GT(KT.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(DI.fromUint8Array(t))}}]),e}(),JD=mn((function e(t){_f(this,e),this._methodName=t})),ZD=function(){function e(t,n){if(_f(this,e),!isFinite(t)||t<-90||t>90)throw new GT(KT.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new GT(KT.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return mn(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return iI(this._lat,e._lat)||iI(this._long,e._long)}}]),e}(),eM=/^__.*__$/,tM=function(){function e(t,n,r){_f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return mn(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new kN(e,this.data,this.fieldMask,t,this.fieldTransforms):new gN(e,this.data,t,this.fieldTransforms)}}]),e}(),nM=function(){function e(t,n,r){_f(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return mn(e,[{key:"toMutation",value:function(e,t){return new kN(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function rM(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qT()}}var iM=function(){function e(t,n,r,i,a,o){_f(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return mn(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return kM(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(rM(this.Zc)&&eM.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),aM=function(){function e(t,n,r){_f(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||CO(t)}return mn(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new iM({Zc:e,methodName:t,ca:n,path:fI.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function oM(e){var t=e._freezeSettings(),n=CO(e._databaseId);return new aM(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sM(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);vM("Data must be an object, but it was:",o,r);var s,u,c=dM(r,o);if(a.merge)s=new AI(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=wf(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=yM(t,d,n);if(!o.contains(p))throw new GT(KT.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));bM(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}s=new AI(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new tM(new uR(c),s,u)}var uM=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JD);var cM=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"_toFieldTransform",value:function(e){return new uN(e.path,new eN)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JD);function lM(e,t,n,r){var i=e.aa(1,t,n);vM("Data must be an object, but it was:",i,r);var a=[],o=uR.empty();CI(r,(function(e,r){var s=gM(t,e,n);r=mh(r);var u=i.ia(s);if(r instanceof uM)a.push(s);else{var c=hM(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new AI(a);return new nM(o,s,i.fieldTransforms)}function fM(e,t,n,r,i,a){var o=e.aa(1,t,n),s=[yM(t,r,n)],u=[i];if(a.length%2!=0)throw new GT(KT.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(yM(t,a[c])),u.push(a[c+1]);for(var l=[],f=uR.empty(),h=s.length-1;h>=0;--h)if(!bM(l,s[h])){var d=s[h],p=u[h];p=mh(p);var v=o.ia(d);if(p instanceof uM)l.push(d);else{var y=hM(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new AI(l);return new nM(f,m,o.fieldTransforms)}function hM(e,t){if(pM(e=mh(e)))return vM("Unsupported field value:",t,e),dM(e,t);if(e instanceof JD)return function(e,t){if(!rM(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=wf(e);try{for(a.s();!(n=a.n()).done;){var o=hM(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=mh(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return QR(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=oI.fromDate(e);return{timestampValue:nP(t.wt,n)}}if(e instanceof oI){var r=new oI(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nP(t.wt,r)}}if(e instanceof ZD)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof YD)return{bytesValue:rP(t.wt,e._byteString)};if(e instanceof VD){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:oP(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(LD(e)))}(e,t)}function dM(e,t){var n={};return TI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):CI(e,(function(e,r){var i=hM(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function pM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof oI||e instanceof ZD||e instanceof YD||e instanceof VD||e instanceof JD)}function vM(e,t,n){if(!pM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=LD(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function yM(e,t,n){if((t=mh(t))instanceof XD)return t._internalPath;if("string"==typeof t)return gM(e,t);throw kM("Field path arguments must be of type string or ",e,!1,void 0,n)}var mM=new RegExp("[~\\*/\\[\\]]");function gM(e,t,n){if(t.search(mM)>=0)throw kM("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return If(XD,vi(t.split(".")))._internalPath}catch(L){throw kM("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function kM(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new GT(KT.INVALID_ARGUMENT,s+e+u)}function bM(e,t){return e.some((function(e){return e.isEqual(t)}))}var wM=function(){function e(t,n,r,i,a){_f(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return mn(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new VD(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new _M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(SM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),_M=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"data",value:function(){return dg(xf(n.prototype),"data",this).call(this)}}]),n}(wM);function SM(e,t){return"string"==typeof t?gM(e,t):t instanceof XD?t._internalPath:t._delegate._internalPath}var xM=function(){function e(t,n){_f(this,e),this.hasPendingWrites=t,this.fromCache=n}return mn(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),EM=function(e){Sf(n,e);var t=Tf(n);function n(e,r,i,a,o,s){var u;return _f(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return mn(n,[{key:"exists",value:function(){return dg(xf(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new CM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(SM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(wM),CM=function(e){Sf(n,e);var t=Tf(n);function n(){return _f(this,n),t.apply(this,arguments)}return mn(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dg(xf(n.prototype),"data",this).call(this,e)}}]),n}(EM),TM=function(){function e(t,n,r,i){_f(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xM(i.hasPendingWrites,i.fromCache),this.query=r}return mn(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new CM(n._firestore,n._userDataWriter,r.key,r,new xM(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new GT(KT.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new CM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new CM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:IM(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function IM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qT()}}function RM(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new GT(KT.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NM=mn((function e(){_f(this,e)}));var PM=function(e){Sf(n,e);var t=Tf(n);function n(e,r){var i;return _f(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return mn(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new GT(KT.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new GT(KT.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new CR(t,n);return function(e,t){if(null===DR(e)){var n=MR(e);null!==n&&OM(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new zD(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new NR(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(NM);function OM(e,t,n){if(!n.isEqual(t))throw new GT(KT.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var AM=function(){function e(){_f(this,e)}return mn(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($I(e)){case 0:return null;case 1:return e.booleanValue;case 2:return FI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(UI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qT()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return CI(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ZD(FI(e.latitude),FI(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=VI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zI(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=LI(e);return new oI(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=cI.fromString(e);WT(TP(n));var r=new qI(n.get(1),n.get(3)),i=new hI(n.popFirst(5));return r.isEqual(t)||VT("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function DM(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var MM=function(e){Sf(n,e);var t=Tf(n);function n(e){var r;return _f(this,n),(r=t.call(this)).firestore=e,r}return mn(n,[{key:"convertBytes",value:function(e){return new YD(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new VD(this.firestore,null,t)}}]),n}(AM);function LM(e,t){return function(e,t){var n=new $T;return e.asyncQueue.enqueueAndForget(bf(gf().mark((function r(){return gf().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=KA,r.next=3,RD(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}($D(e),t)}function FM(e,t,n){var r=n.docs.get(t._key),i=new MM(e);return new EM(e,i,t._key,r,new xM(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];LT="9.9.2",id(new gh("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new GD(i,new YT(e.getProvider("auth-internal")),new tI(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),fd(DT,"3.4.14",e),fd(DT,"3.4.14","esm2017")}();var UM,jM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Zh,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw sd.create("bad-app-name",{appName:String(i)});var a=td.get(i);if(a){if(sh(e,a.options)&&sh(r,a.config))return a;throw sd.create("duplicate-app",{appName:i})}var o,s=new xh(i),u=wf(nd.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new ud(e,r,s);return td.set(i,l),l}({apiKey:"AIzaSyCGCxT-bNb2JvTs5qAIykhdUE762jRbD9k",authDomain:"snapshatclone-a1ca6.firebaseapp.com",projectId:"snapshatclone-a1ca6",storageBucket:"snapshatclone-a1ca6.appspot.com",messagingSenderId:"595159129161",appId:"1:595159129161:web:03057f1db97ba923887398"}),VM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld();return ad(e,"firestore").getImmediate()}(jM),zM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld(),t=ad(e,"auth");return t.isInitialized()?t.getImmediate():Pg(e,{popupRedirectResolver:r_,persistence:[Zb,Ib,Nb]})}(jM),BM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ld(),t=arguments.length>1?arguments[1]:void 0,n=ad(e=mh(e),kS),r=n.getImmediate({identifier:t});return r}(jM),qM=new fb,WM=new Uint8Array(16);function HM(){if(!UM&&!(UM="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return UM(WM)}var KM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var GM=function(e){return"string"===typeof e&&KM.test(e)},$M=[],QM=0;QM<256;++QM)$M.push((QM+256).toString(16).substr(1));var XM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=($M[e[t+0]]+$M[e[t+1]]+$M[e[t+2]]+$M[e[t+3]]+"-"+$M[e[t+4]]+$M[e[t+5]]+"-"+$M[e[t+6]]+$M[e[t+7]]+"-"+$M[e[t+8]]+$M[e[t+9]]+"-"+$M[e[t+10]]+$M[e[t+11]]+$M[e[t+12]]+$M[e[t+13]]+$M[e[t+14]]+$M[e[t+15]]).toLowerCase();if(!GM(n))throw TypeError("Stringified UUID is invalid");return n};var YM=function(e,t,n){var r=(e=e||{}).random||(e.rng||HM)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return XM(r)};var JM=function(){var t=v(ft),n=tn(),r=C(),i=v(vt);return(0,e.useEffect)((function(){t||n("/cam")}),[t,n]),(0,Fo.jsxs)("div",{className:"preview",children:[(0,Fo.jsx)(Vo,{className:"preview_close",onClick:function(){r(lt),n("/cam")}})," ",(0,Fo.jsxs)("div",{className:"preview_toolbarRight",children:[(0,Fo.jsx)(hf,{}),(0,Fo.jsx)(zo,{}),(0,Fo.jsx)(df,{}),(0,Fo.jsx)(pf,{}),(0,Fo.jsx)(vf,{}),(0,Fo.jsx)(yf,{}),(0,Fo.jsx)(mf,{})]}),(0,Fo.jsx)("img",{src:t,alt:"captured"}),(0,Fo.jsxs)("div",{onClick:function(){var e,r,a=YM(),o=(e=BM,r="/posts/".concat(a),pS(e=mh(e),r)),s=new cM("serverTimestamp");bS(o,t,"data_url").then((function(){(function(e){return fS(e=mh(e))})(o).then((function(e){(function(e,t){var n=FD(e.firestore,GD),r=WD(e),i=DM(e.converter,t);return LM(n,[sM(oM(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,lN.exists(!1))]).then((function(){return r}))})(qD(VM,"posts"),{imageUrl:e,read:!1,username:i.username,prfilePic:i.profilePic,timestamp:s}).then(console.log("saved")),n("/chats")}))}))},className:"preview_footer",children:[(0,Fo.jsx)("h2",{children:"Send Now"}),(0,Fo.jsx)(Bo,{className:"previewsendIcon"})]})]})},ZM=Mo(e.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var eL=e.forwardRef((function(t,n){var r=t.alt,i=t.children,a=t.classes,o=t.className,s=t.component,u=void 0===s?"div":s,c=t.imgProps,l=t.sizes,f=t.src,h=t.srcSet,d=t.variant,p=void 0===d?"circular":d,v=fn(t,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),y=null,m=function(t){var n=t.src,r=t.srcSet,i=e.useState(!1),a=i[0],o=i[1];return e.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:f,srcSet:h}),g=f||h,k=g&&"error"!==m;return y=k?e.createElement("img",Tt({alt:r,src:f,srcSet:h,sizes:l,className:a.img},c)):null!=i?i:g&&r?r[0]:e.createElement(ZM,{className:a.fallback}),e.createElement(u,Tt({className:dn(a.root,a.system,a[p],o,!k&&a.colorDefault),ref:n},v),y)})),tL=Po((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(eL),nL=Mo(e.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})),rL=Mo(e.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})),iL=Mo(e.createElement("path",{d:"M8 6h8c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V8c0-1.1.9-2 2-2z"}));function aL(e){var t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;var n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;var r,i=n.map((function(e){return parseInt(e)})),a=_t(r=i)||pi(r)||xt(r)||Et(),o=a[0],s=a[1],u=a.slice(2),c=[o,s-1].concat(vi(u));return new Date(Date.UTC.apply(Date,vi(c)))}function oL(e,t,n){return e+" "+(1!==e?t+"s":t)+" "+n}var sL=["date","formatter","component","live","minPeriod","maxPeriod","title","now"];function uL(){return uL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uL.apply(this,arguments)}var cL=3600,lL=86400,fL=7*lL,hL=30*lL,dL=365*lL;function pL(t){var n=t.date,r=t.formatter,i=void 0===r?oL:r,a=t.component,o=void 0===a?"time":a,s=t.live,u=void 0===s||s,c=t.minPeriod,l=void 0===c?0:c,f=t.maxPeriod,h=void 0===f?fL:f,d=t.title,p=t.now,v=void 0===p?function(){return Date.now()}:p,y=fn(t,sL),m=Ct((0,e.useState)(v()),2),g=m[0],k=m[1];(0,e.useEffect)((function(){if(u){var e=function(){var e=aL(n).valueOf();if(!e)return console.warn("[react-timeago] Invalid Date provided"),0;var t=Math.round(Math.abs(g-e)/1e3),r=t<60?1e3:t<cL?6e4:t<lL?36e5:6048e5,i=Math.min(Math.max(r,1e3*l),1e3*h);return i?setTimeout((function(){k(v())}),i):0}();return function(){e&&clearTimeout(e)}}}),[n,u,h,l,v,g]);var b=o,w=aL(n).valueOf();if(!w)return null;var _=Math.round(Math.abs(g-w)/1e3),S=w<g?"ago":"from now",x=Ct(_<60?[Math.round(_),"second"]:_<cL?[Math.round(_/60),"minute"]:_<lL?[Math.round(_/cL),"hour"]:_<fL?[Math.round(_/lL),"day"]:_<hL?[Math.round(_/fL),"week"]:_<dL?[Math.round(_/hL),"month"]:[Math.round(_/dL),"year"],2),E=x[0],C=x[1],T="undefined"===typeof d?"string"===typeof n?n:aL(n).toISOString().substr(0,16).replace("T"," "):d,I="time"===b?Ne(Ne({},y),{},{dateTime:aL(n).toISOString()}):y,R=oL.bind(null,E,C,S);return e.createElement(b,uL({},I,{title:T}),i(E,C,S,w,R,v))}var vL=function(e){var t=e.id,n=e.username,r=e.timestamp,i=e.read,a=e.imageUrl,o=e.profilePic,s=C(),u=tn();return(0,Fo.jsxs)("div",{onClick:function(){s(bt(a)),function(e,t,n){e=FD(e,VD);for(var r=FD(e.firestore,GD),i=oM(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];LM(r,[("string"==typeof(t=mh(t))||t instanceof XD?fM(i,"updateDoc",e._key,t,n,o):lM(i,"updateDoc",e._key,t)).toMutation(e._key,lN.exists(!0))])}(WD(VM,"posts",t),{read:!0}),u("/chats/view")},className:"chat",children:[(0,Fo.jsx)(tL,{src:o}),(0,Fo.jsxs)("div",{className:"chat_info",children:[(0,Fo.jsx)("h4",{children:n}),(0,Fo.jsxs)("p",{children:[" Tap to view- ",(0,Fo.jsx)(pL,{date:new Date(null===r||void 0===r?void 0:r.toDate()).toUTCString()})]})]}),!i&&(0,Fo.jsx)(iL,{className:"chat_readIcon"})]})};var yL=function(){var t=Ct((0,e.useState)(),2),n=t[0],r=t[1],i=v(vt),a=tn(),o=C();return(0,e.useEffect)((function(){var e=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){e=a[i]._apply(e)}return e}(qD(VM,"posts"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=SM("orderBy",e);return new PM(n,t)}("timestamp","desc"));!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=mh(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof n[u]||KD(n[u])||(s=n[u],u++);var c,l,f,h={includeMetadataChanges:s.includeMetadataChanges};if(KD(n[u])){var d=n[u];n[u]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[u+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[u+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof VD)l=FD(e.firestore,GD),f=OR(e._key.path),c={next:function(t){n[u]&&n[u](FM(l,e,t))},error:n[u+1],complete:n[u+2]};else{var p=FD(e,zD);l=FD(p.firestore,GD),f=p._query;var v=new MM(l);c={next:function(e){n[u]&&n[u](new TM(l,v,p,e))},error:n[u+1],complete:n[u+2]},RM(e._query)}(function(e,t,n,r){var i=new kD(r),a=new AA(t,i,n);e.asyncQueue.enqueueAndForget(bf(gf().mark((function t(){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=IA,t.next=3,ND(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))})($D(l),f,h,c)}(e,(function(e){r(e.docs.map((function(e){return Ne(Ne({},e.data()),{},{id:e.id})})))}))}),[]),(0,Fo.jsxs)("div",{className:"chats",children:[(0,Fo.jsxs)("div",{className:"chats_header",children:[(0,Fo.jsx)(tL,{src:i.profilePic,className:"chat_avatar",onClick:function(){return function(e){return mh(e).signOut()}(zM)}}),(0,Fo.jsxs)("div",{className:"chats_search",children:[(0,Fo.jsx)(nL,{className:"chats_icon"}),(0,Fo.jsx)("input",{placeholder:"Friends",type:"text"})]}),(0,Fo.jsx)(rL,{className:"chats_chatIcon"})]}),(0,Fo.jsx)("div",{className:"chat_posts",children:null===n||void 0===n?void 0:n.map((function(e){return(0,Fo.jsx)(vL,{id:e.id,timestamp:e.timestamp,imageUrl:e.imageUrl,username:e.username,read:e.read},e.id)}))}),(0,Fo.jsx)(Lo,{className:"chats_takePicIcon",onClick:function(){o(lt),a("/")},fontSize:"large"})]})};var mL="undefined"==typeof window?e.useEffect:e.useLayoutEffect,gL=function(e,t){return 0===e||e===t?0:"number"==typeof t?e-t:0},kL=function(e){return{position:"relative",width:e,height:e}},bL={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},wL=function(e,t,n,r){return 0===r?t:t+n*(e/r)},_L=function(e){var t,n;return null!=(n=null==(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return"#".concat(t).concat(t).concat(n).concat(n).concat(r).concat(r)})).substring(1).match(/.{2}/g))?void 0:t.map((function(e){return parseInt(e,16)})))?n:[]},SL=function(e,t){var n,r=e.colors,i=e.colorsTime,a=e.isSmoothColorTransition,o=void 0===a||a;if("string"==typeof r)return r;var s=null!=(n=null==i?void 0:i.findIndex((function(e,n){return e>=t&&t>=i[n+1]})))?n:-1;if(!i||-1===s)return r[0];if(!o)return r[s];var u=i[s]-t,c=i[s]-i[s+1],l=_L(r[s]),f=_L(r[s+1]);return"rgb(".concat(l.map((function(e,t){return 0|wL(u,e,f[t]-e,c)})).join(","),")")},xL=function(t){var n=t.duration,r=t.initialRemainingTime,i=t.updateInterval,a=t.size,o=void 0===a?180:a,s=t.strokeWidth,u=void 0===s?12:s,c=t.trailStrokeWidth,l=t.isPlaying,f=void 0!==l&&l,h=t.rotation,d=void 0===h?"clockwise":h,p=t.onComplete,v=t.onUpdate,y=(0,e.useRef)(),m=function(e,t,n){var r=e/2,i=t/2,a=r-i,o=2*a,s="clockwise"===n?"1,0":"0,1",u=2*Math.PI*a;return{path:"m ".concat(r,",").concat(i," a ").concat(a,",").concat(a," 0 ").concat(s," 0,").concat(o," a ").concat(a,",").concat(a," 0 ").concat(s," 0,-").concat(o),pathLength:u}}(o,Math.max(u,null!=c?c:0),d),g=m.path,k=m.pathLength,b=function(t){var n=t.isPlaying,r=t.duration,i=t.startAt,a=void 0===i?0:i,o=t.updateInterval,s=void 0===o?0:o,u=t.onComplete,c=t.onUpdate,l=Ct((0,e.useState)(a),2),f=l[0],h=l[1],d=(0,e.useRef)(0),p=(0,e.useRef)(a),v=(0,e.useRef)(-1e3*a),y=(0,e.useRef)(null),m=(0,e.useRef)(null),g=(0,e.useRef)(null),k=function e(t){var n=t/1e3;if(null===m.current)return m.current=n,void(y.current=requestAnimationFrame(e));var i=n-m.current,a=d.current+i;m.current=n,d.current=a;var o=p.current+(0===s?a:(a/s|0)*s),u=p.current+a,c="number"==typeof r&&u>=r;h(c?r:o),c||(y.current=requestAnimationFrame(e))},b=function(){y.current&&cancelAnimationFrame(y.current),g.current&&clearTimeout(g.current),m.current=null},w=(0,e.useCallback)((function(e){b(),d.current=0;var t="number"==typeof e?e:a;p.current=t,h(t),n&&(y.current=requestAnimationFrame(k))}),[n,a]);return mL((function(){if(null==c||c(f),r&&f>=r){v.current+=1e3*r;var e=(null==u?void 0:u(v.current/1e3))||{},t=e.shouldRepeat,n=void 0!==t&&t,i=e.delay,a=void 0===i?0:i,o=e.newStartAt;n&&(g.current=setTimeout((function(){return w(o)}),1e3*a))}}),[f,r]),mL((function(){return n&&(y.current=requestAnimationFrame(k)),b}),[n,r,s]),{elapsedTime:f,reset:w}}({isPlaying:f,duration:n,startAt:gL(n,r),updateInterval:i,onUpdate:"function"==typeof v?function(e){var t=Math.ceil(n-e);t!==y.current&&(y.current=t,v(t))}:void 0,onComplete:"function"==typeof p?function(e){var t,r=null!=(t=p(e))?t:{},i=r.shouldRepeat,a=r.delay,o=r.newInitialRemainingTime;if(i)return{shouldRepeat:i,delay:a,newStartAt:gL(n,o)}}:void 0}),w=b.elapsedTime,_=n-w;return{elapsedTime:w,path:g,pathLength:k,remainingTime:Math.ceil(_),rotation:d,size:o,stroke:SL(t,_),strokeDashoffset:wL(w,0,k,n),strokeWidth:u}},EL=function(t){var n=t.children,r=t.strokeLinecap,i=t.trailColor,a=t.trailStrokeWidth,o=xL(t),s=o.path,u=o.pathLength,c=o.stroke,l=o.strokeDashoffset,f=o.remainingTime,h=o.elapsedTime,d=o.size,p=o.strokeWidth;return e.createElement("div",{style:kL(d)},e.createElement("svg",{width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{d:s,fill:"none",stroke:null!=i?i:"#d9d9d9",strokeWidth:null!=a?a:p}),e.createElement("path",{d:s,fill:"none",stroke:c,strokeLinecap:null!=r?r:"round",strokeWidth:p,strokeDasharray:u,strokeDashoffset:l})),"function"==typeof n&&e.createElement("div",{style:bL},n({remainingTime:f,elapsedTime:h,color:c})))};EL.displayName="CountdownCircleTimer";var CL=function(){var e=v(yt),t=tn();return(0,Fo.jsxs)("div",{className:"chatView",children:[(0,Fo.jsx)("img",{src:e,alt:"selectedImage",onClick:function(){t("/chats",{replace:!0})}}),(0,Fo.jsx)("div",{className:"chatView_timer",children:(0,Fo.jsx)(EL,{isPlaying:!0,duration:10,size:50,strokeWidth:6,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],children:function(e){return e.remainingTime}})})]})};function TL(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function IL(t,n){return e.useMemo((function(){return null==t&&null==n?null:function(e){TL(t,e),TL(n,e)}}),[t,n])}var RL="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function NL(t){var n=e.useRef(t);return RL((function(){n.current=t})),e.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var PL=!0,OL=!1,AL=null,DL={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function ML(e){e.metaKey||e.altKey||e.ctrlKey||(PL=!0)}function LL(){PL=!1}function FL(){"hidden"===this.visibilityState&&OL&&(PL=!0)}function UL(e){var t=e.target;try{return t.matches(":focus-visible")}catch(qd){}return PL||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!DL[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function jL(){OL=!0,window.clearTimeout(AL),AL=window.setTimeout((function(){OL=!1}),100)}function VL(){var t=e.useCallback((function(e){var t,n=o.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",ML,!0),t.addEventListener("mousedown",LL,!0),t.addEventListener("pointerdown",LL,!0),t.addEventListener("touchstart",LL,!0),t.addEventListener("visibilitychange",FL,!0))}),[]);return{isFocusVisible:UL,onBlurVisible:jL,ref:t}}var zL=e.createContext(null);function BL(t,n){var r=Object.create(null);return t&&e.Children.map(t,(function(e){return e})).forEach((function(t){r[t.key]=function(t){return n&&(0,e.isValidElement)(t)?n(t):t}(t)})),r}function qL(e,t,n){return null!=n[t]?n[t]:e.props[t]}function WL(t,n,r){var i=BL(t.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,i);return Object.keys(a).forEach((function(o){var s=a[o];if((0,e.isValidElement)(s)){var u=o in n,c=o in i,l=n[o],f=(0,e.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,e.isValidElement)(l)&&(a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:l.props.in,exit:qL(s,"exit",t),enter:qL(s,"enter",t)})):a[o]=(0,e.cloneElement)(s,{in:!1}):a[o]=(0,e.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:qL(s,"exit",t),enter:qL(s,"enter",t)})}})),a}var HL=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},KL=function(t){function n(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(bn(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}kn(n,t);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(t,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=t,i=o,BL(r.children,(function(t){return(0,e.cloneElement)(t,{onExited:i.bind(null,t),in:!0,appear:qL(t,"appear",r),enter:qL(t,"enter",r),exit:qL(t,"exit",r)})}))):WL(t,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=BL(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Tt({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var t=this.props,n=t.component,r=t.childFactory,i=ln(t,["component","childFactory"]),a=this.state.contextValue,o=HL(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?e.createElement(zL.Provider,{value:a},o):e.createElement(zL.Provider,{value:a},e.createElement(n,i,o))},n}(e.Component);KL.propTypes={},KL.defaultProps={component:"div",childFactory:function(e){return e}};var GL=KL,$L="undefined"===typeof window?e.useEffect:e.useLayoutEffect;var QL=function(t){var n=t.classes,r=t.pulsate,i=void 0!==r&&r,a=t.rippleX,o=t.rippleY,s=t.rippleSize,u=t.in,c=t.onExited,l=void 0===c?function(){}:c,f=t.timeout,h=e.useState(!1),d=h[0],p=h[1],v=dn(n.ripple,n.rippleVisible,i&&n.ripplePulsate),y={width:s,height:s,top:-s/2+o,left:-s/2+a},m=dn(n.child,d&&n.childLeaving,i&&n.childPulsate),g=NL(l);return $L((function(){if(!u){p(!0);var e=setTimeout(g,f);return function(){clearTimeout(e)}}}),[g,u,f]),e.createElement("span",{className:v,style:y},e.createElement("span",{className:m}))},XL=e.forwardRef((function(t,n){var r=t.center,i=void 0!==r&&r,a=t.classes,o=t.className,s=fn(t,["center","classes","className"]),u=e.useState([]),c=u[0],l=u[1],f=e.useRef(0),h=e.useRef(null);e.useEffect((function(){h.current&&(h.current(),h.current=null)}),[c]);var d=e.useRef(!1),p=e.useRef(null),v=e.useRef(null),y=e.useRef(null);e.useEffect((function(){return function(){clearTimeout(p.current)}}),[]);var m=e.useCallback((function(t){var n=t.pulsate,r=t.rippleX,i=t.rippleY,o=t.rippleSize,s=t.cb;l((function(t){return[].concat(vi(t),[e.createElement(QL,{key:f.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),f.current+=1,h.current=s}),[a]),g=e.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,s=void 0===o?i||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&d.current)d.current=!1;else{"touchstart"===e.type&&(d.current=!0);var l,f,h,g=c?null:y.current,k=g?g.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(k.width/2),f=Math.round(k.height/2);else{var b=e.touches?e.touches[0]:e,w=b.clientX,_=b.clientY;l=Math.round(w-k.left),f=Math.round(_-k.top)}if(s)(h=Math.sqrt((2*Math.pow(k.width,2)+Math.pow(k.height,2))/3))%2===0&&(h+=1);else{var S=2*Math.max(Math.abs((g?g.clientWidth:0)-l),l)+2,x=2*Math.max(Math.abs((g?g.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(S,2)+Math.pow(x,2))}e.touches?null===v.current&&(v.current=function(){m({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},p.current=setTimeout((function(){v.current&&(v.current(),v.current=null)}),80)):m({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,m]),k=e.useCallback((function(){g({},{pulsate:!0})}),[g]),b=e.useCallback((function(e,t){if(clearTimeout(p.current),"touchend"===e.type&&v.current)return e.persist(),v.current(),v.current=null,void(p.current=setTimeout((function(){b(e,t)})));v.current=null,l((function(e){return e.length>0?e.slice(1):e})),h.current=t}),[]);return e.useImperativeHandle(n,(function(){return{pulsate:k,start:g,stop:b}}),[k,g,b]),e.createElement("span",Tt({className:dn(a.root,o),ref:y},s),e.createElement(GL,{component:null,exit:!0},c))})),YL=Po((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(e.memo(XL)),JL=e.forwardRef((function(t,n){var r=t.action,i=t.buttonRef,a=t.centerRipple,s=void 0!==a&&a,u=t.children,c=t.classes,l=t.className,f=t.component,h=void 0===f?"button":f,d=t.disabled,p=void 0!==d&&d,v=t.disableRipple,y=void 0!==v&&v,m=t.disableTouchRipple,g=void 0!==m&&m,k=t.focusRipple,b=void 0!==k&&k,w=t.focusVisibleClassName,_=t.onBlur,S=t.onClick,x=t.onFocus,E=t.onFocusVisible,C=t.onKeyDown,T=t.onKeyUp,I=t.onMouseDown,R=t.onMouseLeave,N=t.onMouseUp,P=t.onTouchEnd,O=t.onTouchMove,A=t.onTouchStart,D=t.onDragLeave,M=t.tabIndex,L=void 0===M?0:M,F=t.TouchRippleProps,U=t.type,j=void 0===U?"button":U,V=fn(t,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),z=e.useRef(null);var B=e.useRef(null),q=e.useState(!1),W=q[0],H=q[1];p&&W&&H(!1);var K=VL(),G=K.isFocusVisible,$=K.onBlurVisible,Q=K.ref;function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return NL((function(r){return t&&t(r),!n&&B.current&&B.current[e](r),!0}))}e.useImperativeHandle(r,(function(){return{focusVisible:function(){H(!0),z.current.focus()}}}),[]),e.useEffect((function(){W&&b&&!y&&B.current.pulsate()}),[y,b,W]);var Y=X("start",I),J=X("stop",D),Z=X("stop",N),ee=X("stop",(function(e){W&&e.preventDefault(),R&&R(e)})),te=X("start",A),ne=X("stop",P),re=X("stop",O),ie=X("stop",(function(e){W&&($(e),H(!1)),_&&_(e)}),!1),ae=NL((function(e){z.current||(z.current=e.currentTarget),G(e)&&(H(!0),E&&E(e)),x&&x(e)})),oe=function(){var e=o.findDOMNode(z.current);return h&&"button"!==h&&!("A"===e.tagName&&e.href)},se=e.useRef(!1),ue=NL((function(e){b&&!se.current&&W&&B.current&&" "===e.key&&(se.current=!0,e.persist(),B.current.stop(e,(function(){B.current.start(e)}))),e.target===e.currentTarget&&oe()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&oe()&&"Enter"===e.key&&!p&&(e.preventDefault(),S&&S(e))})),ce=NL((function(e){b&&" "===e.key&&B.current&&W&&!e.defaultPrevented&&(se.current=!1,e.persist(),B.current.stop(e,(function(){B.current.pulsate(e)}))),T&&T(e),S&&e.target===e.currentTarget&&oe()&&" "===e.key&&!e.defaultPrevented&&S(e)})),le=h;"button"===le&&V.href&&(le="a");var fe={};"button"===le?(fe.type=j,fe.disabled=p):("a"===le&&V.href||(fe.role="button"),fe["aria-disabled"]=p);var he=IL(i,n),de=IL(Q,z),pe=IL(he,de),ve=e.useState(!1),ye=ve[0],me=ve[1];e.useEffect((function(){me(!0)}),[]);var ge=ye&&!y&&!p;return e.createElement(le,Tt({className:dn(c.root,l,W&&[c.focusVisible,w],p&&c.disabled),onBlur:ie,onClick:S,onFocus:ae,onKeyDown:ue,onKeyUp:ce,onMouseDown:Y,onMouseLeave:ee,onMouseUp:Z,onDragLeave:J,onTouchEnd:ne,onTouchMove:re,onTouchStart:te,ref:pe,tabIndex:p?-1:L},fe,V),u,ge?e.createElement(YL,Tt({ref:B,center:s},F)):null)})),ZL=Po({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(JL),eF=e.forwardRef((function(t,n){var r=t.children,i=t.classes,a=t.className,o=t.color,s=void 0===o?"default":o,u=t.component,c=void 0===u?"button":u,l=t.disabled,f=void 0!==l&&l,h=t.disableElevation,d=void 0!==h&&h,p=t.disableFocusRipple,v=void 0!==p&&p,y=t.endIcon,m=t.focusVisibleClassName,g=t.fullWidth,k=void 0!==g&&g,b=t.size,w=void 0===b?"medium":b,_=t.startIcon,S=t.type,x=void 0===S?"button":S,E=t.variant,C=void 0===E?"text":E,T=fn(t,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),I=_&&e.createElement("span",{className:dn(i.startIcon,i["iconSize".concat(Oo(w))])},_),R=y&&e.createElement("span",{className:dn(i.endIcon,i["iconSize".concat(Oo(w))])},y);return e.createElement(ZL,Tt({className:dn(i.root,i[C],a,"inherit"===s?i.colorInherit:"default"!==s&&i["".concat(C).concat(Oo(s))],"medium"!==w&&[i["".concat(C,"Size").concat(Oo(w))],i["size".concat(Oo(w))]],d&&i.disableElevation,f&&i.disabled,k&&i.fullWidth),component:c,disabled:f,focusRipple:!v,focusVisibleClassName:dn(i.focusVisible,m),ref:n,type:x},T),e.createElement("span",{className:i.label},I,r,R))})),tF=Po((function(e){return{root:Tt({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Xa(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Xa(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Xa(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Xa(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Xa(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Xa(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Xa(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(eF);var nF=function(){var e=C(),t=function(){var t=bf(gf().mark((function t(){return gf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vw(zM,qM).then((function(t){e(gt({username:t.user.displayName,profilePic:t.user.photoURL,id:t.user.uid}))})).catch((function(e){return alert(e.message)}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,Fo.jsx)("div",{className:"login",children:(0,Fo.jsxs)("div",{className:"login_container",children:[(0,Fo.jsx)("img",{src:"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg",alt:""}),(0,Fo.jsx)(tF,{variant:"outlined",onClick:t,children:" SignIn"})]})})};var rF=function(){var t=v(vt),n=C();return(0,e.useEffect)((function(){!function(e,t,n,r){mh(e).onAuthStateChanged(t,n,r)}(zM,(function(e){n(e?gt({username:e.displayName,profilePic:e.photoURL,id:e.uid}):kt())}))}),[]),(0,Fo.jsx)("div",{className:"app",children:t?(0,Fo.jsxs)("div",{className:"bodyapp",children:[(0,Fo.jsx)("img",{src:"https://scx2.b-cdn.net/gfx/news/2017/1-snapchat.jpg",alt:""}),(0,Fo.jsx)("div",{className:"bodyBackground",children:(0,Fo.jsxs)("div",{className:"app_body",children:[(0,Fo.jsxs)(on,{children:[(0,Fo.jsx)(rn,{path:"/",element:(0,Fo.jsx)(jo,{})}),(0,Fo.jsx)(rn,{path:"/preview",element:(0,Fo.jsx)(JM,{})}),(0,Fo.jsx)(rn,{path:"/chats",element:(0,Fo.jsx)(yL,{})}),(0,Fo.jsx)(rn,{path:"/chats/view",element:(0,Fo.jsx)(CL,{})})]})," "]})})]}):(0,Fo.jsx)(nF,{})})},iF=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function aF(t){var n=t.basename,r=t.children,i=t.window,a=(0,e.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,It({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(Nt,(function(){if(a)f.call(a),a=null;else{var e=ot.Pop,t=i(),n=t[0],r=t[1];if(f.length){if(null!=n){var o=u-n;o&&(a={action:e,location:r,retry:function(){m(-1*o)}},m(o))}}else y(e)}}));var o=ot.Pop,s=i(),u=s[0],c=s[1],l=Ot(),f=Ot();function h(e){return"string"===typeof e?e:Dt(e)}function d(e,t){return void 0===t&&(t=null),It(Tt({pathname:c.pathname,hash:"",search:""},"string"===typeof e?Mt(e):e,{state:t,key:At()}))}function p(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function v(e,t,n){return!f.length||(f.call({action:e,location:t,retry:n}),!1)}function y(e){o=e;var t=i();u=t[0],c=t[1],l.call({action:o,location:c})}function m(e){r.go(e)}null==u&&(u=0,r.replaceState(Tt({},r.state,{idx:u}),""));var g={get action(){return o},get location(){return c},createHref:h,push:function e(t,i){var a=ot.Push,o=d(t,i);if(v(a,o,(function(){e(t,i)}))){var s=p(o,u+1),c=s[0],l=s[1];try{r.pushState(c,"",l)}catch(qd){n.location.assign(l)}y(a)}},replace:function e(t,n){var i=ot.Replace,a=d(t,n);if(v(i,a,(function(){e(t,n)}))){var o=p(a,u),s=o[0],c=o[1];r.replaceState(s,"",c),y(i)}},go:m,back:function(){m(-1)},forward:function(){m(1)},listen:function(e){return l.push(e)},block:function(e){var t=f.push(e);return 1===f.length&&n.addEventListener(Rt,Pt),function(){t(),f.length||n.removeEventListener(Rt,Pt)}}};return g}({window:i}));var o=a.current,s=Ct((0,e.useState)({action:o.action,location:o.location}),2),u=s[0],c=s[1];return(0,e.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,e.createElement)(an,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var oF=document.getElementById("root");(0,r.s)(oF).render((0,Fo.jsx)(e.StrictMode,{children:(0,Fo.jsx)(aF,{children:(0,Fo.jsx)(w,{store:wt,children:(0,Fo.jsx)(rF,{})})})})),iF()}()}();
//# sourceMappingURL=main.57da1cd0.js.map